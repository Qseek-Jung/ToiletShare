var dU=Object.defineProperty,fU=Object.defineProperties;var hU=Object.getOwnPropertyDescriptors;var Sg=Object.getOwnPropertySymbols;var $A=Object.prototype.hasOwnProperty,PA=Object.prototype.propertyIsEnumerable;var ku=Math.pow,rx=(t,e,r)=>e in t?dU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J=(t,e)=>{for(var r in e||(e={}))$A.call(e,r)&&rx(t,r,e[r]);if(Sg)for(var r of Sg(e))PA.call(e,r)&&rx(t,r,e[r]);return t},je=(t,e)=>fU(t,hU(e));var Su=(t,e)=>{var r={};for(var n in t)$A.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Sg)for(var n of Sg(t))e.indexOf(n)<0&&PA.call(t,n)&&(r[n]=t[n]);return r};var Ke=(t,e,r)=>rx(t,typeof e!="symbol"?e+"":e,r);var T=(t,e,r)=>new Promise((n,a)=>{var s=d=>{try{u(r.next(d))}catch(h){a(h)}},l=d=>{try{u(r.throw(d))}catch(h){a(h)}},u=d=>d.done?n(d.value):Promise.resolve(d.value).then(s,l);u((r=r.apply(t,e)).next())});function F$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var gl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var nx={exports:{}},Of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function mU(){if(RA)return Of;RA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Of.Fragment=e,Of.jsx=r,Of.jsxs=r,Of}var DA;function gU(){return DA||(DA=1,nx.exports=mU()),nx.exports}var i=gU(),ax={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function pU(){if(LA)return yt;LA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function k(M,G,q){this.props=M,this.context=G,this.refs=j,this.updater=q||_}k.prototype.isReactComponent={},k.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=k.prototype;function S(M,G,q){this.props=M,this.context=G,this.refs=j,this.updater=q||_}var P=S.prototype=new E;P.constructor=S,w(P,k.prototype),P.isPureReactComponent=!0;var C=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function H(M,G,q){var ae=q.ref;return{$$typeof:t,type:M,key:G,ref:ae!==void 0?ae:null,props:q}}function se(M,G){return H(M.type,G,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function R(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return G[q]})}var L=/\/+/g;function V(M,G){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):G.toString(36)}function Z(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,G,q,ae,ie){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var te=!1;if(M===null)te=!0;else switch(be){case"bigint":case"string":case"number":te=!0;break;case"object":switch(M.$$typeof){case t:case e:te=!0;break;case m:return te=M._init,U(te(M._payload),G,q,ae,ie)}}if(te)return ie=ie(M),te=ae===""?"."+V(M,0):ae,C(ie)?(q="",te!=null&&(q=te.replace(L,"$&/")+"/"),U(ie,G,q,"",function(we){return we})):ie!=null&&(D(ie)&&(ie=se(ie,q+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(L,"$&/")+"/")+te)),G.push(ie)),1;te=0;var he=ae===""?".":ae+":";if(C(M))for(var Y=0;Y<M.length;Y++)ae=M[Y],be=he+V(ae,Y),te+=U(ae,G,q,be,ie);else if(Y=y(M),typeof Y=="function")for(M=Y.call(M),Y=0;!(ae=M.next()).done;)ae=ae.value,be=he+V(ae,Y++),te+=U(ae,G,q,be,ie);else if(be==="object"){if(typeof M.then=="function")return U(Z(M),G,q,ae,ie);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return te}function K(M,G,q){if(M==null)return M;var ae=[],ie=0;return U(M,ae,"","",function(be){return G.call(q,be,ie++)}),ae}function W(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var X=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Q={map:K,forEach:function(M,G,q){K(M,function(){G.apply(this,arguments)},q)},count:function(M){var G=0;return K(M,function(){G++}),G},toArray:function(M){return K(M,function(G){return G})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return yt.Activity=p,yt.Children=Q,yt.Component=k,yt.Fragment=r,yt.Profiler=a,yt.PureComponent=S,yt.StrictMode=n,yt.Suspense=d,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,yt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return $.H.useMemoCache(M)}},yt.cache=function(M){return function(){return M.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(M,G,q){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=w({},M.props),ie=M.key;if(G!=null)for(be in G.key!==void 0&&(ie=""+G.key),G)!B.call(G,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&G.ref===void 0||(ae[be]=G[be]);var be=arguments.length-2;if(be===1)ae.children=q;else if(1<be){for(var te=Array(be),he=0;he<be;he++)te[he]=arguments[he+2];ae.children=te}return H(M.type,ie,ae)},yt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},yt.createElement=function(M,G,q){var ae,ie={},be=null;if(G!=null)for(ae in G.key!==void 0&&(be=""+G.key),G)B.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ie[ae]=G[ae]);var te=arguments.length-2;if(te===1)ie.children=q;else if(1<te){for(var he=Array(te),Y=0;Y<te;Y++)he[Y]=arguments[Y+2];ie.children=he}if(M&&M.defaultProps)for(ae in te=M.defaultProps,te)ie[ae]===void 0&&(ie[ae]=te[ae]);return H(M,be,ie)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(M){return{$$typeof:u,render:M}},yt.isValidElement=D,yt.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:W}},yt.memo=function(M,G){return{$$typeof:h,type:M,compare:G===void 0?null:G}},yt.startTransition=function(M){var G=$.T,q={};$.T=q;try{var ae=M(),ie=$.S;ie!==null&&ie(q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(I,X)}catch(be){X(be)}finally{G!==null&&q.types!==null&&(G.types=q.types),$.T=G}},yt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},yt.use=function(M){return $.H.use(M)},yt.useActionState=function(M,G,q){return $.H.useActionState(M,G,q)},yt.useCallback=function(M,G){return $.H.useCallback(M,G)},yt.useContext=function(M){return $.H.useContext(M)},yt.useDebugValue=function(){},yt.useDeferredValue=function(M,G){return $.H.useDeferredValue(M,G)},yt.useEffect=function(M,G){return $.H.useEffect(M,G)},yt.useEffectEvent=function(M){return $.H.useEffectEvent(M)},yt.useId=function(){return $.H.useId()},yt.useImperativeHandle=function(M,G,q){return $.H.useImperativeHandle(M,G,q)},yt.useInsertionEffect=function(M,G){return $.H.useInsertionEffect(M,G)},yt.useLayoutEffect=function(M,G){return $.H.useLayoutEffect(M,G)},yt.useMemo=function(M,G){return $.H.useMemo(M,G)},yt.useOptimistic=function(M,G){return $.H.useOptimistic(M,G)},yt.useReducer=function(M,G,q){return $.H.useReducer(M,G,q)},yt.useRef=function(M){return $.H.useRef(M)},yt.useState=function(M){return $.H.useState(M)},yt.useSyncExternalStore=function(M,G,q){return $.H.useSyncExternalStore(M,G,q)},yt.useTransition=function(){return $.H.useTransition()},yt.version="19.2.0",yt}var IA;function Sd(){return IA||(IA=1,ax.exports=pU()),ax.exports}var x=Sd();const Dr=_s(x),bU=F$({__proto__:null,default:Dr},[x]);var sx={exports:{}},Cf={},ix={exports:{}},ox={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function yU(){return MA||(MA=1,(function(t){function e(U,K){var W=U.length;U.push(K);e:for(;0<W;){var X=W-1>>>1,Q=U[X];if(0<a(Q,K))U[X]=K,U[W]=Q,W=X;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],W=U.pop();if(W!==K){U[0]=W;e:for(var X=0,Q=U.length,M=Q>>>1;X<M;){var G=2*(X+1)-1,q=U[G],ae=G+1,ie=U[ae];if(0>a(q,W))ae<Q&&0>a(ie,q)?(U[X]=ie,U[ae]=W,X=ae):(U[X]=q,U[G]=W,X=G);else if(ae<Q&&0>a(ie,W))U[X]=ie,U[ae]=W,X=ae;else break e}}return K}function a(U,K){var W=U.sortIndex-K.sortIndex;return W!==0?W:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,p=null,b=3,y=!1,_=!1,w=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;function P(U){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=U)n(h),K.sortIndex=K.expirationTime,e(d,K);else break;K=r(h)}}function C(U){if(w=!1,P(U),!_)if(r(d)!==null)_=!0,I||(I=!0,R());else{var K=r(h);K!==null&&Z(C,K.startTime-U)}}var I=!1,$=-1,B=5,H=-1;function se(){return j?!0:!(t.unstable_now()-H<B)}function D(){if(j=!1,I){var U=t.unstable_now();H=U;var K=!0;try{e:{_=!1,w&&(w=!1,E($),$=-1),y=!0;var W=b;try{t:{for(P(U),p=r(d);p!==null&&!(p.expirationTime>U&&se());){var X=p.callback;if(typeof X=="function"){p.callback=null,b=p.priorityLevel;var Q=X(p.expirationTime<=U);if(U=t.unstable_now(),typeof Q=="function"){p.callback=Q,P(U),K=!0;break t}p===r(d)&&n(d),P(U)}else n(d);p=r(d)}if(p!==null)K=!0;else{var M=r(h);M!==null&&Z(C,M.startTime-U),K=!1}}break e}finally{p=null,b=W,y=!1}K=void 0}}finally{K?R():I=!1}}}var R;if(typeof S=="function")R=function(){S(D)};else if(typeof MessageChannel!="undefined"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=D,R=function(){V.postMessage(null)}}else R=function(){k(D,0)};function Z(U,K){$=k(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var W=b;b=K;try{return U()}finally{b=W}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=b;b=U;try{return K()}finally{b=W}},t.unstable_scheduleCallback=function(U,K,W){var X=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,U={id:m++,callback:K,priorityLevel:U,startTime:W,expirationTime:Q,sortIndex:-1},W>X?(U.sortIndex=W,e(h,U),r(d)===null&&U===r(h)&&(w?(E($),$=-1):w=!0,Z(C,W-X))):(U.sortIndex=Q,e(d,U),_||y||(_=!0,I||(I=!0,R()))),U},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(U){var K=b;return function(){var W=b;b=K;try{return U.apply(this,arguments)}finally{b=W}}}})(ox)),ox}var UA;function _U(){return UA||(UA=1,ix.exports=yU()),ix.exports}var lx={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function xU(){if(qA)return Zn;qA=1;var t=Sd();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Zn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},Zn.flushSync=function(d){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=h,n.p=m,n.d.f()}},Zn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},Zn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Zn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,p=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},Zn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=u(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},Zn.requestFormReset=function(d){n.d.r(d)},Zn.unstable_batchedUpdates=function(d,h){return d(h)},Zn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Zn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zn.version="19.2.0",Zn}var BA;function H$(){if(BA)return lx.exports;BA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lx.exports=xU(),lx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function vU(){if(zA)return Cf;zA=1;var t=_U(),e=Sd(),r=H$();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(n(188))}function h(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,g=c;;){var v=f.return;if(v===null)break;var N=v.alternate;if(N===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===f)return d(v),o;if(N===g)return d(v),c;N=N.sibling}throw Error(n(188))}if(f.return!==g.return)f=v,g=N;else{for(var O=!1,z=v.child;z;){if(z===f){O=!0,f=v,g=N;break}if(z===g){O=!0,g=v,f=N;break}z=z.sibling}if(!O){for(z=N.child;z;){if(z===f){O=!0,f=N,g=v;break}if(z===g){O=!0,g=N,f=v;break}z=z.sibling}if(!O)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function R(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var L=Symbol.for("react.client.reference");function V(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===L?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case S:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return c=o.displayName||null,c!==null?c:V(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return V(o(c))}catch(f){}}return null}var Z=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},X=[],Q=-1;function M(o){return{current:o}}function G(o){0>Q||(o.current=X[Q],X[Q]=null,Q--)}function q(o,c){Q++,X[Q]=o.current,o.current=c}var ae=M(null),ie=M(null),be=M(null),te=M(null);function he(o,c){switch(q(be,c),q(ie,o),q(ae,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?tA(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=tA(c),o=rA(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}G(ae),q(ae,o)}function Y(){G(ae),G(ie),G(be)}function we(o){o.memoizedState!==null&&q(te,o);var c=ae.current,f=rA(c,o.type);c!==f&&(q(ie,o),q(ae,f))}function Ce(o){ie.current===o&&(G(ae),G(ie)),te.current===o&&(G(te),Sf._currentValue=W)}var ce,ue;function Ie(o){if(ce===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ce=c&&c[1]||"",ue=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+ue}var Ve=!1;function Ze(o,c){if(!o||Ve)return"";Ve=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(ke){var _e=ke}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(ke){_e=ke}o.call($e.prototype)}}else{try{throw Error()}catch(ke){_e=ke}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(ke){if(ke&&_e&&typeof ke.stack=="string")return[ke.stack,_e.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),O=N[0],z=N[1];if(O&&z){var ee=O.split(`
`),pe=z.split(`
`);for(v=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;v<pe.length&&!pe[v].includes("DetermineComponentFrameRoot");)v++;if(g===ee.length||v===pe.length)for(g=ee.length-1,v=pe.length-1;1<=g&&0<=v&&ee[g]!==pe[v];)v--;for(;1<=g&&0<=v;g--,v--)if(ee[g]!==pe[v]){if(g!==1||v!==1)do if(g--,v--,0>v||ee[g]!==pe[v]){var Ee=`
`+ee[g].replace(" at new "," at ");return o.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",o.displayName)),Ee}while(1<=g&&0<=v);break}}}finally{Ve=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ie(f):""}function ve(o,c){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==c&&c!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Ze(o.type,!1);case 11:return Ze(o.type.render,!1);case 1:return Ze(o.type,!0);case 31:return Ie("Activity");default:return""}}function Re(o){try{var c="",f=null;do c+=ve(o,f),f=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var bt=Object.prototype.hasOwnProperty,hr=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,Mn=t.unstable_shouldYield,Wr=t.unstable_requestPaint,St=t.unstable_now,yr=t.unstable_getCurrentPriorityLevel,an=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,jt=t.unstable_NormalPriority,Yr=t.unstable_LowPriority,Gt=t.unstable_IdlePriority,bn=t.log,sn=t.unstable_setDisableYieldValue,yn=null,Ht=null;function Le(o){if(typeof bn=="function"&&sn(o),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(yn,o)}catch(c){}}var Ae=Math.clz32?Math.clz32:Ue,We=Math.log,Oe=Math.LN2;function Ue(o){return o>>>=0,o===0?32:31-(We(o)/Oe|0)|0}var Fe=256,ot=262144,_t=4194304;function Et(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function mt(o,c,f){var g=o.pendingLanes;if(g===0)return 0;var v=0,N=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var z=g&134217727;return z!==0?(g=z&~N,g!==0?v=Et(g):(O&=z,O!==0?v=Et(O):f||(f=z&~o,f!==0&&(v=Et(f))))):(z=g&~N,z!==0?v=Et(z):O!==0?v=Et(O):f||(f=g&~o,f!==0&&(v=Et(f)))),v===0?0:c!==0&&c!==v&&(c&N)===0&&(N=v&-v,f=c&-c,N>=f||N===32&&(f&4194048)!==0)?c:v}function Pt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function _r(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var o=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),o}function Xr(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function on(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function gt(o,c,f,g,v,N){var O=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var z=o.entanglements,ee=o.expirationTimes,pe=o.hiddenUpdates;for(f=O&~f;0<f;){var Ee=31-Ae(f),$e=1<<Ee;z[Ee]=0,ee[Ee]=-1;var _e=pe[Ee];if(_e!==null)for(pe[Ee]=null,Ee=0;Ee<_e.length;Ee++){var ke=_e[Ee];ke!==null&&(ke.lane&=-536870913)}f&=~$e}g!==0&&It(o,g,0),N!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=N&~(O&~c))}function It(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ae(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|f&261930}function Jt(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var g=31-Ae(f),v=1<<g;v&c|o[g]&c&&(o[g]|=c),f&=~v}}function Aa(o,c){var f=c&-c;return f=(f&42)!==0?1:sa(f),(f&(o.suspendedLanes|c))!==0?0:f}function sa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ar(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function sr(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:kA(o.type))}function Ta(o,c){var f=K.p;try{return K.p=o,c()}finally{K.p=f}}var Mr=Math.random().toString(36).slice(2),ir="__reactFiber$"+Mr,xr="__reactProps$"+Mr,Wt="__reactContainer$"+Mr,Nt="__reactEvents$"+Mr,ga="__reactListeners$"+Mr,Rt="__reactHandles$"+Mr,vt="__reactResources$"+Mr,ne="__reactMarker$"+Mr;function xe(o){delete o[ir],delete o[xr],delete o[Nt],delete o[ga],delete o[Rt]}function Se(o){var c=o[ir];if(c)return c;for(var f=o.parentNode;f;){if(c=f[Wt]||f[ir]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=cA(o);o!==null;){if(f=o[ir])return f;o=cA(o)}return c}o=f,f=o.parentNode}return null}function De(o){if(o=o[ir]||o[Wt]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Me(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function ye(o){var c=o[vt];return c||(c=o[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ze(o){o[ne]=!0}var He=new Set,lt={};function Ut(o,c){Ur(o,c),Ur(o+"Capture",c)}function Ur(o,c){for(lt[o]=c,o=0;o<c.length;o++)He.add(c[o])}var qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},Tn={};function Gs(o){return bt.call(Tn,o)?!0:bt.call(ia,o)?!1:qr.test(o)?Tn[o]=!0:(ia[o]=!0,!1)}function Ao(o,c,f){if(Gs(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function To(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function Oa(o,c,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+g)}}function _n(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Oo(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ai(o,c,f){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g!="undefined"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,N=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return v.call(this)},set:function(O){f=""+O,N.call(this,O)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Co(o){if(!o._valueTracker){var c=Oo(o)?"checked":"value";o._valueTracker=Ai(o,c,""+o[c])}}function Ll(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return o&&(g=Oo(o)?o.checked?"true":"false":o.value),o=g,o!==f?(c.setValue(o),!0):!1}function $o(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(c){return o.body}}var Fd=/[\n"\\]/g;function Wn(o){return o.replace(Fd,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Il(o,c,f,g,v,N,O,z){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+_n(c)):o.value!==""+_n(c)&&(o.value=""+_n(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?Ml(o,O,_n(c)):f!=null?Ml(o,O,_n(f)):g!=null&&o.removeAttribute("value"),v==null&&N!=null&&(o.defaultChecked=!!N),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+_n(z):o.removeAttribute("name")}function Po(o,c,f,g,v,N,O,z){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){Co(o);return}f=f!=null?""+_n(f):"",c=c!=null?""+_n(c):f,z||c===o.value||(o.value=c),o.defaultValue=c}g=g!=null?g:v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=z?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),Co(o)}function Ml(o,c,f){c==="number"&&$o(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ws(o,c,f,g){if(o=o.options,c){c={};for(var v=0;v<f.length;v++)c["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=c.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&g&&(o[f].defaultSelected=!0)}else{for(f=""+_n(f),c=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}c!==null||o[v].disabled||(c=o[v])}c!==null&&(c.selected=!0)}}function Ys(o,c,f){if(c!=null&&(c=""+_n(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+_n(f):""}function pa(o,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(n(92));if(Z(g)){if(1<g.length)throw Error(n(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=_n(c),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g),Co(o)}function Yn(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(o,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,f):typeof f!="number"||f===0||vs.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function Ca(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&f[v]!==g&&Kc(o,v,g)}else for(var N in c)c.hasOwnProperty(N)&&Kc(o,N,c[N])}function Ul(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(o){return Kd.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ba(){}var xn=null;function Do(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ws=null,$a=null;function Lo(o){var c=De(o);if(c&&(o=c.stateNode)){var f=o[xr]||null;e:switch(o=c.stateNode,c.type){case"input":if(Il(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Wn(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==o&&g.form===o.form){var v=g[xr]||null;if(!v)throw Error(n(90));Il(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===o.form&&Ll(g)}break e;case"textarea":Ys(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Ws(o,!!f.multiple,c,!1)}}}var Xs=!1;function Vc(o,c,f){if(Xs)return o(c,f);Xs=!0;try{var g=o(c);return g}finally{if(Xs=!1,(ws!==null||$a!==null)&&(ag(),ws&&(c=ws,o=$a,$a=ws=null,Lo(c),o)))for(c=0;c<o.length;c++)Lo(o[c])}}function Zs(o,c){var f=o.stateNode;if(f===null)return null;var g=f[xr]||null;if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var oa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Io=!1;if(oa)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch(o){Io=!1}var Pa=null,Ti=null,Mo=null;function Gc(){if(Mo)return Mo;var o,c=Ti,f=c.length,g,v="value"in Pa?Pa.value:Pa.textContent,N=v.length;for(o=0;o<f&&c[o]===v[o];o++);var O=f-o;for(g=1;g<=O&&c[f-g]===v[N-g];g++);return Mo=v.slice(o,1<g?1-g:void 0)}function A(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function F(){return!0}function re(){return!1}function Ne(o){function c(f,g,v,N,O){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(f=o[z],this[z]=f?f(N):N[z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?F:re,this.isPropagationStopped=re,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=F)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=F)},persist:function(){},isPersistent:F}),c}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tt=Ne(ct),kt=p({},ct,{view:0,detail:0}),Dt=Ne(kt),Ar,Mt,Br,vn=p({},kt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Br&&(Br&&o.type==="mousemove"?(Ar=o.screenX-Br.screenX,Mt=o.screenY-Br.screenY):Mt=Ar=0,Br=o),Ar)},movementY:function(o){return"movementY"in o?o.movementY:Mt}}),zr=Ne(vn),On=p({},vn,{dataTransfer:0}),wn=Ne(On),Js=p({},kt,{relatedTarget:0}),Ra=Ne(Js),Oi=p({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=Ne(Oi),Wc=p({},ct,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Yc=Ne(Wc),b7=p({},ct,{data:0}),sk=Ne(b7),y7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v7(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=x7[o])?!!c[o]:!1}function oy(){return v7}var w7=p({},kt,{key:function(o){if(o.key){var c=y7[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=A(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_7[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(o){return o.type==="keypress"?A(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?A(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),j7=Ne(w7),N7=p({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ik=Ne(N7),k7=p({},kt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),S7=Ne(k7),E7=p({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),A7=Ne(E7),T7=p({},vn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),O7=Ne(T7),C7=p({},ct,{newState:0,oldState:0}),$7=Ne(C7),P7=[9,13,27,32],ly=oa&&"CompositionEvent"in window,Vd=null;oa&&"documentMode"in document&&(Vd=document.documentMode);var R7=oa&&"TextEvent"in window&&!Vd,ok=oa&&(!ly||Vd&&8<Vd&&11>=Vd),lk=" ",ck=!1;function uk(o,c){switch(o){case"keyup":return P7.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dk(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xc=!1;function D7(o,c){switch(o){case"compositionend":return dk(c);case"keypress":return c.which!==32?null:(ck=!0,lk);case"textInput":return o=c.data,o===lk&&ck?null:o;default:return null}}function L7(o,c){if(Xc)return o==="compositionend"||!ly&&uk(o,c)?(o=Gc(),Mo=Ti=Pa=null,Xc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ok&&c.locale!=="ko"?null:c.data;default:return null}}var I7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fk(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!I7[o.type]:c==="textarea"}function hk(o,c,f,g){ws?$a?$a.push(g):$a=[g]:ws=g,c=dg(c,"onChange"),0<c.length&&(f=new tt("onChange","change",null,f,g),o.push({event:f,listeners:c}))}var Gd=null,Wd=null;function M7(o){YE(o,0)}function jm(o){var c=Me(o);if(Ll(c))return o}function mk(o,c){if(o==="change")return c}var gk=!1;if(oa){var cy;if(oa){var uy="oninput"in document;if(!uy){var pk=document.createElement("div");pk.setAttribute("oninput","return;"),uy=typeof pk.oninput=="function"}cy=uy}else cy=!1;gk=cy&&(!document.documentMode||9<document.documentMode)}function bk(){Gd&&(Gd.detachEvent("onpropertychange",yk),Wd=Gd=null)}function yk(o){if(o.propertyName==="value"&&jm(Wd)){var c=[];hk(c,Wd,o,Do(o)),Vc(M7,c)}}function U7(o,c,f){o==="focusin"?(bk(),Gd=c,Wd=f,Gd.attachEvent("onpropertychange",yk)):o==="focusout"&&bk()}function q7(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return jm(Wd)}function B7(o,c){if(o==="click")return jm(c)}function z7(o,c){if(o==="input"||o==="change")return jm(c)}function F7(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Da=typeof Object.is=="function"?Object.is:F7;function Yd(o,c){if(Da(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!bt.call(c,v)||!Da(o[v],c[v]))return!1}return!0}function _k(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xk(o,c){var f=_k(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=c&&g>=c)return{node:f,offset:c-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=_k(f)}}function vk(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?vk(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function wk(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=$o(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch(g){f=!1}if(f)o=c.contentWindow;else break;c=$o(o.document)}return c}function dy(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var H7=oa&&"documentMode"in document&&11>=document.documentMode,Zc=null,fy=null,Xd=null,hy=!1;function jk(o,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;hy||Zc==null||Zc!==$o(g)||(g=Zc,"selectionStart"in g&&dy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Xd&&Yd(Xd,g)||(Xd=g,g=dg(fy,"onSelect"),0<g.length&&(c=new tt("onSelect","select",null,c,f),o.push({event:c,listeners:g}),c.target=Zc)))}function ql(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Jc={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},my={},Nk={};oa&&(Nk=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Bl(o){if(my[o])return my[o];if(!Jc[o])return o;var c=Jc[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Nk)return my[o]=c[f];return o}var kk=Bl("animationend"),Sk=Bl("animationiteration"),Ek=Bl("animationstart"),K7=Bl("transitionrun"),V7=Bl("transitionstart"),G7=Bl("transitioncancel"),Ak=Bl("transitionend"),Tk=new Map,gy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gy.push("scrollEnd");function js(o,c){Tk.set(o,c),Ut(c,[o])}var Nm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ya=[],Qc=0,py=0;function km(){for(var o=Qc,c=py=Qc=0;c<o;){var f=Ya[c];Ya[c++]=null;var g=Ya[c];Ya[c++]=null;var v=Ya[c];Ya[c++]=null;var N=Ya[c];if(Ya[c++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}N!==0&&Ok(f,v,N)}}function Sm(o,c,f,g){Ya[Qc++]=o,Ya[Qc++]=c,Ya[Qc++]=f,Ya[Qc++]=g,py|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function by(o,c,f,g){return Sm(o,c,f,g),Em(o)}function zl(o,c){return Sm(o,null,null,c),Em(o)}function Ok(o,c,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var v=!1,N=o.return;N!==null;)N.childLanes|=f,g=N.alternate,g!==null&&(g.childLanes|=f),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(v=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,v&&c!==null&&(v=31-Ae(f),o=N.hiddenUpdates,g=o[v],g===null?o[v]=[c]:g.push(c),c.lane=f|536870912),N):null}function Em(o){if(50<_f)throw _f=0,S_=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var eu={};function W7(o,c,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(o,c,f,g){return new W7(o,c,f,g)}function yy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ci(o,c){var f=o.alternate;return f===null?(f=La(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Ck(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Am(o,c,f,g,v,N){var O=0;if(g=o,typeof o=="function")yy(o)&&(O=1);else if(typeof o=="string")O=Q9(o,f,ae.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=La(31,f,c,v),o.elementType=H,o.lanes=N,o;case w:return Fl(f.children,v,N,c);case j:O=8,v|=24;break;case k:return o=La(12,f,c,v|2),o.elementType=k,o.lanes=N,o;case C:return o=La(13,f,c,v),o.elementType=C,o.lanes=N,o;case I:return o=La(19,f,c,v),o.elementType=I,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:O=10;break e;case E:O=9;break e;case P:O=11;break e;case $:O=14;break e;case B:O=16,g=null;break e}O=29,f=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=La(O,f,c,v),c.elementType=o,c.type=g,c.lanes=N,c}function Fl(o,c,f,g){return o=La(7,o,g,c),o.lanes=f,o}function _y(o,c,f){return o=La(6,o,null,c),o.lanes=f,o}function $k(o){var c=La(18,null,null,0);return c.stateNode=o,c}function xy(o,c,f){return c=La(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Pk=new WeakMap;function Xa(o,c){if(typeof o=="object"&&o!==null){var f=Pk.get(o);return f!==void 0?f:(c={value:o,source:c,stack:Re(c)},Pk.set(o,c),c)}return{value:o,source:c,stack:Re(c)}}var tu=[],ru=0,Tm=null,Zd=0,Za=[],Ja=0,Uo=null,Qs=1,ei="";function $i(o,c){tu[ru++]=Zd,tu[ru++]=Tm,Tm=o,Zd=c}function Rk(o,c,f){Za[Ja++]=Qs,Za[Ja++]=ei,Za[Ja++]=Uo,Uo=o;var g=Qs;o=ei;var v=32-Ae(g)-1;g&=~(1<<v),f+=1;var N=32-Ae(c)+v;if(30<N){var O=v-v%5;N=(g&(1<<O)-1).toString(32),g>>=O,v-=O,Qs=1<<32-Ae(c)+v|f<<v|g,ei=N+o}else Qs=1<<N|f<<v|g,ei=o}function vy(o){o.return!==null&&($i(o,1),Rk(o,1,0))}function wy(o){for(;o===Tm;)Tm=tu[--ru],tu[ru]=null,Zd=tu[--ru],tu[ru]=null;for(;o===Uo;)Uo=Za[--Ja],Za[Ja]=null,ei=Za[--Ja],Za[Ja]=null,Qs=Za[--Ja],Za[Ja]=null}function Dk(o,c){Za[Ja++]=Qs,Za[Ja++]=ei,Za[Ja++]=Uo,Qs=c.id,ei=c.overflow,Uo=o}var Un=null,vr=null,Lt=!1,qo=null,Qa=!1,jy=Error(n(519));function Bo(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jd(Xa(c,o)),jy}function Lk(o){var c=o.stateNode,f=o.type,g=o.memoizedProps;switch(c[ir]=o,c[xr]=g,f){case"dialog":Tt("cancel",c),Tt("close",c);break;case"iframe":case"object":case"embed":Tt("load",c);break;case"video":case"audio":for(f=0;f<vf.length;f++)Tt(vf[f],c);break;case"source":Tt("error",c);break;case"img":case"image":case"link":Tt("error",c),Tt("load",c);break;case"details":Tt("toggle",c);break;case"input":Tt("invalid",c),Po(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Tt("invalid",c);break;case"textarea":Tt("invalid",c),pa(c,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||QE(c.textContent,f)?(g.popover!=null&&(Tt("beforetoggle",c),Tt("toggle",c)),g.onScroll!=null&&Tt("scroll",c),g.onScrollEnd!=null&&Tt("scrollend",c),g.onClick!=null&&(c.onclick=ba),c=!0):c=!1,c||Bo(o,!0)}function Ik(o){for(Un=o.return;Un;)switch(Un.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:Un=Un.return}}function nu(o){if(o!==Un)return!1;if(!Lt)return Ik(o),Lt=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||B_(o.type,o.memoizedProps)),f=!f),f&&vr&&Bo(o),Ik(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));vr=lA(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));vr=lA(o)}else c===27?(c=vr,tl(o.type)?(o=V_,V_=null,vr=o):vr=c):vr=Un?ts(o.stateNode.nextSibling):null;return!0}function Hl(){vr=Un=null,Lt=!1}function Ny(){var o=qo;return o!==null&&(va===null?va=o:va.push.apply(va,o),qo=null),o}function Jd(o){qo===null?qo=[o]:qo.push(o)}var ky=M(null),Kl=null,Pi=null;function zo(o,c,f){q(ky,c._currentValue),c._currentValue=f}function Ri(o){o._currentValue=ky.current,G(ky)}function Sy(o,c,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===f)break;o=o.return}}function Ey(o,c,f,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){var O=v.child;N=N.firstContext;e:for(;N!==null;){var z=N;N=v;for(var ee=0;ee<c.length;ee++)if(z.context===c[ee]){N.lanes|=f,z=N.alternate,z!==null&&(z.lanes|=f),Sy(N.return,f,o),g||(O=null);break e}N=z.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(n(341));O.lanes|=f,N=O.alternate,N!==null&&(N.lanes|=f),Sy(O,f,o),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===o){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function au(o,c,f,g){o=null;for(var v=c,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var z=v.type;Da(v.pendingProps.value,O.value)||(o!==null?o.push(z):o=[z])}}else if(v===te.current){if(O=v.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Sf):o=[Sf])}v=v.return}o!==null&&Ey(c,o,f,g),c.flags|=262144}function Om(o){for(o=o.firstContext;o!==null;){if(!Da(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Vl(o){Kl=o,Pi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qn(o){return Mk(Kl,o)}function Cm(o,c){return Kl===null&&Vl(o),Mk(o,c)}function Mk(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Pi===null){if(o===null)throw Error(n(308));Pi=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Pi=Pi.next=c;return f}var Y7=typeof AbortController!="undefined"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},X7=t.unstable_scheduleCallback,Z7=t.unstable_NormalPriority,ln={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ay(){return{controller:new Y7,data:new Map,refCount:0}}function Qd(o){o.refCount--,o.refCount===0&&X7(Z7,function(){o.controller.abort()})}var ef=null,Ty=0,su=0,iu=null;function J7(o,c){if(ef===null){var f=ef=[];Ty=0,su=$_(),iu={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Ty++,c.then(Uk,Uk),c}function Uk(){if(--Ty===0&&ef!==null){iu!==null&&(iu.status="fulfilled");var o=ef;ef=null,su=0,iu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Q7(o,c){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<f.length;v++)(0,f[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var qk=U.S;U.S=function(o,c){jE=St(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&J7(o,c),qk!==null&&qk(o,c)};var Gl=M(null);function Oy(){var o=Gl.current;return o!==null?o:dr.pooledCache}function $m(o,c){c===null?q(Gl,Gl.current):q(Gl,c.pool)}function Bk(){var o=Oy();return o===null?null:{parent:ln._currentValue,pool:o}}var ou=Error(n(460)),Cy=Error(n(474)),Pm=Error(n(542)),Rm={then:function(){}};function zk(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Fk(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(ba,ba),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Kk(o),o;default:if(typeof c.status=="string")c.then(ba,ba);else{if(o=dr,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Kk(o),o}throw Yl=c,ou}}function Wl(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Yl=f,ou):f}}var Yl=null;function Hk(){if(Yl===null)throw Error(n(459));var o=Yl;return Yl=null,o}function Kk(o){if(o===ou||o===Pm)throw Error(n(483))}var lu=null,tf=0;function Dm(o){var c=tf;return tf+=1,lu===null&&(lu=[]),Fk(lu,o,c)}function rf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Lm(o,c){throw c.$$typeof===b?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Vk(o){function c(fe,le){if(o){var ge=fe.deletions;ge===null?(fe.deletions=[le],fe.flags|=16):ge.push(le)}}function f(fe,le){if(!o)return null;for(;le!==null;)c(fe,le),le=le.sibling;return null}function g(fe){for(var le=new Map;fe!==null;)fe.key!==null?le.set(fe.key,fe):le.set(fe.index,fe),fe=fe.sibling;return le}function v(fe,le){return fe=Ci(fe,le),fe.index=0,fe.sibling=null,fe}function N(fe,le,ge){return fe.index=ge,o?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<le?(fe.flags|=67108866,le):ge):(fe.flags|=67108866,le)):(fe.flags|=1048576,le)}function O(fe){return o&&fe.alternate===null&&(fe.flags|=67108866),fe}function z(fe,le,ge,Te){return le===null||le.tag!==6?(le=_y(ge,fe.mode,Te),le.return=fe,le):(le=v(le,ge),le.return=fe,le)}function ee(fe,le,ge,Te){var it=ge.type;return it===w?Ee(fe,le,ge.props.children,Te,ge.key):le!==null&&(le.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&Wl(it)===le.type)?(le=v(le,ge.props),rf(le,ge),le.return=fe,le):(le=Am(ge.type,ge.key,ge.props,null,fe.mode,Te),rf(le,ge),le.return=fe,le)}function pe(fe,le,ge,Te){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=xy(ge,fe.mode,Te),le.return=fe,le):(le=v(le,ge.children||[]),le.return=fe,le)}function Ee(fe,le,ge,Te,it){return le===null||le.tag!==7?(le=Fl(ge,fe.mode,Te,it),le.return=fe,le):(le=v(le,ge),le.return=fe,le)}function $e(fe,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=_y(""+le,fe.mode,ge),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return ge=Am(le.type,le.key,le.props,null,fe.mode,ge),rf(ge,le),ge.return=fe,ge;case _:return le=xy(le,fe.mode,ge),le.return=fe,le;case B:return le=Wl(le),$e(fe,le,ge)}if(Z(le)||R(le))return le=Fl(le,fe.mode,ge,null),le.return=fe,le;if(typeof le.then=="function")return $e(fe,Dm(le),ge);if(le.$$typeof===S)return $e(fe,Cm(fe,le),ge);Lm(fe,le)}return null}function _e(fe,le,ge,Te){var it=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return it!==null?null:z(fe,le,""+ge,Te);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return ge.key===it?ee(fe,le,ge,Te):null;case _:return ge.key===it?pe(fe,le,ge,Te):null;case B:return ge=Wl(ge),_e(fe,le,ge,Te)}if(Z(ge)||R(ge))return it!==null?null:Ee(fe,le,ge,Te,null);if(typeof ge.then=="function")return _e(fe,le,Dm(ge),Te);if(ge.$$typeof===S)return _e(fe,le,Cm(fe,ge),Te);Lm(fe,ge)}return null}function ke(fe,le,ge,Te,it){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return fe=fe.get(ge)||null,z(le,fe,""+Te,it);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return fe=fe.get(Te.key===null?ge:Te.key)||null,ee(le,fe,Te,it);case _:return fe=fe.get(Te.key===null?ge:Te.key)||null,pe(le,fe,Te,it);case B:return Te=Wl(Te),ke(fe,le,ge,Te,it)}if(Z(Te)||R(Te))return fe=fe.get(ge)||null,Ee(le,fe,Te,it,null);if(typeof Te.then=="function")return ke(fe,le,ge,Dm(Te),it);if(Te.$$typeof===S)return ke(fe,le,ge,Cm(le,Te),it);Lm(le,Te)}return null}function Je(fe,le,ge,Te){for(var it=null,Bt=null,rt=le,wt=le=0,$t=null;rt!==null&&wt<ge.length;wt++){rt.index>wt?($t=rt,rt=null):$t=rt.sibling;var zt=_e(fe,rt,ge[wt],Te);if(zt===null){rt===null&&(rt=$t);break}o&&rt&&zt.alternate===null&&c(fe,rt),le=N(zt,le,wt),Bt===null?it=zt:Bt.sibling=zt,Bt=zt,rt=$t}if(wt===ge.length)return f(fe,rt),Lt&&$i(fe,wt),it;if(rt===null){for(;wt<ge.length;wt++)rt=$e(fe,ge[wt],Te),rt!==null&&(le=N(rt,le,wt),Bt===null?it=rt:Bt.sibling=rt,Bt=rt);return Lt&&$i(fe,wt),it}for(rt=g(rt);wt<ge.length;wt++)$t=ke(rt,fe,wt,ge[wt],Te),$t!==null&&(o&&$t.alternate!==null&&rt.delete($t.key===null?wt:$t.key),le=N($t,le,wt),Bt===null?it=$t:Bt.sibling=$t,Bt=$t);return o&&rt.forEach(function(il){return c(fe,il)}),Lt&&$i(fe,wt),it}function ut(fe,le,ge,Te){if(ge==null)throw Error(n(151));for(var it=null,Bt=null,rt=le,wt=le=0,$t=null,zt=ge.next();rt!==null&&!zt.done;wt++,zt=ge.next()){rt.index>wt?($t=rt,rt=null):$t=rt.sibling;var il=_e(fe,rt,zt.value,Te);if(il===null){rt===null&&(rt=$t);break}o&&rt&&il.alternate===null&&c(fe,rt),le=N(il,le,wt),Bt===null?it=il:Bt.sibling=il,Bt=il,rt=$t}if(zt.done)return f(fe,rt),Lt&&$i(fe,wt),it;if(rt===null){for(;!zt.done;wt++,zt=ge.next())zt=$e(fe,zt.value,Te),zt!==null&&(le=N(zt,le,wt),Bt===null?it=zt:Bt.sibling=zt,Bt=zt);return Lt&&$i(fe,wt),it}for(rt=g(rt);!zt.done;wt++,zt=ge.next())zt=ke(rt,fe,wt,zt.value,Te),zt!==null&&(o&&zt.alternate!==null&&rt.delete(zt.key===null?wt:zt.key),le=N(zt,le,wt),Bt===null?it=zt:Bt.sibling=zt,Bt=zt);return o&&rt.forEach(function(uU){return c(fe,uU)}),Lt&&$i(fe,wt),it}function cr(fe,le,ge,Te){if(typeof ge=="object"&&ge!==null&&ge.type===w&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:e:{for(var it=ge.key;le!==null;){if(le.key===it){if(it=ge.type,it===w){if(le.tag===7){f(fe,le.sibling),Te=v(le,ge.props.children),Te.return=fe,fe=Te;break e}}else if(le.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&Wl(it)===le.type){f(fe,le.sibling),Te=v(le,ge.props),rf(Te,ge),Te.return=fe,fe=Te;break e}f(fe,le);break}else c(fe,le);le=le.sibling}ge.type===w?(Te=Fl(ge.props.children,fe.mode,Te,ge.key),Te.return=fe,fe=Te):(Te=Am(ge.type,ge.key,ge.props,null,fe.mode,Te),rf(Te,ge),Te.return=fe,fe=Te)}return O(fe);case _:e:{for(it=ge.key;le!==null;){if(le.key===it)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){f(fe,le.sibling),Te=v(le,ge.children||[]),Te.return=fe,fe=Te;break e}else{f(fe,le);break}else c(fe,le);le=le.sibling}Te=xy(ge,fe.mode,Te),Te.return=fe,fe=Te}return O(fe);case B:return ge=Wl(ge),cr(fe,le,ge,Te)}if(Z(ge))return Je(fe,le,ge,Te);if(R(ge)){if(it=R(ge),typeof it!="function")throw Error(n(150));return ge=it.call(ge),ut(fe,le,ge,Te)}if(typeof ge.then=="function")return cr(fe,le,Dm(ge),Te);if(ge.$$typeof===S)return cr(fe,le,Cm(fe,ge),Te);Lm(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,le!==null&&le.tag===6?(f(fe,le.sibling),Te=v(le,ge),Te.return=fe,fe=Te):(f(fe,le),Te=_y(ge,fe.mode,Te),Te.return=fe,fe=Te),O(fe)):f(fe,le)}return function(fe,le,ge,Te){try{tf=0;var it=cr(fe,le,ge,Te);return lu=null,it}catch(rt){if(rt===ou||rt===Pm)throw rt;var Bt=La(29,rt,null,fe.mode);return Bt.lanes=Te,Bt.return=fe,Bt}finally{}}}var Xl=Vk(!0),Gk=Vk(!1),Fo=!1;function $y(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Py(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ho(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ko(o,c,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=Em(o),Ok(o,null,f),c}return Sm(o,g,c,f),Em(o)}function nf(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,Jt(o,f)}}function Ry(o,c){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?v=N=O:N=N.next=O,f=f.next}while(f!==null);N===null?v=N=c:N=N.next=c}else v=N=c;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var Dy=!1;function af(){if(Dy){var o=iu;if(o!==null)throw o}}function sf(o,c,f,g){Dy=!1;var v=o.updateQueue;Fo=!1;var N=v.firstBaseUpdate,O=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var ee=z,pe=ee.next;ee.next=null,O===null?N=pe:O.next=pe,O=ee;var Ee=o.alternate;Ee!==null&&(Ee=Ee.updateQueue,z=Ee.lastBaseUpdate,z!==O&&(z===null?Ee.firstBaseUpdate=pe:z.next=pe,Ee.lastBaseUpdate=ee))}if(N!==null){var $e=v.baseState;O=0,Ee=pe=ee=null,z=N;do{var _e=z.lane&-536870913,ke=_e!==z.lane;if(ke?(Ct&_e)===_e:(g&_e)===_e){_e!==0&&_e===su&&(Dy=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Je=o,ut=z;_e=c;var cr=f;switch(ut.tag){case 1:if(Je=ut.payload,typeof Je=="function"){$e=Je.call(cr,$e,_e);break e}$e=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=ut.payload,_e=typeof Je=="function"?Je.call(cr,$e,_e):Je,_e==null)break e;$e=p({},$e,_e);break e;case 2:Fo=!0}}_e=z.callback,_e!==null&&(o.flags|=64,ke&&(o.flags|=8192),ke=v.callbacks,ke===null?v.callbacks=[_e]:ke.push(_e))}else ke={lane:_e,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ee===null?(pe=Ee=ke,ee=$e):Ee=Ee.next=ke,O|=_e;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;ke=z,z=ke.next,ke.next=null,v.lastBaseUpdate=ke,v.shared.pending=null}}while(!0);Ee===null&&(ee=$e),v.baseState=ee,v.firstBaseUpdate=pe,v.lastBaseUpdate=Ee,N===null&&(v.shared.lanes=0),Xo|=O,o.lanes=O,o.memoizedState=$e}}function Wk(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Yk(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Wk(f[o],c)}var cu=M(null),Im=M(0);function Xk(o,c){o=Fi,q(Im,o),q(cu,c),Fi=o|c.baseLanes}function Ly(){q(Im,Fi),q(cu,cu.current)}function Iy(){Fi=Im.current,G(cu),G(Im)}var Ia=M(null),es=null;function Vo(o){var c=o.alternate;q(Zr,Zr.current&1),q(Ia,o),es===null&&(c===null||cu.current!==null||c.memoizedState!==null)&&(es=o)}function My(o){q(Zr,Zr.current),q(Ia,o),es===null&&(es=o)}function Zk(o){o.tag===22?(q(Zr,Zr.current),q(Ia,o),es===null&&(es=o)):Go()}function Go(){q(Zr,Zr.current),q(Ia,Ia.current)}function Ma(o){G(Ia),es===o&&(es=null),G(Zr)}var Zr=M(0);function Mm(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||H_(f)||K_(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Di=0,xt=null,or=null,cn=null,Um=!1,uu=!1,Zl=!1,qm=0,of=0,du=null,e9=0;function Fr(){throw Error(n(321))}function Uy(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Da(o[f],c[f]))return!1;return!0}function qy(o,c,f,g,v,N){return Di=N,xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=o===null||o.memoizedState===null?RS:t_,Zl=!1,N=f(g,v),Zl=!1,uu&&(N=Qk(c,f,g,v)),Jk(o),N}function Jk(o){U.H=uf;var c=or!==null&&or.next!==null;if(Di=0,cn=or=xt=null,Um=!1,of=0,du=null,c)throw Error(n(300));o===null||un||(o=o.dependencies,o!==null&&Om(o)&&(un=!0))}function Qk(o,c,f,g){xt=o;var v=0;do{if(uu&&(du=null),of=0,uu=!1,25<=v)throw Error(n(301));if(v+=1,cn=or=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}U.H=DS,N=c(f,g)}while(uu);return N}function t9(){var o=U.H,c=o.useState()[0];return c=typeof c.then=="function"?lf(c):c,o=o.useState()[0],(or!==null?or.memoizedState:null)!==o&&(xt.flags|=1024),c}function By(){var o=qm!==0;return qm=0,o}function zy(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function Fy(o){if(Um){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Um=!1}Di=0,cn=or=xt=null,uu=!1,of=qm=0,du=null}function la(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?xt.memoizedState=cn=o:cn=cn.next=o,cn}function Jr(){if(or===null){var o=xt.alternate;o=o!==null?o.memoizedState:null}else o=or.next;var c=cn===null?xt.memoizedState:cn.next;if(c!==null)cn=c,or=o;else{if(o===null)throw xt.alternate===null?Error(n(467)):Error(n(310));or=o,o={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},cn===null?xt.memoizedState=cn=o:cn=cn.next=o}return cn}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lf(o){var c=of;return of+=1,du===null&&(du=[]),o=Fk(du,o,c),c=xt,(cn===null?c.memoizedState:cn.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?RS:t_),o}function zm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return lf(o);if(o.$$typeof===S)return qn(o)}throw Error(n(438,String(o)))}function Hy(o){var c=null,f=xt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Bm(),xt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),g=0;g<o;g++)f[g]=se;return c.index++,f}function Li(o,c){return typeof c=="function"?c(o):c}function Fm(o){var c=Jr();return Ky(c,or,o)}function Ky(o,c,f){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=f;var v=o.baseQueue,N=g.pending;if(N!==null){if(v!==null){var O=v.next;v.next=N.next,N.next=O}c.baseQueue=v=N,g.pending=null}if(N=o.baseState,v===null)o.memoizedState=N;else{c=v.next;var z=O=null,ee=null,pe=c,Ee=!1;do{var $e=pe.lane&-536870913;if($e!==pe.lane?(Ct&$e)===$e:(Di&$e)===$e){var _e=pe.revertLane;if(_e===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),$e===su&&(Ee=!0);else if((Di&_e)===_e){pe=pe.next,_e===su&&(Ee=!0);continue}else $e={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(z=ee=$e,O=N):ee=ee.next=$e,xt.lanes|=_e,Xo|=_e;$e=pe.action,Zl&&f(N,$e),N=pe.hasEagerState?pe.eagerState:f(N,$e)}else _e={lane:$e,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(z=ee=_e,O=N):ee=ee.next=_e,xt.lanes|=$e,Xo|=$e;pe=pe.next}while(pe!==null&&pe!==c);if(ee===null?O=N:ee.next=z,!Da(N,o.memoizedState)&&(un=!0,Ee&&(f=iu,f!==null)))throw f;o.memoizedState=N,o.baseState=O,o.baseQueue=ee,g.lastRenderedState=N}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Vy(o){var c=Jr(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var g=f.dispatch,v=f.pending,N=c.memoizedState;if(v!==null){f.pending=null;var O=v=v.next;do N=o(N,O.action),O=O.next;while(O!==v);Da(N,c.memoizedState)||(un=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,g]}function eS(o,c,f){var g=xt,v=Jr(),N=Lt;if(N){if(f===void 0)throw Error(n(407));f=f()}else f=c();var O=!Da((or||v).memoizedState,f);if(O&&(v.memoizedState=f,un=!0),v=v.queue,Yy(nS.bind(null,g,v,o),[o]),v.getSnapshot!==c||O||cn!==null&&cn.memoizedState.tag&1){if(g.flags|=2048,fu(9,{destroy:void 0},rS.bind(null,g,v,f,c),null),dr===null)throw Error(n(349));N||(Di&127)!==0||tS(g,c,f)}return f}function tS(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=xt.updateQueue,c===null?(c=Bm(),xt.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function rS(o,c,f,g){c.value=f,c.getSnapshot=g,aS(c)&&sS(o)}function nS(o,c,f){return f(function(){aS(c)&&sS(o)})}function aS(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Da(o,f)}catch(g){return!0}}function sS(o){var c=zl(o,2);c!==null&&wa(c,o,2)}function Gy(o){var c=la();if(typeof o=="function"){var f=o;if(o=f(),Zl){Le(!0);try{f()}finally{Le(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:o},c}function iS(o,c,f,g){return o.baseState=f,Ky(o,or,typeof g=="function"?g:Li)}function r9(o,c,f,g,v){if(Vm(o))throw Error(n(485));if(o=c.action,o!==null){var N={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};U.T!==null?f(!0):N.isTransition=!1,g(N),f=c.pending,f===null?(N.next=c.pending=N,oS(c,N)):(N.next=f.next,c.pending=f.next=N)}}function oS(o,c){var f=c.action,g=c.payload,v=o.state;if(c.isTransition){var N=U.T,O={};U.T=O;try{var z=f(v,g),ee=U.S;ee!==null&&ee(O,z),lS(o,c,z)}catch(pe){Wy(o,c,pe)}finally{N!==null&&O.types!==null&&(N.types=O.types),U.T=N}}else try{N=f(v,g),lS(o,c,N)}catch(pe){Wy(o,c,pe)}}function lS(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){cS(o,c,g)},function(g){return Wy(o,c,g)}):cS(o,c,f)}function cS(o,c,f){c.status="fulfilled",c.value=f,uS(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,oS(o,f)))}function Wy(o,c,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,uS(c),c=c.next;while(c!==g)}o.action=null}function uS(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function dS(o,c){return c}function fS(o,c){if(Lt){var f=dr.formState;if(f!==null){e:{var g=xt;if(Lt){if(vr){t:{for(var v=vr,N=Qa;v.nodeType!==8;){if(!N){v=null;break t}if(v=ts(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){vr=ts(v.nextSibling),g=v.data==="F!";break e}}Bo(g)}g=!1}g&&(c=f[0])}}return f=la(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dS,lastRenderedState:c},f.queue=g,f=CS.bind(null,xt,g),g.dispatch=f,g=Gy(!1),N=e_.bind(null,xt,!1,g.queue),g=la(),v={state:c,dispatch:null,action:o,pending:null},g.queue=v,f=r9.bind(null,xt,v,N,f),v.dispatch=f,g.memoizedState=o,[c,f,!1]}function hS(o){var c=Jr();return mS(c,or,o)}function mS(o,c,f){if(c=Ky(o,c,dS)[0],o=Fm(Li)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=lf(c)}catch(O){throw O===ou?Pm:O}else g=c;c=Jr();var v=c.queue,N=v.dispatch;return f!==c.memoizedState&&(xt.flags|=2048,fu(9,{destroy:void 0},n9.bind(null,v,f),null)),[g,N,o]}function n9(o,c){o.action=c}function gS(o){var c=Jr(),f=or;if(f!==null)return mS(c,f,o);Jr(),c=c.memoizedState,f=Jr();var g=f.queue.dispatch;return f.memoizedState=o,[c,g,!1]}function fu(o,c,f,g){return o={tag:o,create:f,deps:g,inst:c,next:null},c=xt.updateQueue,c===null&&(c=Bm(),xt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,c.lastEffect=o),o}function pS(){return Jr().memoizedState}function Hm(o,c,f,g){var v=la();xt.flags|=o,v.memoizedState=fu(1|c,{destroy:void 0},f,g===void 0?null:g)}function Km(o,c,f,g){var v=Jr();g=g===void 0?null:g;var N=v.memoizedState.inst;or!==null&&g!==null&&Uy(g,or.memoizedState.deps)?v.memoizedState=fu(c,N,f,g):(xt.flags|=o,v.memoizedState=fu(1|c,N,f,g))}function bS(o,c){Hm(8390656,8,o,c)}function Yy(o,c){Km(2048,8,o,c)}function a9(o){xt.flags|=4;var c=xt.updateQueue;if(c===null)c=Bm(),xt.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function yS(o){var c=Jr().memoizedState;return a9({ref:c,nextImpl:o}),function(){if((Vt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function _S(o,c){return Km(4,2,o,c)}function xS(o,c){return Km(4,4,o,c)}function vS(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function wS(o,c,f){f=f!=null?f.concat([o]):null,Km(4,4,vS.bind(null,c,o),f)}function Xy(){}function jS(o,c){var f=Jr();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&Uy(c,g[1])?g[0]:(f.memoizedState=[o,c],o)}function NS(o,c){var f=Jr();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&Uy(c,g[1]))return g[0];if(g=o(),Zl){Le(!0);try{o()}finally{Le(!1)}}return f.memoizedState=[g,c],g}function Zy(o,c,f){return f===void 0||(Di&1073741824)!==0&&(Ct&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=kE(),xt.lanes|=o,Xo|=o,f)}function kS(o,c,f,g){return Da(f,c)?f:cu.current!==null?(o=Zy(o,f,g),Da(o,c)||(un=!0),o):(Di&42)===0||(Di&1073741824)!==0&&(Ct&261930)===0?(un=!0,o.memoizedState=f):(o=kE(),xt.lanes|=o,Xo|=o,c)}function SS(o,c,f,g,v){var N=K.p;K.p=N!==0&&8>N?N:8;var O=U.T,z={};U.T=z,e_(o,!1,c,f);try{var ee=v(),pe=U.S;if(pe!==null&&pe(z,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ee=Q7(ee,g);cf(o,c,Ee,Ba(o))}else cf(o,c,g,Ba(o))}catch($e){cf(o,c,{then:function(){},status:"rejected",reason:$e},Ba())}finally{K.p=N,O!==null&&z.types!==null&&(O.types=z.types),U.T=O}}function s9(){}function Jy(o,c,f,g){if(o.tag!==5)throw Error(n(476));var v=ES(o).queue;SS(o,v,c,W,f===null?s9:function(){return AS(o),f(g)})}function ES(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:W},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function AS(o){var c=ES(o);c.next===null&&(c=o.alternate.memoizedState),cf(o,c.next.queue,{},Ba())}function Qy(){return qn(Sf)}function TS(){return Jr().memoizedState}function OS(){return Jr().memoizedState}function i9(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Ba();o=Ho(f);var g=Ko(c,o,f);g!==null&&(wa(g,c,f),nf(g,c,f)),c={cache:Ay()},o.payload=c;return}c=c.return}}function o9(o,c,f){var g=Ba();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Vm(o)?$S(c,f):(f=by(o,c,f,g),f!==null&&(wa(f,o,g),PS(f,c,g)))}function CS(o,c,f){var g=Ba();cf(o,c,f,g)}function cf(o,c,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Vm(o))$S(c,v);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var O=c.lastRenderedState,z=N(O,f);if(v.hasEagerState=!0,v.eagerState=z,Da(z,O))return Sm(o,c,v,0),dr===null&&km(),!1}catch(ee){}finally{}if(f=by(o,c,v,g),f!==null)return wa(f,o,g),PS(f,c,g),!0}return!1}function e_(o,c,f,g){if(g={lane:2,revertLane:$_(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Vm(o)){if(c)throw Error(n(479))}else c=by(o,f,g,2),c!==null&&wa(c,o,2)}function Vm(o){var c=o.alternate;return o===xt||c!==null&&c===xt}function $S(o,c){uu=Um=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function PS(o,c,f){if((f&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,Jt(o,f)}}var uf={readContext:qn,use:zm,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr};uf.useEffectEvent=Fr;var RS={readContext:qn,use:zm,useCallback:function(o,c){return la().memoizedState=[o,c===void 0?null:c],o},useContext:qn,useEffect:bS,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Hm(4194308,4,vS.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Hm(4194308,4,o,c)},useInsertionEffect:function(o,c){Hm(4,2,o,c)},useMemo:function(o,c){var f=la();c=c===void 0?null:c;var g=o();if(Zl){Le(!0);try{o()}finally{Le(!1)}}return f.memoizedState=[g,c],g},useReducer:function(o,c,f){var g=la();if(f!==void 0){var v=f(c);if(Zl){Le(!0);try{f(c)}finally{Le(!1)}}}else v=c;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=o9.bind(null,xt,o),[g.memoizedState,o]},useRef:function(o){var c=la();return o={current:o},c.memoizedState=o},useState:function(o){o=Gy(o);var c=o.queue,f=CS.bind(null,xt,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:Xy,useDeferredValue:function(o,c){var f=la();return Zy(f,o,c)},useTransition:function(){var o=Gy(!1);return o=SS.bind(null,xt,o.queue,!0,!1),la().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var g=xt,v=la();if(Lt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),dr===null)throw Error(n(349));(Ct&127)!==0||tS(g,c,f)}v.memoizedState=f;var N={value:f,getSnapshot:c};return v.queue=N,bS(nS.bind(null,g,N,o),[o]),g.flags|=2048,fu(9,{destroy:void 0},rS.bind(null,g,N,f,c),null),f},useId:function(){var o=la(),c=dr.identifierPrefix;if(Lt){var f=ei,g=Qs;f=(g&~(1<<32-Ae(g)-1)).toString(32)+f,c="_"+c+"R_"+f,f=qm++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=e9++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Qy,useFormState:fS,useActionState:fS,useOptimistic:function(o){var c=la();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=e_.bind(null,xt,!0,f),f.dispatch=c,[o,c]},useMemoCache:Hy,useCacheRefresh:function(){return la().memoizedState=i9.bind(null,xt)},useEffectEvent:function(o){var c=la(),f={impl:o};return c.memoizedState=f,function(){if((Vt&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},t_={readContext:qn,use:zm,useCallback:jS,useContext:qn,useEffect:Yy,useImperativeHandle:wS,useInsertionEffect:_S,useLayoutEffect:xS,useMemo:NS,useReducer:Fm,useRef:pS,useState:function(){return Fm(Li)},useDebugValue:Xy,useDeferredValue:function(o,c){var f=Jr();return kS(f,or.memoizedState,o,c)},useTransition:function(){var o=Fm(Li)[0],c=Jr().memoizedState;return[typeof o=="boolean"?o:lf(o),c]},useSyncExternalStore:eS,useId:TS,useHostTransitionStatus:Qy,useFormState:hS,useActionState:hS,useOptimistic:function(o,c){var f=Jr();return iS(f,or,o,c)},useMemoCache:Hy,useCacheRefresh:OS};t_.useEffectEvent=yS;var DS={readContext:qn,use:zm,useCallback:jS,useContext:qn,useEffect:Yy,useImperativeHandle:wS,useInsertionEffect:_S,useLayoutEffect:xS,useMemo:NS,useReducer:Vy,useRef:pS,useState:function(){return Vy(Li)},useDebugValue:Xy,useDeferredValue:function(o,c){var f=Jr();return or===null?Zy(f,o,c):kS(f,or.memoizedState,o,c)},useTransition:function(){var o=Vy(Li)[0],c=Jr().memoizedState;return[typeof o=="boolean"?o:lf(o),c]},useSyncExternalStore:eS,useId:TS,useHostTransitionStatus:Qy,useFormState:gS,useActionState:gS,useOptimistic:function(o,c){var f=Jr();return or!==null?iS(f,or,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Hy,useCacheRefresh:OS};DS.useEffectEvent=yS;function r_(o,c,f,g){c=o.memoizedState,f=f(g,c),f=f==null?c:p({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var n_={enqueueSetState:function(o,c,f){o=o._reactInternals;var g=Ba(),v=Ho(g);v.payload=c,f!=null&&(v.callback=f),c=Ko(o,v,g),c!==null&&(wa(c,o,g),nf(c,o,g))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var g=Ba(),v=Ho(g);v.tag=1,v.payload=c,f!=null&&(v.callback=f),c=Ko(o,v,g),c!==null&&(wa(c,o,g),nf(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Ba(),g=Ho(f);g.tag=2,c!=null&&(g.callback=c),c=Ko(o,g,f),c!==null&&(wa(c,o,f),nf(c,o,f))}};function LS(o,c,f,g,v,N,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,N,O):c.prototype&&c.prototype.isPureReactComponent?!Yd(f,g)||!Yd(v,N):!0}function IS(o,c,f,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==o&&n_.enqueueReplaceState(c,c.state,null)}function Jl(o,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(o=o.defaultProps){f===c&&(f=p({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}function MS(o){Nm(o)}function US(o){console.error(o)}function qS(o){Nm(o)}function Gm(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function BS(o,c,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function a_(o,c,f){return f=Ho(f),f.tag=3,f.payload={element:null},f.callback=function(){Gm(o,c)},f}function zS(o){return o=Ho(o),o.tag=3,o}function FS(o,c,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var N=g.value;o.payload=function(){return v(N)},o.callback=function(){BS(c,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){BS(c,f,g),typeof v!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function l9(o,c,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&au(c,f,v,!0),f=Ia.current,f!==null){switch(f.tag){case 31:case 13:return es===null?sg():f.alternate===null&&Hr===0&&(Hr=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===Rm?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),T_(o,g,v)),!1;case 22:return f.flags|=65536,g===Rm?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),T_(o,g,v)),!1}throw Error(n(435,f.tag))}return T_(o,g,v),sg(),!1}if(Lt)return c=Ia.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==jy&&(o=Error(n(422),{cause:g}),Jd(Xa(o,f)))):(g!==jy&&(c=Error(n(423),{cause:g}),Jd(Xa(c,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=Xa(g,f),v=a_(o.stateNode,g,v),Ry(o,v),Hr!==4&&(Hr=2)),!1;var N=Error(n(520),{cause:g});if(N=Xa(N,f),yf===null?yf=[N]:yf.push(N),Hr!==4&&(Hr=2),c===null)return!0;g=Xa(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=a_(f.stateNode,g,o),Ry(f,o),!1;case 1:if(c=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Zo===null||!Zo.has(N))))return f.flags|=65536,v&=-v,f.lanes|=v,v=zS(v),FS(v,o,f,g),Ry(f,v),!1}f=f.return}while(f!==null);return!1}var s_=Error(n(461)),un=!1;function Bn(o,c,f,g){c.child=o===null?Gk(c,null,f,g):Xl(c,o.child,f,g)}function HS(o,c,f,g,v){f=f.render;var N=c.ref;if("ref"in g){var O={};for(var z in g)z!=="ref"&&(O[z]=g[z])}else O=g;return Vl(c),g=qy(o,c,f,O,N,v),z=By(),o!==null&&!un?(zy(o,c,v),Ii(o,c,v)):(Lt&&z&&vy(c),c.flags|=1,Bn(o,c,g,v),c.child)}function KS(o,c,f,g,v){if(o===null){var N=f.type;return typeof N=="function"&&!yy(N)&&N.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=N,VS(o,c,N,g,v)):(o=Am(f.type,null,g,c,c.mode,v),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!h_(o,v)){var O=N.memoizedProps;if(f=f.compare,f=f!==null?f:Yd,f(O,g)&&o.ref===c.ref)return Ii(o,c,v)}return c.flags|=1,o=Ci(N,g),o.ref=c.ref,o.return=c,c.child=o}function VS(o,c,f,g,v){if(o!==null){var N=o.memoizedProps;if(Yd(N,g)&&o.ref===c.ref)if(un=!1,c.pendingProps=g=N,h_(o,v))(o.flags&131072)!==0&&(un=!0);else return c.lanes=o.lanes,Ii(o,c,v)}return i_(o,c,f,g,v)}function GS(o,c,f,g){var v=g.children,N=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|f:f,o!==null){for(g=c.child=o.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~N}else g=0,c.child=null;return WS(o,c,N,f,g)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&$m(c,N!==null?N.cachePool:null),N!==null?Xk(c,N):Ly(),Zk(c);else return g=c.lanes=536870912,WS(o,c,N!==null?N.baseLanes|f:f,f,g)}else N!==null?($m(c,N.cachePool),Xk(c,N),Go(),c.memoizedState=null):(o!==null&&$m(c,null),Ly(),Go());return Bn(o,c,v,f),c.child}function df(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function WS(o,c,f,g,v){var N=Oy();return N=N===null?null:{parent:ln._currentValue,pool:N},c.memoizedState={baseLanes:f,cachePool:N},o!==null&&$m(c,null),Ly(),Zk(c),o!==null&&au(o,c,g,!0),c.childLanes=v,null}function Wm(o,c){return c=Xm({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function YS(o,c,f){return Xl(c,o.child,null,f),o=Wm(c,c.pendingProps),o.flags|=2,Ma(c),c.memoizedState=null,o}function c9(o,c,f){var g=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Lt){if(g.mode==="hidden")return o=Wm(c,g),c.lanes=536870912,df(null,o);if(My(c),(o=vr)?(o=oA(o,Qa),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Uo!==null?{id:Qs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},f=$k(o),f.return=c,c.child=f,Un=c,vr=null)):o=null,o===null)throw Bo(c);return c.lanes=536870912,null}return Wm(c,g)}var N=o.memoizedState;if(N!==null){var O=N.dehydrated;if(My(c),v)if(c.flags&256)c.flags&=-257,c=YS(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(un||au(o,c,f,!1),v=(f&o.childLanes)!==0,un||v){if(g=dr,g!==null&&(O=Aa(g,f),O!==0&&O!==N.retryLane))throw N.retryLane=O,zl(o,O),wa(g,o,O),s_;sg(),c=YS(o,c,f)}else o=N.treeContext,vr=ts(O.nextSibling),Un=c,Lt=!0,qo=null,Qa=!1,o!==null&&Dk(c,o),c=Wm(c,g),c.flags|=4096;return c}return o=Ci(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Ym(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function i_(o,c,f,g,v){return Vl(c),f=qy(o,c,f,g,void 0,v),g=By(),o!==null&&!un?(zy(o,c,v),Ii(o,c,v)):(Lt&&g&&vy(c),c.flags|=1,Bn(o,c,f,v),c.child)}function XS(o,c,f,g,v,N){return Vl(c),c.updateQueue=null,f=Qk(c,g,f,v),Jk(o),g=By(),o!==null&&!un?(zy(o,c,N),Ii(o,c,N)):(Lt&&g&&vy(c),c.flags|=1,Bn(o,c,f,N),c.child)}function ZS(o,c,f,g,v){if(Vl(c),c.stateNode===null){var N=eu,O=f.contextType;typeof O=="object"&&O!==null&&(N=qn(O)),N=new f(g,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=n_,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=g,N.state=c.memoizedState,N.refs={},$y(c),O=f.contextType,N.context=typeof O=="object"&&O!==null?qn(O):eu,N.state=c.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(r_(c,f,O,g),N.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&n_.enqueueReplaceState(N,N.state,null),sf(c,g,N,v),af(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){N=c.stateNode;var z=c.memoizedProps,ee=Jl(f,z);N.props=ee;var pe=N.context,Ee=f.contextType;O=eu,typeof Ee=="object"&&Ee!==null&&(O=qn(Ee));var $e=f.getDerivedStateFromProps;Ee=typeof $e=="function"||typeof N.getSnapshotBeforeUpdate=="function",z=c.pendingProps!==z,Ee||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z||pe!==O)&&IS(c,N,g,O),Fo=!1;var _e=c.memoizedState;N.state=_e,sf(c,g,N,v),af(),pe=c.memoizedState,z||_e!==pe||Fo?(typeof $e=="function"&&(r_(c,f,$e,g),pe=c.memoizedState),(ee=Fo||LS(c,f,ee,g,_e,pe,O))?(Ee||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=pe),N.props=g,N.state=pe,N.context=O,g=ee):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{N=c.stateNode,Py(o,c),O=c.memoizedProps,Ee=Jl(f,O),N.props=Ee,$e=c.pendingProps,_e=N.context,pe=f.contextType,ee=eu,typeof pe=="object"&&pe!==null&&(ee=qn(pe)),z=f.getDerivedStateFromProps,(pe=typeof z=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==$e||_e!==ee)&&IS(c,N,g,ee),Fo=!1,_e=c.memoizedState,N.state=_e,sf(c,g,N,v),af();var ke=c.memoizedState;O!==$e||_e!==ke||Fo||o!==null&&o.dependencies!==null&&Om(o.dependencies)?(typeof z=="function"&&(r_(c,f,z,g),ke=c.memoizedState),(Ee=Fo||LS(c,f,Ee,g,_e,ke,ee)||o!==null&&o.dependencies!==null&&Om(o.dependencies))?(pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,ke,ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,ke,ee)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&_e===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&_e===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ke),N.props=g,N.state=ke,N.context=ee,g=Ee):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&_e===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&_e===o.memoizedState||(c.flags|=1024),g=!1)}return N=g,Ym(o,c),g=(c.flags&128)!==0,N||g?(N=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&g?(c.child=Xl(c,o.child,null,v),c.child=Xl(c,null,f,v)):Bn(o,c,f,v),c.memoizedState=N.state,o=c.child):o=Ii(o,c,v),o}function JS(o,c,f,g){return Hl(),c.flags|=256,Bn(o,c,f,g),c.child}var o_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l_(o){return{baseLanes:o,cachePool:Bk()}}function c_(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=qa),o}function QS(o,c,f){var g=c.pendingProps,v=!1,N=(c.flags&128)!==0,O;if((O=N)||(O=o!==null&&o.memoizedState===null?!1:(Zr.current&2)!==0),O&&(v=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(Lt){if(v?Vo(c):Go(),(o=vr)?(o=oA(o,Qa),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Uo!==null?{id:Qs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},f=$k(o),f.return=c,c.child=f,Un=c,vr=null)):o=null,o===null)throw Bo(c);return K_(o)?c.lanes=32:c.lanes=536870912,null}var z=g.children;return g=g.fallback,v?(Go(),v=c.mode,z=Xm({mode:"hidden",children:z},v),g=Fl(g,v,f,null),z.return=c,g.return=c,z.sibling=g,c.child=z,g=c.child,g.memoizedState=l_(f),g.childLanes=c_(o,O,f),c.memoizedState=o_,df(null,g)):(Vo(c),u_(c,z))}var ee=o.memoizedState;if(ee!==null&&(z=ee.dehydrated,z!==null)){if(N)c.flags&256?(Vo(c),c.flags&=-257,c=d_(o,c,f)):c.memoizedState!==null?(Go(),c.child=o.child,c.flags|=128,c=null):(Go(),z=g.fallback,v=c.mode,g=Xm({mode:"visible",children:g.children},v),z=Fl(z,v,f,null),z.flags|=2,g.return=c,z.return=c,g.sibling=z,c.child=g,Xl(c,o.child,null,f),g=c.child,g.memoizedState=l_(f),g.childLanes=c_(o,O,f),c.memoizedState=o_,c=df(null,g));else if(Vo(c),K_(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var pe=O.dgst;O=pe,g=Error(n(419)),g.stack="",g.digest=O,Jd({value:g,source:null,stack:null}),c=d_(o,c,f)}else if(un||au(o,c,f,!1),O=(f&o.childLanes)!==0,un||O){if(O=dr,O!==null&&(g=Aa(O,f),g!==0&&g!==ee.retryLane))throw ee.retryLane=g,zl(o,g),wa(O,o,g),s_;H_(z)||sg(),c=d_(o,c,f)}else H_(z)?(c.flags|=192,c.child=o.child,c=null):(o=ee.treeContext,vr=ts(z.nextSibling),Un=c,Lt=!0,qo=null,Qa=!1,o!==null&&Dk(c,o),c=u_(c,g.children),c.flags|=4096);return c}return v?(Go(),z=g.fallback,v=c.mode,ee=o.child,pe=ee.sibling,g=Ci(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,pe!==null?z=Ci(pe,z):(z=Fl(z,v,f,null),z.flags|=2),z.return=c,g.return=c,g.sibling=z,c.child=g,df(null,g),g=c.child,z=o.child.memoizedState,z===null?z=l_(f):(v=z.cachePool,v!==null?(ee=ln._currentValue,v=v.parent!==ee?{parent:ee,pool:ee}:v):v=Bk(),z={baseLanes:z.baseLanes|f,cachePool:v}),g.memoizedState=z,g.childLanes=c_(o,O,f),c.memoizedState=o_,df(o.child,g)):(Vo(c),f=o.child,o=f.sibling,f=Ci(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=f,c.memoizedState=null,f)}function u_(o,c){return c=Xm({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Xm(o,c){return o=La(22,o,null,c),o.lanes=0,o}function d_(o,c,f){return Xl(c,o.child,null,f),o=u_(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function eE(o,c,f){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Sy(o.return,c,f)}function f_(o,c,f,g,v,N){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:N}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=f,O.tailMode=v,O.treeForkCount=N)}function tE(o,c,f){var g=c.pendingProps,v=g.revealOrder,N=g.tail;g=g.children;var O=Zr.current,z=(O&2)!==0;if(z?(O=O&1|2,c.flags|=128):O&=1,q(Zr,O),Bn(o,c,g,f),g=Lt?Zd:0,!z&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eE(o,f,c);else if(o.tag===19)eE(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(f=c.child,v=null;f!==null;)o=f.alternate,o!==null&&Mm(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=c.child,c.child=null):(v=f.sibling,f.sibling=null),f_(c,!1,v,f,N,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=c.child,c.child=null;v!==null;){if(o=v.alternate,o!==null&&Mm(o)===null){c.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}f_(c,!0,f,null,N,g);break;case"together":f_(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ii(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Xo|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(au(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=Ci(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=Ci(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function h_(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Om(o)))}function u9(o,c,f){switch(c.tag){case 3:he(c,c.stateNode.containerInfo),zo(c,ln,o.memoizedState.cache),Hl();break;case 27:case 5:we(c);break;case 4:he(c,c.stateNode.containerInfo);break;case 10:zo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,My(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Vo(c),c.flags|=128,null):(f&c.child.childLanes)!==0?QS(o,c,f):(Vo(c),o=Ii(o,c,f),o!==null?o.sibling:null);Vo(c);break;case 19:var v=(o.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(au(o,c,f,!1),g=(f&c.childLanes)!==0),v){if(g)return tE(o,c,f);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(Zr,Zr.current),g)break;return null;case 22:return c.lanes=0,GS(o,c,f,c.pendingProps);case 24:zo(c,ln,o.memoizedState.cache)}return Ii(o,c,f)}function rE(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)un=!0;else{if(!h_(o,f)&&(c.flags&128)===0)return un=!1,u9(o,c,f);un=(o.flags&131072)!==0}else un=!1,Lt&&(c.flags&1048576)!==0&&Rk(c,Zd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Wl(c.elementType),c.type=o,typeof o=="function")yy(o)?(g=Jl(o,g),c.tag=1,c=ZS(null,c,o,g,f)):(c.tag=0,c=i_(null,c,o,g,f));else{if(o!=null){var v=o.$$typeof;if(v===P){c.tag=11,c=HS(null,c,o,g,f);break e}else if(v===$){c.tag=14,c=KS(null,c,o,g,f);break e}}throw c=V(o)||o,Error(n(306,c,""))}}return c;case 0:return i_(o,c,c.type,c.pendingProps,f);case 1:return g=c.type,v=Jl(g,c.pendingProps),ZS(o,c,g,v,f);case 3:e:{if(he(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var N=c.memoizedState;v=N.element,Py(o,c),sf(c,g,null,f);var O=c.memoizedState;if(g=O.cache,zo(c,ln,g),g!==N.cache&&Ey(c,[ln],f,!0),af(),g=O.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=JS(o,c,g,f);break e}else if(g!==v){v=Xa(Error(n(424)),c),Jd(v),c=JS(o,c,g,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vr=ts(o.firstChild),Un=c,Lt=!0,qo=null,Qa=!0,f=Gk(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Hl(),g===v){c=Ii(o,c,f);break e}Bn(o,c,g,f)}c=c.child}return c;case 26:return Ym(o,c),o===null?(f=hA(c.type,null,c.pendingProps,null))?c.memoizedState=f:Lt||(f=c.type,o=c.pendingProps,g=fg(be.current).createElement(f),g[ir]=c,g[xr]=o,zn(g,f,o),ze(g),c.stateNode=g):c.memoizedState=hA(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return we(c),o===null&&Lt&&(g=c.stateNode=uA(c.type,c.pendingProps,be.current),Un=c,Qa=!0,v=vr,tl(c.type)?(V_=v,vr=ts(g.firstChild)):vr=v),Bn(o,c,c.pendingProps.children,f),Ym(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Lt&&((v=g=vr)&&(g=q9(g,c.type,c.pendingProps,Qa),g!==null?(c.stateNode=g,Un=c,vr=ts(g.firstChild),Qa=!1,v=!0):v=!1),v||Bo(c)),we(c),v=c.type,N=c.pendingProps,O=o!==null?o.memoizedProps:null,g=N.children,B_(v,N)?g=null:O!==null&&B_(v,O)&&(c.flags|=32),c.memoizedState!==null&&(v=qy(o,c,t9,null,null,f),Sf._currentValue=v),Ym(o,c),Bn(o,c,g,f),c.child;case 6:return o===null&&Lt&&((o=f=vr)&&(f=B9(f,c.pendingProps,Qa),f!==null?(c.stateNode=f,Un=c,vr=null,o=!0):o=!1),o||Bo(c)),null;case 13:return QS(o,c,f);case 4:return he(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Xl(c,null,g,f):Bn(o,c,g,f),c.child;case 11:return HS(o,c,c.type,c.pendingProps,f);case 7:return Bn(o,c,c.pendingProps,f),c.child;case 8:return Bn(o,c,c.pendingProps.children,f),c.child;case 12:return Bn(o,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,zo(c,c.type,g.value),Bn(o,c,g.children,f),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,Vl(c),v=qn(v),g=g(v),c.flags|=1,Bn(o,c,g,f),c.child;case 14:return KS(o,c,c.type,c.pendingProps,f);case 15:return VS(o,c,c.type,c.pendingProps,f);case 19:return tE(o,c,f);case 31:return c9(o,c,f);case 22:return GS(o,c,f,c.pendingProps);case 24:return Vl(c),g=qn(ln),o===null?(v=Oy(),v===null&&(v=dr,N=Ay(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=f),v=N),c.memoizedState={parent:g,cache:v},$y(c),zo(c,ln,v)):((o.lanes&f)!==0&&(Py(o,c),sf(c,null,null,f),af()),v=o.memoizedState,N=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),zo(c,ln,g)):(g=N.cache,zo(c,ln,g),g!==v.cache&&Ey(c,[ln],f,!0))),Bn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Mi(o){o.flags|=4}function m_(o,c,f,g,v){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(TE())o.flags|=8192;else throw Yl=Rm,Cy}else o.flags&=-16777217}function nE(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!yA(c))if(TE())o.flags|=8192;else throw Yl=Rm,Cy}function Zm(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Kt():536870912,o.lanes|=c,pu|=c)}function ff(o,c){if(!Lt)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function wr(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(c)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=f,c}function d9(o,c,f){var g=c.pendingProps;switch(wy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(c),null;case 1:return wr(c),null;case 3:return f=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Ri(ln),Y(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(nu(c)?Mi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ny())),wr(c),null;case 26:var v=c.type,N=c.memoizedState;return o===null?(Mi(c),N!==null?(wr(c),nE(c,N)):(wr(c),m_(c,v,null,g,f))):N?N!==o.memoizedState?(Mi(c),wr(c),nE(c,N)):(wr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Mi(c),wr(c),m_(c,v,o,g,f)),null;case 27:if(Ce(c),f=be.current,v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Mi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return wr(c),null}o=ae.current,nu(c)?Lk(c):(o=uA(v,g,f),c.stateNode=o,Mi(c))}return wr(c),null;case 5:if(Ce(c),v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Mi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return wr(c),null}if(N=ae.current,nu(c))Lk(c);else{var O=fg(be.current);switch(N){case 1:N=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:N=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":N=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":N=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":N=O.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}N[ir]=c,N[xr]=g;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)N.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=N;e:switch(zn(N,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Mi(c)}}return wr(c),m_(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Mi(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=be.current,nu(c)){if(o=c.stateNode,f=c.memoizedProps,g=null,v=Un,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[ir]=c,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||QE(o.nodeValue,f)),o||Bo(c,!0)}else o=fg(o).createTextNode(g),o[ir]=c,c.stateNode=o}return wr(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(g=nu(c),f!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ir]=c}else Hl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wr(c),o=!1}else f=Ny(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Ma(c),c):(Ma(c),null);if((c.flags&128)!==0)throw Error(n(558))}return wr(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=nu(c),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[ir]=c}else Hl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wr(c),v=!1}else v=Ny(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(Ma(c),c):(Ma(c),null)}return Ma(c),(c.flags&128)!==0?(c.lanes=f,c):(f=g!==null,o=o!==null&&o.memoizedState!==null,f&&(g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==v&&(g.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),Zm(c,c.updateQueue),wr(c),null);case 4:return Y(),o===null&&L_(c.stateNode.containerInfo),wr(c),null;case 10:return Ri(c.type),wr(c),null;case 19:if(G(Zr),g=c.memoizedState,g===null)return wr(c),null;if(v=(c.flags&128)!==0,N=g.rendering,N===null)if(v)ff(g,!1);else{if(Hr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=Mm(o),N!==null){for(c.flags|=128,ff(g,!1),o=N.updateQueue,c.updateQueue=o,Zm(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)Ck(f,o),f=f.sibling;return q(Zr,Zr.current&1|2),Lt&&$i(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&St()>rg&&(c.flags|=128,v=!0,ff(g,!1),c.lanes=4194304)}else{if(!v)if(o=Mm(N),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,Zm(c,o),ff(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!Lt)return wr(c),null}else 2*St()-g.renderingStartTime>rg&&f!==536870912&&(c.flags|=128,v=!0,ff(g,!1),c.lanes=4194304);g.isBackwards?(N.sibling=c.child,c.child=N):(o=g.last,o!==null?o.sibling=N:c.child=N,g.last=N)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=St(),o.sibling=null,f=Zr.current,q(Zr,v?f&1|2:f&1),Lt&&$i(c,g.treeForkCount),o):(wr(c),null);case 22:case 23:return Ma(c),Iy(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(wr(c),c.subtreeFlags&6&&(c.flags|=8192)):wr(c),f=c.updateQueue,f!==null&&Zm(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),o!==null&&G(Gl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Ri(ln),wr(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function f9(o,c){switch(wy(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ri(ln),Y(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ce(c),null;case 31:if(c.memoizedState!==null){if(Ma(c),c.alternate===null)throw Error(n(340));Hl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Ma(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Hl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return G(Zr),null;case 4:return Y(),null;case 10:return Ri(c.type),null;case 22:case 23:return Ma(c),Iy(),o!==null&&G(Gl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ri(ln),null;case 25:return null;default:return null}}function aE(o,c){switch(wy(c),c.tag){case 3:Ri(ln),Y();break;case 26:case 27:case 5:Ce(c);break;case 4:Y();break;case 31:c.memoizedState!==null&&Ma(c);break;case 13:Ma(c);break;case 19:G(Zr);break;case 10:Ri(c.type);break;case 22:case 23:Ma(c),Iy(),o!==null&&G(Gl);break;case 24:Ri(ln)}}function hf(o,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&o)===o){g=void 0;var N=f.create,O=f.inst;g=N(),O.destroy=g}f=f.next}while(f!==v)}}catch(z){er(c,c.return,z)}}function Wo(o,c,f){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var N=v.next;g=N;do{if((g.tag&o)===o){var O=g.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,v=c;var ee=f,pe=z;try{pe()}catch(Ee){er(v,ee,Ee)}}}g=g.next}while(g!==N)}}catch(Ee){er(c,c.return,Ee)}}function sE(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{Yk(c,f)}catch(g){er(o,o.return,g)}}}function iE(o,c,f){f.props=Jl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){er(o,c,g)}}function mf(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(v){er(o,c,v)}}function ti(o,c){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){er(o,c,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){er(o,c,v)}else f.current=null}function oE(o){var c=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){er(o,o.return,v)}}function g_(o,c,f){try{var g=o.stateNode;R9(g,o.type,f,c),g[xr]=c}catch(v){er(o,o.return,v)}}function lE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&tl(o.type)||o.tag===4}function p_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&tl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function b_(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=ba));else if(g!==4&&(g===27&&tl(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(b_(o,c,f),o=o.sibling;o!==null;)b_(o,c,f),o=o.sibling}function Jm(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(g!==4&&(g===27&&tl(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Jm(o,c,f),o=o.sibling;o!==null;)Jm(o,c,f),o=o.sibling}function cE(o){var c=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);zn(c,g,f),c[ir]=o,c[xr]=f}catch(N){er(o,o.return,N)}}var Ui=!1,dn=!1,y_=!1,uE=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function h9(o,c){if(o=o.containerInfo,U_=_g,o=wk(o),dy(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{f.nodeType,N.nodeType}catch(ut){f=null;break e}var O=0,z=-1,ee=-1,pe=0,Ee=0,$e=o,_e=null;t:for(;;){for(var ke;$e!==f||v!==0&&$e.nodeType!==3||(z=O+v),$e!==N||g!==0&&$e.nodeType!==3||(ee=O+g),$e.nodeType===3&&(O+=$e.nodeValue.length),(ke=$e.firstChild)!==null;)_e=$e,$e=ke;for(;;){if($e===o)break t;if(_e===f&&++pe===v&&(z=O),_e===N&&++Ee===g&&(ee=O),(ke=$e.nextSibling)!==null)break;$e=_e,_e=$e.parentNode}$e=ke}f=z===-1||ee===-1?null:{start:z,end:ee}}else f=null}f=f||{start:0,end:0}}else f=null;for(q_={focusedElem:o,selectionRange:f},_g=!1,Cn=c;Cn!==null;)if(c=Cn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Cn=o;else for(;Cn!==null;){switch(c=Cn,N=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)v=o[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,f=c,v=N.memoizedProps,N=N.memoizedState,g=f.stateNode;try{var Je=Jl(f.type,v);o=g.getSnapshotBeforeUpdate(Je,N),g.__reactInternalSnapshotBeforeUpdate=o}catch(ut){er(f,f.return,ut)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)F_(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":F_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Cn=o;break}Cn=c.return}}function dE(o,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(o,f),g&4&&hf(5,f);break;case 1:if(Bi(o,f),g&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(O){er(f,f.return,O)}else{var v=Jl(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(v,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){er(f,f.return,O)}}g&64&&sE(f),g&512&&mf(f,f.return);break;case 3:if(Bi(o,f),g&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{Yk(o,c)}catch(O){er(f,f.return,O)}}break;case 27:c===null&&g&4&&cE(f);case 26:case 5:Bi(o,f),c===null&&g&4&&oE(f),g&512&&mf(f,f.return);break;case 12:Bi(o,f);break;case 31:Bi(o,f),g&4&&mE(o,f);break;case 13:Bi(o,f),g&4&&gE(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=w9.bind(null,f),z9(o,f))));break;case 22:if(g=f.memoizedState!==null||Ui,!g){c=c!==null&&c.memoizedState!==null||dn,v=Ui;var N=dn;Ui=g,(dn=c)&&!N?zi(o,f,(f.subtreeFlags&8772)!==0):Bi(o,f),Ui=v,dn=N}break;case 30:break;default:Bi(o,f)}}function fE(o){var c=o.alternate;c!==null&&(o.alternate=null,fE(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&xe(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Tr=null,ya=!1;function qi(o,c,f){for(f=f.child;f!==null;)hE(o,c,f),f=f.sibling}function hE(o,c,f){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(yn,f)}catch(N){}switch(f.tag){case 26:dn||ti(f,c),qi(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:dn||ti(f,c);var g=Tr,v=ya;tl(f.type)&&(Tr=f.stateNode,ya=!1),qi(o,c,f),jf(f.stateNode),Tr=g,ya=v;break;case 5:dn||ti(f,c);case 6:if(g=Tr,v=ya,Tr=null,qi(o,c,f),Tr=g,ya=v,Tr!==null)if(ya)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(f.stateNode)}catch(N){er(f,c,N)}else try{Tr.removeChild(f.stateNode)}catch(N){er(f,c,N)}break;case 18:Tr!==null&&(ya?(o=Tr,sA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Nu(o)):sA(Tr,f.stateNode));break;case 4:g=Tr,v=ya,Tr=f.stateNode.containerInfo,ya=!0,qi(o,c,f),Tr=g,ya=v;break;case 0:case 11:case 14:case 15:Wo(2,f,c),dn||Wo(4,f,c),qi(o,c,f);break;case 1:dn||(ti(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&iE(f,c,g)),qi(o,c,f);break;case 21:qi(o,c,f);break;case 22:dn=(g=dn)||f.memoizedState!==null,qi(o,c,f),dn=g;break;default:qi(o,c,f)}}function mE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Nu(o)}catch(f){er(c,c.return,f)}}}function gE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Nu(o)}catch(f){er(c,c.return,f)}}function m9(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new uE),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new uE),c;default:throw Error(n(435,o.tag))}}function Qm(o,c){var f=m9(o);c.forEach(function(g){if(!f.has(g)){f.add(g);var v=j9.bind(null,o,g);g.then(v,v)}})}function _a(o,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],N=o,O=c,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(tl(z.type)){Tr=z.stateNode,ya=!1;break e}break;case 5:Tr=z.stateNode,ya=!1;break e;case 3:case 4:Tr=z.stateNode.containerInfo,ya=!0;break e}z=z.return}if(Tr===null)throw Error(n(160));hE(N,O,v),Tr=null,ya=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)pE(c,o),c=c.sibling}var Ns=null;function pE(o,c){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:_a(c,o),xa(o),g&4&&(Wo(3,o,o.return),hf(3,o),Wo(5,o,o.return));break;case 1:_a(c,o),xa(o),g&512&&(dn||f===null||ti(f,f.return)),g&64&&Ui&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=Ns;if(_a(c,o),xa(o),g&512&&(dn||f===null||ti(f,f.return)),g&4){var N=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":N=v.getElementsByTagName("title")[0],(!N||N[ne]||N[ir]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(g),v.head.insertBefore(N,v.querySelector("head > title"))),zn(N,g,f),N[ir]=o,ze(N),g=N;break e;case"link":var O=pA("link","href",v).get(g+(f.href||""));if(O){for(var z=0;z<O.length;z++)if(N=O[z],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(z,1);break t}}N=v.createElement(g),zn(N,g,f),v.head.appendChild(N);break;case"meta":if(O=pA("meta","content",v).get(g+(f.content||""))){for(z=0;z<O.length;z++)if(N=O[z],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(z,1);break t}}N=v.createElement(g),zn(N,g,f),v.head.appendChild(N);break;default:throw Error(n(468,g))}N[ir]=o,ze(N),g=N}o.stateNode=g}else bA(v,o.type,o.stateNode);else o.stateNode=gA(v,g,o.memoizedProps);else N!==g?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,g===null?bA(v,o.type,o.stateNode):gA(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&g_(o,o.memoizedProps,f.memoizedProps)}break;case 27:_a(c,o),xa(o),g&512&&(dn||f===null||ti(f,f.return)),f!==null&&g&4&&g_(o,o.memoizedProps,f.memoizedProps);break;case 5:if(_a(c,o),xa(o),g&512&&(dn||f===null||ti(f,f.return)),o.flags&32){v=o.stateNode;try{Yn(v,"")}catch(Je){er(o,o.return,Je)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,g_(o,v,f!==null?f.memoizedProps:v)),g&1024&&(y_=!0);break;case 6:if(_a(c,o),xa(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(Je){er(o,o.return,Je)}}break;case 3:if(gg=null,v=Ns,Ns=hg(c.containerInfo),_a(c,o),Ns=v,xa(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Nu(c.containerInfo)}catch(Je){er(o,o.return,Je)}y_&&(y_=!1,bE(o));break;case 4:g=Ns,Ns=hg(o.stateNode.containerInfo),_a(c,o),xa(o),Ns=g;break;case 12:_a(c,o),xa(o);break;case 31:_a(c,o),xa(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 13:_a(c,o),xa(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(tg=St()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 22:v=o.memoizedState!==null;var ee=f!==null&&f.memoizedState!==null,pe=Ui,Ee=dn;if(Ui=pe||v,dn=Ee||ee,_a(c,o),dn=Ee,Ui=pe,xa(o),g&8192)e:for(c=o.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(f===null||ee||Ui||dn||Ql(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){ee=f=c;try{if(N=ee.stateNode,v)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=ee.stateNode;var $e=ee.memoizedProps.style,_e=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;z.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Je){er(ee,ee.return,Je)}}}else if(c.tag===6){if(f===null){ee=c;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(Je){er(ee,ee.return,Je)}}}else if(c.tag===18){if(f===null){ee=c;try{var ke=ee.stateNode;v?iA(ke,!0):iA(ee.stateNode,!1)}catch(Je){er(ee,ee.return,Je)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Qm(o,f))));break;case 19:_a(c,o),xa(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Qm(o,g)));break;case 30:break;case 21:break;default:_a(c,o),xa(o)}}function xa(o){var c=o.flags;if(c&2){try{for(var f,g=o.return;g!==null;){if(lE(g)){f=g;break}g=g.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var v=f.stateNode,N=p_(o);Jm(o,N,v);break;case 5:var O=f.stateNode;f.flags&32&&(Yn(O,""),f.flags&=-33);var z=p_(o);Jm(o,z,O);break;case 3:case 4:var ee=f.stateNode.containerInfo,pe=p_(o);b_(o,pe,ee);break;default:throw Error(n(161))}}catch(Ee){er(o,o.return,Ee)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function bE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;bE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Bi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)dE(o,c.alternate,c),c=c.sibling}function Ql(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Wo(4,c,c.return),Ql(c);break;case 1:ti(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&iE(c,c.return,f),Ql(c);break;case 27:jf(c.stateNode);case 26:case 5:ti(c,c.return),Ql(c);break;case 22:c.memoizedState===null&&Ql(c);break;case 30:Ql(c);break;default:Ql(c)}o=o.sibling}}function zi(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=o,N=c,O=N.flags;switch(N.tag){case 0:case 11:case 15:zi(v,N,f),hf(4,N);break;case 1:if(zi(v,N,f),g=N,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(pe){er(g,g.return,pe)}if(g=N,v=g.updateQueue,v!==null){var z=g.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)Wk(ee[v],z)}catch(pe){er(g,g.return,pe)}}f&&O&64&&sE(N),mf(N,N.return);break;case 27:cE(N);case 26:case 5:zi(v,N,f),f&&g===null&&O&4&&oE(N),mf(N,N.return);break;case 12:zi(v,N,f);break;case 31:zi(v,N,f),f&&O&4&&mE(v,N);break;case 13:zi(v,N,f),f&&O&4&&gE(v,N);break;case 22:N.memoizedState===null&&zi(v,N,f),mf(N,N.return);break;case 30:break;default:zi(v,N,f)}c=c.sibling}}function __(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Qd(f))}function x_(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Qd(o))}function ks(o,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)yE(o,c,f,g),c=c.sibling}function yE(o,c,f,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:ks(o,c,f,g),v&2048&&hf(9,c);break;case 1:ks(o,c,f,g);break;case 3:ks(o,c,f,g),v&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Qd(o)));break;case 12:if(v&2048){ks(o,c,f,g),o=c.stateNode;try{var N=c.memoizedProps,O=N.id,z=N.onPostCommit;typeof z=="function"&&z(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){er(c,c.return,ee)}}else ks(o,c,f,g);break;case 31:ks(o,c,f,g);break;case 13:ks(o,c,f,g);break;case 23:break;case 22:N=c.stateNode,O=c.alternate,c.memoizedState!==null?N._visibility&2?ks(o,c,f,g):gf(o,c):N._visibility&2?ks(o,c,f,g):(N._visibility|=2,hu(o,c,f,g,(c.subtreeFlags&10256)!==0||!1)),v&2048&&__(O,c);break;case 24:ks(o,c,f,g),v&2048&&x_(c.alternate,c);break;default:ks(o,c,f,g)}}function hu(o,c,f,g,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=o,O=c,z=f,ee=g,pe=O.flags;switch(O.tag){case 0:case 11:case 15:hu(N,O,z,ee,v),hf(8,O);break;case 23:break;case 22:var Ee=O.stateNode;O.memoizedState!==null?Ee._visibility&2?hu(N,O,z,ee,v):gf(N,O):(Ee._visibility|=2,hu(N,O,z,ee,v)),v&&pe&2048&&__(O.alternate,O);break;case 24:hu(N,O,z,ee,v),v&&pe&2048&&x_(O.alternate,O);break;default:hu(N,O,z,ee,v)}c=c.sibling}}function gf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,g=c,v=g.flags;switch(g.tag){case 22:gf(f,g),v&2048&&__(g.alternate,g);break;case 24:gf(f,g),v&2048&&x_(g.alternate,g);break;default:gf(f,g)}c=c.sibling}}var pf=8192;function mu(o,c,f){if(o.subtreeFlags&pf)for(o=o.child;o!==null;)_E(o,c,f),o=o.sibling}function _E(o,c,f){switch(o.tag){case 26:mu(o,c,f),o.flags&pf&&o.memoizedState!==null&&eU(f,Ns,o.memoizedState,o.memoizedProps);break;case 5:mu(o,c,f);break;case 3:case 4:var g=Ns;Ns=hg(o.stateNode.containerInfo),mu(o,c,f),Ns=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=pf,pf=16777216,mu(o,c,f),pf=g):mu(o,c,f));break;default:mu(o,c,f)}}function xE(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function bf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Cn=g,wE(g,o)}xE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vE(o),o=o.sibling}function vE(o){switch(o.tag){case 0:case 11:case 15:bf(o),o.flags&2048&&Wo(9,o,o.return);break;case 3:bf(o);break;case 12:bf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,eg(o)):bf(o);break;default:bf(o)}}function eg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Cn=g,wE(g,o)}xE(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Wo(8,c,c.return),eg(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,eg(c));break;default:eg(c)}o=o.sibling}}function wE(o,c){for(;Cn!==null;){var f=Cn;switch(f.tag){case 0:case 11:case 15:Wo(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Qd(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Cn=g;else e:for(f=o;Cn!==null;){g=Cn;var v=g.sibling,N=g.return;if(fE(g),g===f){Cn=null;break e}if(v!==null){v.return=N,Cn=v;break e}Cn=N}}}var g9={getCacheForType:function(o){var c=qn(ln),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return qn(ln).controller.signal}},p9=typeof WeakMap=="function"?WeakMap:Map,Vt=0,dr=null,At=null,Ct=0,Qt=0,Ua=null,Yo=!1,gu=!1,v_=!1,Fi=0,Hr=0,Xo=0,ec=0,w_=0,qa=0,pu=0,yf=null,va=null,j_=!1,tg=0,jE=0,rg=1/0,ng=null,Zo=null,jn=0,Jo=null,bu=null,Hi=0,N_=0,k_=null,NE=null,_f=0,S_=null;function Ba(){return(Vt&2)!==0&&Ct!==0?Ct&-Ct:U.T!==null?$_():sr()}function kE(){if(qa===0)if((Ct&536870912)===0||Lt){var o=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),qa=o}else qa=536870912;return o=Ia.current,o!==null&&(o.flags|=32),qa}function wa(o,c,f){(o===dr&&(Qt===2||Qt===9)||o.cancelPendingCommit!==null)&&(yu(o,0),Qo(o,Ct,qa,!1)),on(o,f),((Vt&2)===0||o!==dr)&&(o===dr&&((Vt&2)===0&&(ec|=f),Hr===4&&Qo(o,Ct,qa,!1)),ri(o))}function SE(o,c,f){if((Vt&6)!==0)throw Error(n(327));var g=!f&&(c&127)===0&&(c&o.expiredLanes)===0||Pt(o,c),v=g?_9(o,c):A_(o,c,!0),N=g;do{if(v===0){gu&&!g&&Qo(o,c,0,!1);break}else{if(f=o.current.alternate,N&&!b9(f)){v=A_(o,c,!1),N=!1;continue}if(v===2){if(N=c,o.errorRecoveryDisabledLanes&N)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var z=o;v=yf;var ee=z.current.memoizedState.isDehydrated;if(ee&&(yu(z,O).flags|=256),O=A_(z,O,!1),O!==2){if(v_&&!ee){z.errorRecoveryDisabledLanes|=N,ec|=N,v=4;break e}N=va,va=v,N!==null&&(va===null?va=N:va.push.apply(va,N))}v=O}if(N=!1,v!==2)continue}}if(v===1){yu(o,0),Qo(o,c,0,!0);break}e:{switch(g=o,N=v,N){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Qo(g,c,qa,!Yo);break e;case 2:va=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(v=tg+300-St(),10<v)){if(Qo(g,c,qa,!Yo),mt(g,0,!0)!==0)break e;Hi=c,g.timeoutHandle=nA(EE.bind(null,g,f,va,ng,j_,c,qa,ec,pu,Yo,N,"Throttled",-0,0),v);break e}EE(g,f,va,ng,j_,c,qa,ec,pu,Yo,N,null,-0,0)}}break}while(!0);ri(o)}function EE(o,c,f,g,v,N,O,z,ee,pe,Ee,$e,_e,ke){if(o.timeoutHandle=-1,$e=c.subtreeFlags,$e&8192||($e&16785408)===16785408){$e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},_E(c,N,$e);var Je=(N&62914560)===N?tg-St():(N&4194048)===N?jE-St():0;if(Je=tU($e,Je),Je!==null){Hi=N,o.cancelPendingCommit=Je(DE.bind(null,o,c,N,f,g,v,O,z,ee,Ee,$e,null,_e,ke)),Qo(o,N,O,!pe);return}}DE(o,c,N,f,g,v,O,z,ee)}function b9(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],N=v.getSnapshot;v=v.value;try{if(!Da(N(),v))return!1}catch(O){return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Qo(o,c,f,g){c&=~w_,c&=~ec,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var v=c;0<v;){var N=31-Ae(v),O=1<<N;g[N]=-1,v&=~O}f!==0&&It(o,f,c)}function ag(){return(Vt&6)===0?(xf(0),!1):!0}function E_(){if(At!==null){if(Qt===0)var o=At.return;else o=At,Pi=Kl=null,Fy(o),lu=null,tf=0,o=At;for(;o!==null;)aE(o.alternate,o),o=o.return;At=null}}function yu(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,I9(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Hi=0,E_(),dr=o,At=f=Ci(o.current,null),Ct=c,Qt=0,Ua=null,Yo=!1,gu=Pt(o,c),v_=!1,pu=qa=w_=ec=Xo=Hr=0,va=yf=null,j_=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var v=31-Ae(g),N=1<<v;c|=o[v],g&=~N}return Fi=c,km(),f}function AE(o,c){xt=null,U.H=uf,c===ou||c===Pm?(c=Hk(),Qt=3):c===Cy?(c=Hk(),Qt=4):Qt=c===s_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ua=c,At===null&&(Hr=1,Gm(o,Xa(c,o.current)))}function TE(){var o=Ia.current;return o===null?!0:(Ct&4194048)===Ct?es===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?o===es:!1}function OE(){var o=U.H;return U.H=uf,o===null?uf:o}function CE(){var o=U.A;return U.A=g9,o}function sg(){Hr=4,Yo||(Ct&4194048)!==Ct&&Ia.current!==null||(gu=!0),(Xo&134217727)===0&&(ec&134217727)===0||dr===null||Qo(dr,Ct,qa,!1)}function A_(o,c,f){var g=Vt;Vt|=2;var v=OE(),N=CE();(dr!==o||Ct!==c)&&(ng=null,yu(o,c)),c=!1;var O=Hr;e:do try{if(Qt!==0&&At!==null){var z=At,ee=Ua;switch(Qt){case 8:E_(),O=6;break e;case 3:case 2:case 9:case 6:Ia.current===null&&(c=!0);var pe=Qt;if(Qt=0,Ua=null,_u(o,z,ee,pe),f&&gu){O=0;break e}break;default:pe=Qt,Qt=0,Ua=null,_u(o,z,ee,pe)}}y9(),O=Hr;break}catch(Ee){AE(o,Ee)}while(!0);return c&&o.shellSuspendCounter++,Pi=Kl=null,Vt=g,U.H=v,U.A=N,At===null&&(dr=null,Ct=0,km()),O}function y9(){for(;At!==null;)$E(At)}function _9(o,c){var f=Vt;Vt|=2;var g=OE(),v=CE();dr!==o||Ct!==c?(ng=null,rg=St()+500,yu(o,c)):gu=Pt(o,c);e:do try{if(Qt!==0&&At!==null){c=At;var N=Ua;t:switch(Qt){case 1:Qt=0,Ua=null,_u(o,c,N,1);break;case 2:case 9:if(zk(N)){Qt=0,Ua=null,PE(c);break}c=function(){Qt!==2&&Qt!==9||dr!==o||(Qt=7),ri(o)},N.then(c,c);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:zk(N)?(Qt=0,Ua=null,PE(c)):(Qt=0,Ua=null,_u(o,c,N,7));break;case 5:var O=null;switch(At.tag){case 26:O=At.memoizedState;case 5:case 27:var z=At;if(O?yA(O):z.stateNode.complete){Qt=0,Ua=null;var ee=z.sibling;if(ee!==null)At=ee;else{var pe=z.return;pe!==null?(At=pe,ig(pe)):At=null}break t}}Qt=0,Ua=null,_u(o,c,N,5);break;case 6:Qt=0,Ua=null,_u(o,c,N,6);break;case 8:E_(),Hr=6;break e;default:throw Error(n(462))}}x9();break}catch(Ee){AE(o,Ee)}while(!0);return Pi=Kl=null,U.H=g,U.A=v,Vt=f,At!==null?0:(dr=null,Ct=0,km(),Hr)}function x9(){for(;At!==null&&!Mn();)$E(At)}function $E(o){var c=rE(o.alternate,o,Fi);o.memoizedProps=o.pendingProps,c===null?ig(o):At=c}function PE(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=XS(f,c,c.pendingProps,c.type,void 0,Ct);break;case 11:c=XS(f,c,c.pendingProps,c.type.render,c.ref,Ct);break;case 5:Fy(c);default:aE(f,c),c=At=Ck(c,Fi),c=rE(f,c,Fi)}o.memoizedProps=o.pendingProps,c===null?ig(o):At=c}function _u(o,c,f,g){Pi=Kl=null,Fy(c),lu=null,tf=0;var v=c.return;try{if(l9(o,v,c,f,Ct)){Hr=1,Gm(o,Xa(f,o.current)),At=null;return}}catch(N){if(v!==null)throw At=v,N;Hr=1,Gm(o,Xa(f,o.current)),At=null;return}c.flags&32768?(Lt||g===1?o=!0:gu||(Ct&536870912)!==0?o=!1:(Yo=o=!0,(g===2||g===9||g===3||g===6)&&(g=Ia.current,g!==null&&g.tag===13&&(g.flags|=16384))),RE(c,o)):ig(c)}function ig(o){var c=o;do{if((c.flags&32768)!==0){RE(c,Yo);return}o=c.return;var f=d9(c.alternate,c,Fi);if(f!==null){At=f;return}if(c=c.sibling,c!==null){At=c;return}At=c=o}while(c!==null);Hr===0&&(Hr=5)}function RE(o,c){do{var f=f9(o.alternate,o);if(f!==null){f.flags&=32767,At=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){At=o;return}At=o=f}while(o!==null);Hr=6,At=null}function DE(o,c,f,g,v,N,O,z,ee){o.cancelPendingCommit=null;do og();while(jn!==0);if((Vt&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(N=c.lanes|c.childLanes,N|=py,gt(o,f,N,O,z,ee),o===dr&&(At=dr=null,Ct=0),bu=c,Jo=o,Hi=f,N_=N,k_=v,NE=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,N9(jt,function(){return qE(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=U.T,U.T=null,v=K.p,K.p=2,O=Vt,Vt|=4;try{h9(o,c,f)}finally{Vt=O,K.p=v,U.T=g}}jn=1,LE(),IE(),ME()}}function LE(){if(jn===1){jn=0;var o=Jo,c=bu,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var g=K.p;K.p=2;var v=Vt;Vt|=4;try{pE(c,o);var N=q_,O=wk(o.containerInfo),z=N.focusedElem,ee=N.selectionRange;if(O!==z&&z&&z.ownerDocument&&vk(z.ownerDocument.documentElement,z)){if(ee!==null&&dy(z)){var pe=ee.start,Ee=ee.end;if(Ee===void 0&&(Ee=pe),"selectionStart"in z)z.selectionStart=pe,z.selectionEnd=Math.min(Ee,z.value.length);else{var $e=z.ownerDocument||document,_e=$e&&$e.defaultView||window;if(_e.getSelection){var ke=_e.getSelection(),Je=z.textContent.length,ut=Math.min(ee.start,Je),cr=ee.end===void 0?ut:Math.min(ee.end,Je);!ke.extend&&ut>cr&&(O=cr,cr=ut,ut=O);var fe=xk(z,ut),le=xk(z,cr);if(fe&&le&&(ke.rangeCount!==1||ke.anchorNode!==fe.node||ke.anchorOffset!==fe.offset||ke.focusNode!==le.node||ke.focusOffset!==le.offset)){var ge=$e.createRange();ge.setStart(fe.node,fe.offset),ke.removeAllRanges(),ut>cr?(ke.addRange(ge),ke.extend(le.node,le.offset)):(ge.setEnd(le.node,le.offset),ke.addRange(ge))}}}}for($e=[],ke=z;ke=ke.parentNode;)ke.nodeType===1&&$e.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<$e.length;z++){var Te=$e[z];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}_g=!!U_,q_=U_=null}finally{Vt=v,K.p=g,U.T=f}}o.current=c,jn=2}}function IE(){if(jn===2){jn=0;var o=Jo,c=bu,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var g=K.p;K.p=2;var v=Vt;Vt|=4;try{dE(o,c.alternate,c)}finally{Vt=v,K.p=g,U.T=f}}jn=3}}function ME(){if(jn===4||jn===3){jn=0,Wr();var o=Jo,c=bu,f=Hi,g=NE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?jn=5:(jn=0,bu=Jo=null,UE(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Zo=null),ar(f),c=c.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(yn,c,void 0,(c.current.flags&128)===128)}catch(ee){}if(g!==null){c=U.T,v=K.p,K.p=2,U.T=null;try{for(var N=o.onRecoverableError,O=0;O<g.length;O++){var z=g[O];N(z.value,{componentStack:z.stack})}}finally{U.T=c,K.p=v}}(Hi&3)!==0&&og(),ri(o),v=o.pendingLanes,(f&261930)!==0&&(v&42)!==0?o===S_?_f++:(_f=0,S_=o):_f=0,xf(0)}}function UE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Qd(c)))}function og(){return LE(),IE(),ME(),qE()}function qE(){if(jn!==5)return!1;var o=Jo,c=N_;N_=0;var f=ar(Hi),g=U.T,v=K.p;try{K.p=32>f?32:f,U.T=null,f=k_,k_=null;var N=Jo,O=Hi;if(jn=0,bu=Jo=null,Hi=0,(Vt&6)!==0)throw Error(n(331));var z=Vt;if(Vt|=4,vE(N.current),yE(N,N.current,O,f),Vt=z,xf(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(yn,N)}catch(ee){}return!0}finally{K.p=v,U.T=g,UE(o,c)}}function BE(o,c,f){c=Xa(f,c),c=a_(o.stateNode,c,2),o=Ko(o,c,2),o!==null&&(on(o,2),ri(o))}function er(o,c,f){if(o.tag===3)BE(o,o,f);else for(;c!==null;){if(c.tag===3){BE(c,o,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Zo===null||!Zo.has(g))){o=Xa(f,o),f=zS(2),g=Ko(c,f,2),g!==null&&(FS(f,g,c,o),on(g,2),ri(g));break}}c=c.return}}function T_(o,c,f){var g=o.pingCache;if(g===null){g=o.pingCache=new p9;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(f)||(v_=!0,v.add(f),o=v9.bind(null,o,c,f),c.then(o,o))}function v9(o,c,f){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,dr===o&&(Ct&f)===f&&(Hr===4||Hr===3&&(Ct&62914560)===Ct&&300>St()-tg?(Vt&2)===0&&yu(o,0):w_|=f,pu===Ct&&(pu=0)),ri(o)}function zE(o,c){c===0&&(c=Kt()),o=zl(o,c),o!==null&&(on(o,c),ri(o))}function w9(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),zE(o,f)}function j9(o,c){var f=0;switch(o.tag){case 31:case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),zE(o,f)}function N9(o,c){return hr(o,c)}var lg=null,xu=null,O_=!1,cg=!1,C_=!1,el=0;function ri(o){o!==xu&&o.next===null&&(xu===null?lg=xu=o:xu=xu.next=o),cg=!0,O_||(O_=!0,S9())}function xf(o,c){if(!C_&&cg){C_=!0;do for(var f=!1,g=lg;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var N=0;else{var O=g.suspendedLanes,z=g.pingedLanes;N=(1<<31-Ae(42|o)+1)-1,N&=v&~(O&~z),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,VE(g,N))}else N=Ct,N=mt(g,g===dr?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||Pt(g,N)||(f=!0,VE(g,N));g=g.next}while(f);C_=!1}}function k9(){FE()}function FE(){cg=O_=!1;var o=0;el!==0&&L9()&&(o=el);for(var c=St(),f=null,g=lg;g!==null;){var v=g.next,N=HE(g,c);N===0?(g.next=null,f===null?lg=v:f.next=v,v===null&&(xu=f)):(f=g,(o!==0||(N&3)!==0)&&(cg=!0)),g=v}jn!==0&&jn!==5||xf(o),el!==0&&(el=0)}function HE(o,c){for(var f=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var O=31-Ae(N),z=1<<O,ee=v[O];ee===-1?((z&f)===0||(z&g)!==0)&&(v[O]=_r(z,c)):ee<=c&&(o.expiredLanes|=z),N&=~z}if(c=dr,f=Ct,f=mt(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===c&&(Qt===2||Qt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Ir(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Pt(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(g!==null&&Ir(g),ar(f)){case 2:case 8:f=Zt;break;case 32:f=jt;break;case 268435456:f=Gt;break;default:f=jt}return g=KE.bind(null,o),f=hr(f,g),o.callbackPriority=c,o.callbackNode=f,c}return g!==null&&g!==null&&Ir(g),o.callbackPriority=2,o.callbackNode=null,2}function KE(o,c){if(jn!==0&&jn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(og()&&o.callbackNode!==f)return null;var g=Ct;return g=mt(o,o===dr?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(SE(o,g,c),HE(o,St()),o.callbackNode!=null&&o.callbackNode===f?KE.bind(null,o):null)}function VE(o,c){if(og())return null;SE(o,c,!0)}function S9(){M9(function(){(Vt&6)!==0?hr(an,k9):FE()})}function $_(){if(el===0){var o=su;o===0&&(o=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),el=o}return el}function GE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ro(""+o)}function WE(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function E9(o,c,f,g,v){if(c==="submit"&&f&&f.stateNode===v){var N=GE((v[xr]||null).action),O=g.submitter;O&&(c=(c=O[xr]||null)?GE(c.formAction):O.getAttribute("formAction"),c!==null&&(N=c,O=null));var z=new tt("action","action",null,g,v);o.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(el!==0){var ee=O?WE(v,O):new FormData(v);Jy(f,{pending:!0,data:ee,method:v.method,action:N},null,ee)}}else typeof N=="function"&&(z.preventDefault(),ee=O?WE(v,O):new FormData(v),Jy(f,{pending:!0,data:ee,method:v.method,action:N},N,ee))},currentTarget:v}]})}}for(var P_=0;P_<gy.length;P_++){var R_=gy[P_],A9=R_.toLowerCase(),T9=R_[0].toUpperCase()+R_.slice(1);js(A9,"on"+T9)}js(kk,"onAnimationEnd"),js(Sk,"onAnimationIteration"),js(Ek,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(K7,"onTransitionRun"),js(V7,"onTransitionStart"),js(G7,"onTransitionCancel"),js(Ak,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function YE(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],v=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var O=g.length-1;0<=O;O--){var z=g[O],ee=z.instance,pe=z.currentTarget;if(z=z.listener,ee!==N&&v.isPropagationStopped())break e;N=z,v.currentTarget=pe;try{N(v)}catch(Ee){Nm(Ee)}v.currentTarget=null,N=ee}else for(O=0;O<g.length;O++){if(z=g[O],ee=z.instance,pe=z.currentTarget,z=z.listener,ee!==N&&v.isPropagationStopped())break e;N=z,v.currentTarget=pe;try{N(v)}catch(Ee){Nm(Ee)}v.currentTarget=null,N=ee}}}}function Tt(o,c){var f=c[Nt];f===void 0&&(f=c[Nt]=new Set);var g=o+"__bubble";f.has(g)||(XE(c,o,2,!1),f.add(g))}function D_(o,c,f){var g=0;c&&(g|=4),XE(f,o,g,c)}var ug="_reactListening"+Math.random().toString(36).slice(2);function L_(o){if(!o[ug]){o[ug]=!0,He.forEach(function(f){f!=="selectionchange"&&(O9.has(f)||D_(f,!1,o),D_(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ug]||(c[ug]=!0,D_("selectionchange",!1,c))}}function XE(o,c,f,g){switch(kA(c)){case 2:var v=aU;break;case 8:v=sU;break;default:v=Z_}f=v.bind(null,c,f,o),v=void 0,!Io||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(c,f,{capture:!0,passive:v}):o.addEventListener(c,f,!0):v!==void 0?o.addEventListener(c,f,{passive:v}):o.addEventListener(c,f,!1)}function I_(o,c,f,g,v){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var z=g.stateNode.containerInfo;if(z===v)break;if(O===4)for(O=g.return;O!==null;){var ee=O.tag;if((ee===3||ee===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;z!==null;){if(O=Se(z),O===null)return;if(ee=O.tag,ee===5||ee===6||ee===26||ee===27){g=N=O;continue e}z=z.parentNode}}g=g.return}Vc(function(){var pe=N,Ee=Do(f),$e=[];e:{var _e=Tk.get(o);if(_e!==void 0){var ke=tt,Je=o;switch(o){case"keypress":if(A(f)===0)break e;case"keydown":case"keyup":ke=j7;break;case"focusin":Je="focus",ke=Ra;break;case"focusout":Je="blur",ke=Ra;break;case"beforeblur":case"afterblur":ke=Ra;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=S7;break;case kk:case Sk:case Ek:ke=wm;break;case Ak:ke=A7;break;case"scroll":case"scrollend":ke=Dt;break;case"wheel":ke=O7;break;case"copy":case"cut":case"paste":ke=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=ik;break;case"toggle":case"beforetoggle":ke=$7}var ut=(c&4)!==0,cr=!ut&&(o==="scroll"||o==="scrollend"),fe=ut?_e!==null?_e+"Capture":null:_e;ut=[];for(var le=pe,ge;le!==null;){var Te=le;if(ge=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ge===null||fe===null||(Te=Zs(le,fe),Te!=null&&ut.push(wf(le,Te,ge))),cr)break;le=le.return}0<ut.length&&(_e=new ke(_e,Je,null,f,Ee),$e.push({event:_e,listeners:ut}))}}if((c&7)===0){e:{if(_e=o==="mouseover"||o==="pointerover",ke=o==="mouseout"||o==="pointerout",_e&&f!==xn&&(Je=f.relatedTarget||f.fromElement)&&(Se(Je)||Je[Wt]))break e;if((ke||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,ke?(Je=f.relatedTarget||f.toElement,ke=pe,Je=Je?Se(Je):null,Je!==null&&(cr=s(Je),ut=Je.tag,Je!==cr||ut!==5&&ut!==27&&ut!==6)&&(Je=null)):(ke=null,Je=pe),ke!==Je)){if(ut=zr,Te="onMouseLeave",fe="onMouseEnter",le="mouse",(o==="pointerout"||o==="pointerover")&&(ut=ik,Te="onPointerLeave",fe="onPointerEnter",le="pointer"),cr=ke==null?_e:Me(ke),ge=Je==null?_e:Me(Je),_e=new ut(Te,le+"leave",ke,f,Ee),_e.target=cr,_e.relatedTarget=ge,Te=null,Se(Ee)===pe&&(ut=new ut(fe,le+"enter",Je,f,Ee),ut.target=ge,ut.relatedTarget=cr,Te=ut),cr=Te,ke&&Je)t:{for(ut=C9,fe=ke,le=Je,ge=0,Te=fe;Te;Te=ut(Te))ge++;Te=0;for(var it=le;it;it=ut(it))Te++;for(;0<ge-Te;)fe=ut(fe),ge--;for(;0<Te-ge;)le=ut(le),Te--;for(;ge--;){if(fe===le||le!==null&&fe===le.alternate){ut=fe;break t}fe=ut(fe),le=ut(le)}ut=null}else ut=null;ke!==null&&ZE($e,_e,ke,ut,!1),Je!==null&&cr!==null&&ZE($e,cr,Je,ut,!0)}}e:{if(_e=pe?Me(pe):window,ke=_e.nodeName&&_e.nodeName.toLowerCase(),ke==="select"||ke==="input"&&_e.type==="file")var Bt=mk;else if(fk(_e))if(gk)Bt=z7;else{Bt=q7;var rt=U7}else ke=_e.nodeName,!ke||ke.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?pe&&Ul(pe.elementType)&&(Bt=mk):Bt=B7;if(Bt&&(Bt=Bt(o,pe))){hk($e,Bt,f,Ee);break e}rt&&rt(o,_e,pe),o==="focusout"&&pe&&_e.type==="number"&&pe.memoizedProps.value!=null&&Ml(_e,"number",_e.value)}switch(rt=pe?Me(pe):window,o){case"focusin":(fk(rt)||rt.contentEditable==="true")&&(Zc=rt,fy=pe,Xd=null);break;case"focusout":Xd=fy=Zc=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,jk($e,f,Ee);break;case"selectionchange":if(H7)break;case"keydown":case"keyup":jk($e,f,Ee)}var wt;if(ly)e:{switch(o){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Xc?uk(o,f)&&($t="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&($t="onCompositionStart");$t&&(ok&&f.locale!=="ko"&&(Xc||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Xc&&(wt=Gc()):(Pa=Ee,Ti="value"in Pa?Pa.value:Pa.textContent,Xc=!0)),rt=dg(pe,$t),0<rt.length&&($t=new sk($t,o,null,f,Ee),$e.push({event:$t,listeners:rt}),wt?$t.data=wt:(wt=dk(f),wt!==null&&($t.data=wt)))),(wt=R7?D7(o,f):L7(o,f))&&($t=dg(pe,"onBeforeInput"),0<$t.length&&(rt=new sk("onBeforeInput","beforeinput",null,f,Ee),$e.push({event:rt,listeners:$t}),rt.data=wt)),E9($e,o,pe,f,Ee)}YE($e,c)})}function wf(o,c,f){return{instance:o,listener:c,currentTarget:f}}function dg(o,c){for(var f=c+"Capture",g=[];o!==null;){var v=o,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=Zs(o,f),v!=null&&g.unshift(wf(o,v,N)),v=Zs(o,c),v!=null&&g.push(wf(o,v,N))),o.tag===3)return g;o=o.return}return[]}function C9(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ZE(o,c,f,g,v){for(var N=c._reactName,O=[];f!==null&&f!==g;){var z=f,ee=z.alternate,pe=z.stateNode;if(z=z.tag,ee!==null&&ee===g)break;z!==5&&z!==26&&z!==27||pe===null||(ee=pe,v?(pe=Zs(f,N),pe!=null&&O.unshift(wf(f,pe,ee))):v||(pe=Zs(f,N),pe!=null&&O.push(wf(f,pe,ee)))),f=f.return}O.length!==0&&o.push({event:c,listeners:O})}var $9=/\r\n?/g,P9=/\u0000|\uFFFD/g;function JE(o){return(typeof o=="string"?o:""+o).replace($9,`
`).replace(P9,"")}function QE(o,c){return c=JE(c),JE(o)===c}function lr(o,c,f,g,v,N){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Yn(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Yn(o,""+g);break;case"className":To(o,"class",g);break;case"tabIndex":To(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":To(o,f,g);break;case"style":Ca(o,g,N);break;case"data":if(c!=="object"){To(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Ro(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(c!=="input"&&lr(o,c,"name",v.name,v,null),lr(o,c,"formEncType",v.formEncType,v,null),lr(o,c,"formMethod",v.formMethod,v,null),lr(o,c,"formTarget",v.formTarget,v,null)):(lr(o,c,"encType",v.encType,v,null),lr(o,c,"method",v.method,v,null),lr(o,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=Ro(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=ba);break;case"onScroll":g!=null&&Tt("scroll",o);break;case"onScrollEnd":g!=null&&Tt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=Ro(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":Tt("beforetoggle",o),Tt("toggle",o),Ao(o,"popover",g);break;case"xlinkActuate":Oa(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Oa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Oa(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Oa(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Oa(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Oa(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Oa(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ao(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Hd.get(f)||f,Ao(o,f,g))}}function M_(o,c,f,g,v,N){switch(f){case"style":Ca(o,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof g=="string"?Yn(o,g):(typeof g=="number"||typeof g=="bigint")&&Yn(o,""+g);break;case"onScroll":g!=null&&Tt("scroll",o);break;case"onScrollEnd":g!=null&&Tt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),c=f.slice(2,v?f.length-7:void 0),N=o[xr]||null,N=N!=null?N[f]:null,typeof N=="function"&&o.removeEventListener(c,N,v),typeof g=="function")){typeof N!="function"&&N!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,g,v);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):Ao(o,f,g)}}}function zn(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",o),Tt("load",o);var g=!1,v=!1,N;for(N in f)if(f.hasOwnProperty(N)){var O=f[N];if(O!=null)switch(N){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:lr(o,c,N,O,f,null)}}v&&lr(o,c,"srcSet",f.srcSet,f,null),g&&lr(o,c,"src",f.src,f,null);return;case"input":Tt("invalid",o);var z=N=O=v=null,ee=null,pe=null;for(g in f)if(f.hasOwnProperty(g)){var Ee=f[g];if(Ee!=null)switch(g){case"name":v=Ee;break;case"type":O=Ee;break;case"checked":ee=Ee;break;case"defaultChecked":pe=Ee;break;case"value":N=Ee;break;case"defaultValue":z=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,c));break;default:lr(o,c,g,Ee,f,null)}}Po(o,N,z,ee,pe,O,v,!1);return;case"select":Tt("invalid",o),g=O=N=null;for(v in f)if(f.hasOwnProperty(v)&&(z=f[v],z!=null))switch(v){case"value":N=z;break;case"defaultValue":O=z;break;case"multiple":g=z;default:lr(o,c,v,z,f,null)}c=N,f=O,o.multiple=!!g,c!=null?Ws(o,!!g,c,!1):f!=null&&Ws(o,!!g,f,!0);return;case"textarea":Tt("invalid",o),N=v=g=null;for(O in f)if(f.hasOwnProperty(O)&&(z=f[O],z!=null))switch(O){case"value":g=z;break;case"defaultValue":v=z;break;case"children":N=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:lr(o,c,O,z,f,null)}pa(o,g,v,N);return;case"option":for(ee in f)if(f.hasOwnProperty(ee)&&(g=f[ee],g!=null))switch(ee){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:lr(o,c,ee,g,f,null)}return;case"dialog":Tt("beforetoggle",o),Tt("toggle",o),Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":Tt("load",o);break;case"video":case"audio":for(g=0;g<vf.length;g++)Tt(vf[g],o);break;case"image":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"embed":case"source":case"link":Tt("error",o),Tt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in f)if(f.hasOwnProperty(pe)&&(g=f[pe],g!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:lr(o,c,pe,g,f,null)}return;default:if(Ul(c)){for(Ee in f)f.hasOwnProperty(Ee)&&(g=f[Ee],g!==void 0&&M_(o,c,Ee,g,f,void 0));return}}for(z in f)f.hasOwnProperty(z)&&(g=f[z],g!=null&&lr(o,c,z,g,f,null))}function R9(o,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,O=null,z=null,ee=null,pe=null,Ee=null;for(ke in f){var $e=f[ke];if(f.hasOwnProperty(ke)&&$e!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":ee=$e;default:g.hasOwnProperty(ke)||lr(o,c,ke,null,g,$e)}}for(var _e in g){var ke=g[_e];if($e=f[_e],g.hasOwnProperty(_e)&&(ke!=null||$e!=null))switch(_e){case"type":N=ke;break;case"name":v=ke;break;case"checked":pe=ke;break;case"defaultChecked":Ee=ke;break;case"value":O=ke;break;case"defaultValue":z=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(n(137,c));break;default:ke!==$e&&lr(o,c,_e,ke,g,$e)}}Il(o,O,z,ee,pe,Ee,N,v);return;case"select":ke=O=z=_e=null;for(N in f)if(ee=f[N],f.hasOwnProperty(N)&&ee!=null)switch(N){case"value":break;case"multiple":ke=ee;default:g.hasOwnProperty(N)||lr(o,c,N,null,g,ee)}for(v in g)if(N=g[v],ee=f[v],g.hasOwnProperty(v)&&(N!=null||ee!=null))switch(v){case"value":_e=N;break;case"defaultValue":z=N;break;case"multiple":O=N;default:N!==ee&&lr(o,c,v,N,g,ee)}c=z,f=O,g=ke,_e!=null?Ws(o,!!f,_e,!1):!!g!=!!f&&(c!=null?Ws(o,!!f,c,!0):Ws(o,!!f,f?[]:"",!1));return;case"textarea":ke=_e=null;for(z in f)if(v=f[z],f.hasOwnProperty(z)&&v!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:lr(o,c,z,null,g,v)}for(O in g)if(v=g[O],N=f[O],g.hasOwnProperty(O)&&(v!=null||N!=null))switch(O){case"value":_e=v;break;case"defaultValue":ke=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==N&&lr(o,c,O,v,g,N)}Ys(o,_e,ke);return;case"option":for(var Je in f)if(_e=f[Je],f.hasOwnProperty(Je)&&_e!=null&&!g.hasOwnProperty(Je))switch(Je){case"selected":o.selected=!1;break;default:lr(o,c,Je,null,g,_e)}for(ee in g)if(_e=g[ee],ke=f[ee],g.hasOwnProperty(ee)&&_e!==ke&&(_e!=null||ke!=null))switch(ee){case"selected":o.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:lr(o,c,ee,_e,g,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in f)_e=f[ut],f.hasOwnProperty(ut)&&_e!=null&&!g.hasOwnProperty(ut)&&lr(o,c,ut,null,g,_e);for(pe in g)if(_e=g[pe],ke=f[pe],g.hasOwnProperty(pe)&&_e!==ke&&(_e!=null||ke!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,c));break;default:lr(o,c,pe,_e,g,ke)}return;default:if(Ul(c)){for(var cr in f)_e=f[cr],f.hasOwnProperty(cr)&&_e!==void 0&&!g.hasOwnProperty(cr)&&M_(o,c,cr,void 0,g,_e);for(Ee in g)_e=g[Ee],ke=f[Ee],!g.hasOwnProperty(Ee)||_e===ke||_e===void 0&&ke===void 0||M_(o,c,Ee,_e,g,ke);return}}for(var fe in f)_e=f[fe],f.hasOwnProperty(fe)&&_e!=null&&!g.hasOwnProperty(fe)&&lr(o,c,fe,null,g,_e);for($e in g)_e=g[$e],ke=f[$e],!g.hasOwnProperty($e)||_e===ke||_e==null&&ke==null||lr(o,c,$e,_e,g,ke)}function eA(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D9(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],N=v.transferSize,O=v.initiatorType,z=v.duration;if(N&&z&&eA(O)){for(O=0,z=v.responseEnd,g+=1;g<f.length;g++){var ee=f[g],pe=ee.startTime;if(pe>z)break;var Ee=ee.transferSize,$e=ee.initiatorType;Ee&&eA($e)&&(ee=ee.responseEnd,O+=Ee*(ee<z?1:(z-pe)/(ee-pe)))}if(--g,c+=8*(N+O)/(v.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var U_=null,q_=null;function fg(o){return o.nodeType===9?o:o.ownerDocument}function tA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rA(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function B_(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var z_=null;function L9(){var o=window.event;return o&&o.type==="popstate"?o===z_?!1:(z_=o,!0):(z_=null,!1)}var nA=typeof setTimeout=="function"?setTimeout:void 0,I9=typeof clearTimeout=="function"?clearTimeout:void 0,aA=typeof Promise=="function"?Promise:void 0,M9=typeof queueMicrotask=="function"?queueMicrotask:typeof aA!="undefined"?function(o){return aA.resolve(null).then(o).catch(U9)}:nA;function U9(o){setTimeout(function(){throw o})}function tl(o){return o==="head"}function sA(o,c){var f=c,g=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){o.removeChild(v),Nu(c);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")jf(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,jf(f);for(var N=f.firstChild;N;){var O=N.nextSibling,z=N.nodeName;N[ne]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=O}}else f==="body"&&jf(o.ownerDocument.body);f=v}while(f);Nu(c)}function iA(o,c){var f=o;o=0;do{var g=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=g}while(f)}function F_(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":F_(f),xe(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function q9(o,c,f,g){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[ne])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=ts(o.nextSibling),o===null)break}return null}function B9(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ts(o.nextSibling),o===null))return null;return o}function oA(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=ts(o.nextSibling),o===null))return null;return o}function H_(o){return o.data==="$?"||o.data==="$~"}function K_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function z9(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function ts(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var V_=null;function lA(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return ts(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function cA(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function uA(o,c,f){switch(c=fg(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function jf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);xe(o)}var rs=new Map,dA=new Set;function hg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ki=K.d;K.d={f:F9,r:H9,D:K9,C:V9,L:G9,m:W9,X:X9,S:Y9,M:Z9};function F9(){var o=Ki.f(),c=ag();return o||c}function H9(o){var c=De(o);c!==null&&c.tag===5&&c.type==="form"?AS(c):Ki.r(o)}var vu=typeof document=="undefined"?null:document;function fA(o,c,f){var g=vu;if(g&&typeof c=="string"&&c){var v=Wn(c);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),dA.has(v)||(dA.add(v),o={rel:o,crossOrigin:f,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),zn(c,"link",o),ze(c),g.head.appendChild(c)))}}function K9(o){Ki.D(o),fA("dns-prefetch",o,null)}function V9(o,c){Ki.C(o,c),fA("preconnect",o,c)}function G9(o,c,f){Ki.L(o,c,f);var g=vu;if(g&&o&&c){var v='link[rel="preload"][as="'+Wn(c)+'"]';c==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+Wn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+Wn(f.imageSizes)+'"]')):v+='[href="'+Wn(o)+'"]';var N=v;switch(c){case"style":N=wu(o);break;case"script":N=ju(o)}rs.has(N)||(o=p({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),rs.set(N,o),g.querySelector(v)!==null||c==="style"&&g.querySelector(Nf(N))||c==="script"&&g.querySelector(kf(N))||(c=g.createElement("link"),zn(c,"link",o),ze(c),g.head.appendChild(c)))}}function W9(o,c){Ki.m(o,c);var f=vu;if(f&&o){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+Wn(g)+'"][href="'+Wn(o)+'"]',N=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=ju(o)}if(!rs.has(N)&&(o=p({rel:"modulepreload",href:o},c),rs.set(N,o),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(kf(N)))return}g=f.createElement("link"),zn(g,"link",o),ze(g),f.head.appendChild(g)}}}function Y9(o,c,f){Ki.S(o,c,f);var g=vu;if(g&&o){var v=ye(g).hoistableStyles,N=wu(o);c=c||"default";var O=v.get(N);if(!O){var z={loading:0,preload:null};if(O=g.querySelector(Nf(N)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},f),(f=rs.get(N))&&G_(o,f);var ee=O=g.createElement("link");ze(ee),zn(ee,"link",o),ee._p=new Promise(function(pe,Ee){ee.onload=pe,ee.onerror=Ee}),ee.addEventListener("load",function(){z.loading|=1}),ee.addEventListener("error",function(){z.loading|=2}),z.loading|=4,mg(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:z},v.set(N,O)}}}function X9(o,c){Ki.X(o,c);var f=vu;if(f&&o){var g=ye(f).hoistableScripts,v=ju(o),N=g.get(v);N||(N=f.querySelector(kf(v)),N||(o=p({src:o,async:!0},c),(c=rs.get(v))&&W_(o,c),N=f.createElement("script"),ze(N),zn(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function Z9(o,c){Ki.M(o,c);var f=vu;if(f&&o){var g=ye(f).hoistableScripts,v=ju(o),N=g.get(v);N||(N=f.querySelector(kf(v)),N||(o=p({src:o,async:!0,type:"module"},c),(c=rs.get(v))&&W_(o,c),N=f.createElement("script"),ze(N),zn(N,"link",o),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function hA(o,c,f,g){var v=(v=be.current)?hg(v):null;if(!v)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=wu(f.href),f=ye(v).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=wu(f.href);var N=ye(v).hoistableStyles,O=N.get(o);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,O),(N=v.querySelector(Nf(o)))&&!N._p&&(O.instance=N,O.state.loading=5),rs.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},rs.set(o,f),N||J9(v,o,f,O.state))),c&&g===null)throw Error(n(528,""));return O}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ju(f),f=ye(v).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function wu(o){return'href="'+Wn(o)+'"'}function Nf(o){return'link[rel="stylesheet"]['+o+"]"}function mA(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function J9(o,c,f,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),zn(c,"link",f),ze(c),o.head.appendChild(c))}function ju(o){return'[src="'+Wn(o)+'"]'}function kf(o){return"script[async]"+o}function gA(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Wn(f.href)+'"]');if(g)return c.instance=g,ze(g),g;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),ze(g),zn(g,"style",v),mg(g,f.precedence,o),c.instance=g;case"stylesheet":v=wu(f.href);var N=o.querySelector(Nf(v));if(N)return c.state.loading|=4,c.instance=N,ze(N),N;g=mA(f),(v=rs.get(v))&&G_(g,v),N=(o.ownerDocument||o).createElement("link"),ze(N);var O=N;return O._p=new Promise(function(z,ee){O.onload=z,O.onerror=ee}),zn(N,"link",g),c.state.loading|=4,mg(N,f.precedence,o),c.instance=N;case"script":return N=ju(f.src),(v=o.querySelector(kf(N)))?(c.instance=v,ze(v),v):(g=f,(v=rs.get(N))&&(g=p({},f),W_(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),ze(v),zn(v,"link",g),o.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,mg(g,f.precedence,o));return c.instance}function mg(o,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,N=v,O=0;O<g.length;O++){var z=g[O];if(z.dataset.precedence===c)N=z;else if(N!==v)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function G_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function W_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var gg=null;function pA(o,c,f){if(gg===null){var g=new Map,v=gg=new Map;v.set(f,g)}else v=gg,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var N=f[v];if(!(N[ne]||N[ir]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(c)||"";O=o+O;var z=g.get(O);z?z.push(N):g.set(O,[N])}}return g}function bA(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function Q9(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function yA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function eU(o,c,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=wu(g.href),N=c.querySelector(Nf(v));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=pg.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=N,ze(N);return}N=c.ownerDocument||c,g=mA(g),(v=rs.get(v))&&G_(g,v),N=N.createElement("link"),ze(N);var O=N;O._p=new Promise(function(z,ee){O.onload=z,O.onerror=ee}),zn(N,"link",g),f.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=pg.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var Y_=0;function tU(o,c){return o.stylesheets&&o.count===0&&yg(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var g=setTimeout(function(){if(o.stylesheets&&yg(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+c);0<o.imgBytes&&Y_===0&&(Y_=62500*D9());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&yg(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>Y_?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function pg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var bg=null;function yg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,bg=new Map,c.forEach(rU,o),bg=null,pg.call(o))}function rU(o,c){if(!(c.state.loading&4)){var f=bg.get(o);if(f)var g=f.get(null);else{f=new Map,bg.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var O=v[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}v=c.instance,O=v.getAttribute("data-precedence"),N=f.get(O)||g,N===g&&f.set(null,v),f.set(O,v),this.count++,g=pg.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),N?N.parentNode.insertBefore(v,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),c.state.loading|=4}}var Sf={$$typeof:S,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function nU(o,c,f,g,v,N,O,z,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function _A(o,c,f,g,v,N,O,z,ee,pe,Ee,$e){return o=new nU(o,c,f,O,ee,pe,Ee,$e,z),c=1,N===!0&&(c|=24),N=La(3,null,null,c),o.current=N,N.stateNode=o,c=Ay(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:g,isDehydrated:f,cache:c},$y(N),o}function xA(o){return o?(o=eu,o):eu}function vA(o,c,f,g,v,N){v=xA(v),g.context===null?g.context=v:g.pendingContext=v,g=Ho(c),g.payload={element:f},N=N===void 0?null:N,N!==null&&(g.callback=N),f=Ko(o,g,c),f!==null&&(wa(f,o,c),nf(f,o,c))}function wA(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function X_(o,c){wA(o,c),(o=o.alternate)&&wA(o,c)}function jA(o){if(o.tag===13||o.tag===31){var c=zl(o,67108864);c!==null&&wa(c,o,67108864),X_(o,67108864)}}function NA(o){if(o.tag===13||o.tag===31){var c=Ba();c=sa(c);var f=zl(o,c);f!==null&&wa(f,o,c),X_(o,c)}}var _g=!0;function aU(o,c,f,g){var v=U.T;U.T=null;var N=K.p;try{K.p=2,Z_(o,c,f,g)}finally{K.p=N,U.T=v}}function sU(o,c,f,g){var v=U.T;U.T=null;var N=K.p;try{K.p=8,Z_(o,c,f,g)}finally{K.p=N,U.T=v}}function Z_(o,c,f,g){if(_g){var v=J_(g);if(v===null)I_(o,c,g,xg,f),SA(o,g);else if(oU(v,o,c,f,g))g.stopPropagation();else if(SA(o,g),c&4&&-1<iU.indexOf(o)){for(;v!==null;){var N=De(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=Et(N.pendingLanes);if(O!==0){var z=N;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var ee=1<<31-Ae(O);z.entanglements[1]|=ee,O&=~ee}ri(N),(Vt&6)===0&&(rg=St()+500,xf(0))}}break;case 31:case 13:z=zl(N,2),z!==null&&wa(z,N,2),ag(),X_(N,2)}if(N=J_(g),N===null&&I_(o,c,g,xg,f),N===v)break;v=N}v!==null&&g.stopPropagation()}else I_(o,c,g,null,f)}}function J_(o){return o=Do(o),Q_(o)}var xg=null;function Q_(o){if(xg=null,o=Se(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=l(c),o!==null)return o;o=null}else if(f===31){if(o=u(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return xg=o,null}function kA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case an:return 2;case Zt:return 8;case jt:case Yr:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var ex=!1,rl=null,nl=null,al=null,Ef=new Map,Af=new Map,sl=[],iU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SA(o,c){switch(o){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Ef.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(c.pointerId)}}function Tf(o,c,f,g,v,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:N,targetContainers:[v]},c!==null&&(c=De(c),c!==null&&jA(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),o)}function oU(o,c,f,g,v){switch(c){case"focusin":return rl=Tf(rl,o,c,f,g,v),!0;case"dragenter":return nl=Tf(nl,o,c,f,g,v),!0;case"mouseover":return al=Tf(al,o,c,f,g,v),!0;case"pointerover":var N=v.pointerId;return Ef.set(N,Tf(Ef.get(N)||null,o,c,f,g,v)),!0;case"gotpointercapture":return N=v.pointerId,Af.set(N,Tf(Af.get(N)||null,o,c,f,g,v)),!0}return!1}function EA(o){var c=Se(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){o.blockedOn=c,Ta(o.priority,function(){NA(f)});return}}else if(c===31){if(c=u(f),c!==null){o.blockedOn=c,Ta(o.priority,function(){NA(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function vg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=J_(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);xn=g,f.target.dispatchEvent(g),xn=null}else return c=De(f),c!==null&&jA(c),o.blockedOn=f,!1;c.shift()}return!0}function AA(o,c,f){vg(o)&&f.delete(c)}function lU(){ex=!1,rl!==null&&vg(rl)&&(rl=null),nl!==null&&vg(nl)&&(nl=null),al!==null&&vg(al)&&(al=null),Ef.forEach(AA),Af.forEach(AA)}function wg(o,c){o.blockedOn===c&&(o.blockedOn=null,ex||(ex=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lU)))}var jg=null;function TA(o){jg!==o&&(jg=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jg===o&&(jg=null);for(var c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],v=o[c+2];if(typeof g!="function"){if(Q_(g||f)===null)continue;break}var N=De(f);N!==null&&(o.splice(c,3),c-=3,Jy(N,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function Nu(o){function c(ee){return wg(ee,o)}rl!==null&&wg(rl,o),nl!==null&&wg(nl,o),al!==null&&wg(al,o),Ef.forEach(c),Af.forEach(c);for(var f=0;f<sl.length;f++){var g=sl[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<sl.length&&(f=sl[0],f.blockedOn===null);)EA(f),f.blockedOn===null&&sl.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],N=f[g+1],O=v[xr]||null;if(typeof N=="function")O||TA(f);else if(O){var z=null;if(N&&N.hasAttribute("formAction")){if(v=N,O=N[xr]||null)z=O.formAction;else if(Q_(v)!==null)continue}else z=O.action;typeof z=="function"?f[g+1]=z:(f.splice(g,3),g-=3),TA(f)}}}function OA(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function tx(o){this._internalRoot=o}Ng.prototype.render=tx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,g=Ba();vA(f,g,o,c,null,null)},Ng.prototype.unmount=tx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;vA(o.current,2,null,o,null,null),ag(),c[Wt]=null}};function Ng(o){this._internalRoot=o}Ng.prototype.unstable_scheduleHydration=function(o){if(o){var c=sr();o={blockedOn:null,target:o,priority:c};for(var f=0;f<sl.length&&c!==0&&c<sl[f].priority;f++);sl.splice(f,0,o),f===0&&EA(o)}};var CA=e.version;if(CA!=="19.2.0")throw Error(n(527,CA,"19.2.0"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var cU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kg.isDisabled&&kg.supportsFiber)try{yn=kg.inject(cU),Ht=kg}catch(o){}}return Cf.createRoot=function(o,c){if(!a(o))throw Error(n(299));var f=!1,g="",v=MS,N=US,O=qS;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=_A(o,1,!1,null,null,f,g,null,v,N,O,OA),o[Wt]=c.current,L_(o),new tx(c)},Cf.hydrateRoot=function(o,c,f){if(!a(o))throw Error(n(299));var g=!1,v="",N=MS,O=US,z=qS,ee=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.formState!==void 0&&(ee=f.formState)),c=_A(o,1,!0,c,f!=null?f:null,g,v,ee,N,O,z,OA),c.context=xA(null),f=c.current,g=Ba(),g=sa(g),v=Ho(g),v.callback=null,Ko(f,v,g),f=g,c.current.lanes=f,on(c,f),ri(c),o[Wt]=c.current,L_(o),new Ng(c)},Cf.version="19.2.0",Cf}var FA;function wU(){if(FA)return sx.exports;FA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sx.exports=vU(),sx.exports}var jU=wU();const NU=_s(jU),pt=t=>typeof t=="string",$f=()=>{let t,e;const r=new Promise((n,a)=>{t=n,e=a});return r.resolve=t,r.reject=e,r},HA=t=>t==null?"":""+t,kU=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},SU=/###/g,KA=t=>t&&t.indexOf("###")>-1?t.replace(SU,"."):t,VA=t=>!t||pt(t),Qf=(t,e,r)=>{const n=pt(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(VA(t))return{};const s=KA(n[a]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++a}return VA(t)?{}:{obj:t,k:KA(n[a])}},GA=(t,e,r)=>{const{obj:n,k:a}=Qf(t,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let s=e[e.length-1],l=e.slice(0,e.length-1),u=Qf(t,l,Object);for(;u.obj===void 0&&l.length;)s=`${l[l.length-1]}.${s}`,l=l.slice(0,l.length-1),u=Qf(t,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${s}`]!="undefined"&&(u.obj=void 0);u.obj[`${u.k}.${s}`]=r},EU=(t,e,r,n)=>{const{obj:a,k:s}=Qf(t,e,Object);a[s]=a[s]||[],a[s].push(r)},Tp=(t,e)=>{const{obj:r,k:n}=Qf(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},AU=(t,e,r)=>{const n=Tp(t,r);return n!==void 0?n:Tp(e,r)},K$=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?pt(t[n])||t[n]instanceof String||pt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):K$(t[n],e[n],r):t[n]=e[n]);return t},Eu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var TU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const OU=t=>pt(t)?t.replace(/[&<>"'\/]/g,e=>TU[e]):t;class CU{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const $U=[" ",",","?","!",";"],PU=new CU(20),RU=(t,e,r)=>{e=e||"",r=r||"";const n=$U.filter(l=>e.indexOf(l)<0&&r.indexOf(l)<0);if(n.length===0)return!0;const a=PU.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let s=!a.test(t);if(!s){const l=t.indexOf(r);l>0&&!a.test(t.substring(0,l))&&(s=!0)}return s},_w=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let a=t;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let l,u="";for(let d=s;d<n.length;++d)if(d!==s&&(u+=r),u+=n[d],l=a[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<n.length-1)continue;s+=d-s+1;break}a=l}return a},ch=t=>t==null?void 0:t.replace("_","-"),DU={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class Op{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||DU,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(pt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Op(this.logger,J({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Op(this.logger,e)}}var oi=new Op;let X0=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,s])=>{for(let l=0;l<s;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let l=0;l<s;l++)a.apply(a,[e,...r])})}};class WA extends X0{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){var h,m;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,r],n&&(Array.isArray(n)?u.push(...n):pt(n)&&s?u.push(...n.split(s)):u.push(n)));const d=Tp(this.data,u);return!d&&!r&&!n&&e.indexOf(".")>-1&&(e=u[0],r=u[1],n=u.slice(2).join(".")),d||!l||!pt(n)?d:_w((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[r],n,s)}addResource(e,r,n,a,s={silent:!1}){const l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,r];n&&(u=u.concat(l?n.split(l):n)),e.indexOf(".")>-1&&(u=e.split("."),a=r,r=u[1]),this.addNamespaces(r),GA(this.data,u,a),s.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const s in n)(pt(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,s,l={silent:!1,skipCopy:!1}){let u=[e,r];e.indexOf(".")>-1&&(u=e.split("."),a=n,n=r,r=u[1]),this.addNamespaces(r);let d=Tp(this.data,u)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?K$(d,n,s):d=J(J({},d),n),GA(this.data,u,d),l.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var V$={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,a){return t.forEach(s=>{var l,u;e=(u=(l=this.processors[s])==null?void 0:l.process(e,r,n,a))!=null?u:e}),e}};const G$=Symbol("i18next/PATH_KEY");function LU(){const t=[],e=Object.create(null);let r;return e.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===G$?t:(t.push(a),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function xw(t,e){var n;const{[G$]:r}=t(LU());return r.join((n=e==null?void 0:e.keySeparator)!=null?n:".")}const YA={},cx=t=>!pt(t)&&typeof t!="boolean"&&typeof t!="number";class Cp extends X0{constructor(e,r={}){super(),kU(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=oi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n=J({},r);if(e==null)return!1;const a=this.resolve(e,n);if((a==null?void 0:a.res)===void 0)return!1;const s=cx(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const l=n&&e.indexOf(n)>-1,u=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!RU(e,n,a);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:pt(s)?[s]:s};const h=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(a)}return{key:e,namespaces:pt(s)?[s]:s}}translate(e,r,n){let a=typeof r=="object"?J({},r):r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a=J({},a)),a||(a={}),e==null)return"";typeof e=="function"&&(e=xw(e,J(J({},this.options),a))),Array.isArray(e)||(e=[String(e)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],a),h=d[d.length-1];let m=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const p=a.lng||this.language,b=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return b?s?{res:`${h}${m}${u}`,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:`${h}${m}${u}`:s?{res:u,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:u;const y=this.resolve(e,a);let _=y==null?void 0:y.res;const w=(y==null?void 0:y.usedKey)||u,j=(y==null?void 0:y.exactUsedKey)||u,k=["[object Number]","[object Function]","[object RegExp]"],E=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,P=a.count!==void 0&&!pt(a.count),C=Cp.hasDefaultValue(a),I=P?this.pluralResolver.getSuffix(p,a.count,a):"",$=a.ordinal&&P?this.pluralResolver.getSuffix(p,a.count,{ordinal:!1}):"",B=P&&!a.ordinal&&a.count===0,H=B&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${I}`]||a[`defaultValue${$}`]||a.defaultValue;let se=_;S&&!_&&C&&(se=H);const D=cx(se),R=Object.prototype.toString.apply(se);if(S&&se&&D&&k.indexOf(R)<0&&!(pt(E)&&Array.isArray(se))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,se,je(J({},a),{ns:d})):`key '${u} (${this.language})' returned an object instead of string.`;return s?(y.res=L,y.usedParams=this.getUsedParamsDetails(a),y):L}if(l){const L=Array.isArray(se),V=L?[]:{},Z=L?j:w;for(const U in se)if(Object.prototype.hasOwnProperty.call(se,U)){const K=`${Z}${l}${U}`;C&&!_?V[U]=this.translate(K,je(J({},a),{defaultValue:cx(H)?H[U]:void 0,joinArrays:!1,ns:d})):V[U]=this.translate(K,je(J({},a),{joinArrays:!1,ns:d})),V[U]===K&&(V[U]=se[U])}_=V}}else if(S&&pt(E)&&Array.isArray(_))_=_.join(E),_&&(_=this.extendTranslation(_,e,a,n));else{let L=!1,V=!1;!this.isValidLookup(_)&&C&&(L=!0,_=H),this.isValidLookup(_)||(V=!0,_=u);const U=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:_,K=C&&H!==_&&this.options.updateMissing;if(V||L||K){if(this.logger.log(K?"updateKey":"missingKey",p,h,u,K?H:_),l){const M=this.resolve(u,je(J({},a),{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let M=0;M<X.length;M++)W.push(X[M]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(a.lng||this.language):W.push(a.lng||this.language);const Q=(M,G,q)=>{var ie;const ae=C&&q!==_?q:U;this.options.missingKeyHandler?this.options.missingKeyHandler(M,h,G,ae,K,a):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing(M,h,G,ae,K,a),this.emit("missingKey",M,h,G,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?W.forEach(M=>{const G=this.pluralResolver.getSuffixes(M,a);B&&a[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(q=>{Q([M],u+q,a[`defaultValue${q}`]||H)})}):Q(W,u,H))}_=this.extendTranslation(_,e,a,y,n),V&&_===u&&this.options.appendNamespaceToMissingKey&&(_=`${h}${m}${u}`),(V||L)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${u}`:u,L?_:void 0,a))}return s?(y.res=_,y.usedParams=this.getUsedParamsDetails(a),y):_}extendTranslation(e,r,n,a,s){var d,h;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,J(J({},this.options.interpolation.defaultVariables),n),n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(je(J({},n),{interpolation:J(J({},this.options.interpolation),n.interpolation)}));const m=pt(e)&&(((h=n==null?void 0:n.interpolation)==null?void 0:h.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(m){const y=e.match(this.interpolator.nestingRegexp);p=y&&y.length}let b=n.replace&&!pt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(b=J(J({},this.options.interpolation.defaultVariables),b)),e=this.interpolator.interpolate(e,b,n.lng||this.language||a.usedLng,n),m){const y=e.match(this.interpolator.nestingRegexp),_=y&&y.length;p<_&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>(s==null?void 0:s[0])===y[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${r[0]}`),null):this.translate(...y,r),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=pt(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&n.applyPostProcessor!==!1&&(e=V$.handle(u,e,r,this.options&&this.options.postProcessPassResolved?J({i18nResolved:je(J({},a),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e,r={}){let n,a,s,l,u;return pt(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(d,r),m=h.key;a=m;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const b=r.count!==void 0&&!pt(r.count),y=b&&!r.ordinal&&r.count===0,_=r.context!==void 0&&(pt(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(j=>{var k,E;this.isValidLookup(n)||(u=j,!YA[`${w[0]}-${j}`]&&((k=this.utils)!=null&&k.hasLoadedNamespace)&&!((E=this.utils)!=null&&E.hasLoadedNamespace(u))&&(YA[`${w[0]}-${j}`]=!0,this.logger.warn(`key "${a}" for languages "${w.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(S=>{var I;if(this.isValidLookup(n))return;l=S;const P=[m];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(P,m,S,j,r);else{let $;b&&($=this.pluralResolver.getSuffix(S,r.count,r));const B=`${this.options.pluralSeparator}zero`,H=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(r.ordinal&&$.indexOf(H)===0&&P.push(m+$.replace(H,this.options.pluralSeparator)),P.push(m+$),y&&P.push(m+B)),_){const se=`${m}${this.options.contextSeparator||"_"}${r.context}`;P.push(se),b&&(r.ordinal&&$.indexOf(H)===0&&P.push(se+$.replace(H,this.options.pluralSeparator)),P.push(se+$),y&&P.push(se+B))}}let C;for(;C=P.pop();)this.isValidLookup(n)||(s=C,n=this.getResource(S,j,C,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!pt(e.replace);let a=n?e.replace:e;if(n&&typeof e.count!="undefined"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=J(J({},this.options.interpolation.defaultVariables),a)),!n){a=J({},a);for(const s of r)delete a[s]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class XA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=oi.create("languageUtils")}getScriptPartFromCode(e){if(e=ch(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=ch(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(pt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch(n){}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(l=>{if(l===s)return l;if(!(l.indexOf("-")<0&&s.indexOf("-")<0)&&(l.indexOf("-")>0&&s.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===s||l.indexOf(s)===0&&s.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),pt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],s=l=>{l&&(this.isSupportedCode(l)?a.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return pt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):pt(e)&&s(this.formatLanguageCode(e)),n.forEach(l=>{a.indexOf(l)<0&&s(this.formatLanguageCode(l))}),a}}const ZA={zero:0,one:1,two:2,few:3,many:4,other:5},JA={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class IU{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=oi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=ch(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let l;try{l=new Intl.PluralRules(n,{type:a})}catch(u){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),JA;if(!e.match(/-|_/))return JA;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,r)}return this.pluralRulesCache[s]=l,l}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>ZA[a]-ZA[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const QA=(t,e,r,n=".",a=!0)=>{let s=AU(t,e,r);return!s&&a&&pt(r)&&(s=_w(t,r,n),s===void 0&&(s=_w(e,r,n))),s},ux=t=>t.replace(/\$/g,"$$$$");class e3{constructor(e={}){var r;this.logger=oi.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:p,nestingPrefix:b,nestingPrefixEscaped:y,nestingSuffix:_,nestingSuffixEscaped:w,nestingOptionsSeparator:j,maxReplaces:k,alwaysFormat:E}=e.interpolation;this.escape=r!==void 0?r:OU,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Eu(s):l||"{{",this.suffix=u?Eu(u):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=b?Eu(b):y||Eu("$t("),this.nestingSuffix=_?Eu(_):w||Eu(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=k||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){var y;let s,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const E=QA(r,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,n,je(J(J({},a),r),{interpolationkey:_})):E}const w=_.split(this.formatSeparator),j=w.shift().trim(),k=w.join(this.formatSeparator).trim();return this.format(QA(r,d,j,this.options.keySeparator,this.options.ignoreJSONStructure),k,n,je(J(J({},a),r),{interpolationkey:j}))};this.resetRegExp();const m=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((y=a==null?void 0:a.interpolation)==null?void 0:y.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>ux(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?ux(this.escape(_)):ux(_)}].forEach(_=>{for(u=0;s=_.regex.exec(e);){const w=s[1].trim();if(l=h(w),l===void 0)if(typeof m=="function"){const k=m(e,s,a);l=pt(k)?k:""}else if(a&&Object.prototype.hasOwnProperty.call(a,w))l="";else if(p){l=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),l="";else!pt(l)&&!this.useRawValueToEscape&&(l=HA(l));const j=_.safeValue(l);if(e=e.replace(s[0],j),p?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,s,l;const u=(d,h)=>{var w;const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const p=d.split(new RegExp(`${m}[ ]*{`));let b=`{${p[1]}`;d=p[0],b=this.interpolate(b,l);const y=b.match(/'/g),_=b.match(/"/g);(((w=y==null?void 0:y.length)!=null?w:0)%2===0&&!_||_.length%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),h&&(l=J(J({},h),l))}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,j),`${d}${m}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];l=J({},n),l=l.replace&&!pt(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(h!==-1&&(d=a[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),a[1]=a[1].slice(0,h)),s=r(u.call(this,a[1].trim(),l),l),s&&a[0]===e&&!pt(s))return s;pt(s)||(s=HA(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),s=""),d.length&&(s=d.reduce((m,p)=>this.format(m,p,n.lng,je(J({},n),{interpolationkey:a[1].trim()})),s.trim())),e=e.replace(a[0],s),this.regexp.lastIndex=0}return e}}const MU=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=u.trim();r[m]||(r[m]=h),h==="false"&&(r[m]=!1),h==="true"&&(r[m]=!0),isNaN(h)||(r[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},t3=t=>{const e={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s=je(J({},s),{[a.interpolationkey]:void 0}));const l=n+JSON.stringify(s);let u=e[l];return u||(u=t(ch(n),a),e[l]=u),u(r)}},UU=t=>(e,r,n)=>t(ch(r),n)(e);class qU{constructor(e={}){this.logger=oi.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?t3:UU;this.formats={number:n((a,s)=>{const l=new Intl.NumberFormat(a,J({},s));return u=>l.format(u)}),currency:n((a,s)=>{const l=new Intl.NumberFormat(a,je(J({},s),{style:"currency"}));return u=>l.format(u)}),datetime:n((a,s)=>{const l=new Intl.DateTimeFormat(a,J({},s));return u=>l.format(u)}),relativetime:n((a,s)=>{const l=new Intl.RelativeTimeFormat(a,J({},s));return u=>l.format(u,s.range||"day")}),list:n((a,s)=>{const l=new Intl.ListFormat(a,J({},s));return u=>l.format(u)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=t3(r)}format(e,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(u=>u.indexOf(")")>-1)){const u=s.findIndex(d=>d.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,u)].join(this.formatSeparator)}return s.reduce((u,d)=>{var p;const{formatName:h,formatOptions:m}=MU(d);if(this.formats[h]){let b=u;try{const y=((p=a==null?void 0:a.formatParams)==null?void 0:p[a.interpolationkey])||{},_=y.locale||y.lng||a.locale||a.lng||n;b=this.formats[h](u,_,J(J(J({},m),a),y))}catch(y){this.logger.warn(y)}return b}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const BU=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class zU extends X0{constructor(e,r,n,a={}){var s,l;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=oi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(l=(s=this.backend)==null?void 0:s.init)==null||l.call(s,n,a.backend,a)}queueLoad(e,r,n,a){const s={},l={},u={},d={};return e.forEach(h=>{let m=!0;r.forEach(p=>{const b=`${h}|${p}`;!n.reload&&this.store.hasResourceBundle(h,p)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,m=!1,l[b]===void 0&&(l[b]=!0),s[b]===void 0&&(s[b]=!0),d[p]===void 0&&(d[p]=!0)))}),m||(u[h]=!0)}),(Object.keys(s).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,r,n){const a=e.split("|"),s=a[0],l=a[1];r&&this.emit("failedLoading",s,l,r),!r&&n&&this.store.addResourceBundle(s,l,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const u={};this.queue.forEach(d=>{EU(d.loaded,[s],l),BU(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{u[h]||(u[h]={});const m=d.loaded[h];m.length&&m.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,r,n,a=0,s=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:s,callback:l});return}this.readingCalls++;const u=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&m&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,s*2,l)},s);return}l(h,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const h=d(e,r);h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}return}return d(e,r,u)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();pt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),pt(r)&&(r=[r]);const s=this.queueLoad(e,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(l=>{this.loadOne(l)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,l),!l&&u&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,u),this.loaded(e,l,u)})}saveMissing(e,r,n,a,s,l={},u=()=>{}){var d,h,m,p,b;if((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace&&!((p=(m=this.services)==null?void 0:m.utils)!=null&&p.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((b=this.backend)!=null&&b.create){const y=je(J({},l),{isUpdate:s}),_=this.backend.create.bind(this.backend);if(_.length<6)try{let w;_.length===5?w=_(e,r,n,a,y):w=_(e,r,n,a),w&&typeof w.then=="function"?w.then(j=>u(null,j)).catch(u):u(null,w)}catch(w){u(w)}else _(e,r,n,a,u,y)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const r3=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),pt(t[1])&&(e.defaultValue=t[1]),pt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),n3=t=>{var e,r;return pt(t.ns)&&(t.ns=[t.ns]),pt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),pt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Eg=()=>{},FU=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class eh extends X0{constructor(e={},r){if(super(),this.options=n3(e),this.services={},this.logger=oi,this.modules={external:[]},FU(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(pt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=r3();this.options=J(J(J({},n),this.options),n3(e)),this.options.interpolation=J(J({},n.interpolation),this.options.interpolation),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?oi.init(a(this.modules.logger),this.options):oi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=qU;const m=new XA(this.options);this.store=new WA(this.options.resources,this.options);const p=this.services;p.logger=oi,p.resourceStore=this.store,p.languageUtils=m,p.pluralResolver=new IU(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=a(h),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new e3(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new zU(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Cp(this.services,this.options),this.translator.on("*",(y,..._)=>{this.emit(y,..._)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Eg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const u=$f(),d=()=>{const h=(m,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(p),r(m,p)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,r=Eg){var s,l;let n=r;const a=pt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const u=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&u.indexOf(p)<0&&u.push(p)})};a?d(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(l=(s=this.options.preload)==null?void 0:s.forEach)==null||l.call(s,h=>d(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(h)})}else n(null)}reloadResources(e,r,n){const a=$f();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Eg),this.services.backendConnector.reload(e,r,s=>{a.resolve(),n(s)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&V$.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=$f();this.emit("languageChanging",e);const a=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},s=(u,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),r&&r(u,(...h)=>this.t(...h))},l=u=>{var m,p;!e&&!u&&this.services.languageDetector&&(u=[]);const d=pt(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(pt(u)?[u]:u);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),(p=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||p.call(m,h)),this.loadResources(h,b=>{s(b,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,r,n){const a=(s,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([s,l].concat(u)):d=J({},l),d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||a.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(s)?m=s.map(p=>(typeof p=="function"&&(p=xw(p,J(J({},this.options),l))),`${d.keyPrefix}${h}${p}`)):(typeof s=="function"&&(s=xw(s,J(J({},this.options),l))),m=d.keyPrefix?`${d.keyPrefix}${h}${s}`:s),this.t(m,d)};return pt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const h=this.services.backendConnector.state[`${u}|${d}`];return h===-1||h===0||h===2};if(r.precheck){const u=r.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,e)&&(!a||l(s,e)))}loadNamespaces(e,r){const n=$f();return this.options.ns?(pt(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=$f();pt(e)&&(e=[e]);const a=this.options.preload||[],s=e.filter(l=>a.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return s.length?(this.options.preload=a.concat(s),this.loadResources(l=>{n.resolve(),r&&r(l)}),n):(r&&r(),Promise.resolve())}dir(e){var a,s;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const u=l.getTextInfo();if(u&&u.direction)return u.direction}}catch(l){}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new XA(r3());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new eh(e,r);return n.createInstance=eh.createInstance,n}cloneInstance(e={},r=Eg){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a=je(J(J({},this.options),e),{isClone:!0}),s=new eh(a);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services=J({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const u=Object.keys(this.store.data).reduce((d,h)=>(d[h]=J({},this.store.data[h]),d[h]=Object.keys(d[h]).reduce((m,p)=>(m[p]=J({},d[h][p]),m),d[h]),d),{});s.store=new WA(u,a),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new e3(a)),s.translator=new Cp(s.services,a),s.translator.on("*",(u,...d)=>{s.emit(u,...d)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ha=eh.createInstance();ha.createInstance;ha.dir;ha.init;ha.loadResources;ha.reloadResources;ha.use;ha.changeLanguage;ha.getFixedT;ha.t;ha.exists;ha.setDefaultNamespace;ha.hasLoadedNamespace;ha.loadNamespaces;ha.loadLanguages;const HU=(t,e,r,n)=>{var s,l,u,d;const a=[r,J({code:e},n||{})];if((l=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&l.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);Nc(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(d=(u=t==null?void 0:t.services)==null?void 0:u.logger)!=null&&d.warn?t.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},a3={},W$=(t,e,r,n)=>{Nc(r)&&a3[r]||(Nc(r)&&(a3[r]=new Date),HU(t,e,r,n))},Y$=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},vw=(t,e,r)=>{t.loadNamespaces(e,Y$(t,r))},s3=(t,e,r,n)=>{if(Nc(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return vw(t,r,n);r.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,Y$(t,n))},KU=(t,e,r={})=>!e.languages||!e.languages.length?(W$(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,t))return!1}}),Nc=t=>typeof t=="string",VU=t=>typeof t=="object"&&t!==null,GU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,WU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},YU=t=>WU[t],XU=t=>t.replace(GU,YU);let ww={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:XU,transDefaultProps:void 0};const ZU=(t={})=>{ww=J(J({},ww),t)},JU=()=>ww;let X$;const QU=t=>{X$=t},eq=()=>X$,tq={type:"3rdParty",init(t){ZU(t.options.react),QU(t)}},rq=x.createContext();class nq{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var dx={exports:{}},fx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function aq(){if(i3)return fx;i3=1;var t=Sd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(p,b){var y=b(),_=n({inst:{value:y,getSnapshot:b}}),w=_[0].inst,j=_[1];return s(function(){w.value=y,w.getSnapshot=b,d(w)&&j({inst:w})},[p,y,b]),a(function(){return d(w)&&j({inst:w}),p(function(){d(w)&&j({inst:w})})},[p]),l(y),y}function d(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!r(p,y)}catch(_){return!0}}function h(p,b){return b()}var m=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?h:u;return fx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,fx}var o3;function Z$(){return o3||(o3=1,dx.exports=aq()),dx.exports}var sq=Z$();const iq=(t,e)=>Nc(e)?e:VU(e)&&Nc(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,oq={t:iq,ready:!1},lq=()=>()=>{},nn=(t,e={})=>{var H,se,D;const{i18n:r}=e,{i18n:n,defaultNS:a}=x.useContext(rq)||{},s=r||n||eq();s&&!s.reportNamespaces&&(s.reportNamespaces=new nq),s||W$(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>{var R;return J(J(J({},JU()),(R=s==null?void 0:s.options)==null?void 0:R.react),e)},[s,e]),{useSuspense:u,keyPrefix:d}=l,h=a||((H=s==null?void 0:s.options)==null?void 0:H.defaultNS),m=Nc(h)?[h]:h||["translation"],p=x.useMemo(()=>m,m);(D=(se=s==null?void 0:s.reportNamespaces)==null?void 0:se.addUsedNamespaces)==null||D.call(se,p);const b=x.useRef(0),y=x.useCallback(R=>{if(!s)return lq;const{bindI18n:L,bindI18nStore:V}=l,Z=()=>{b.current+=1,R()};return L&&s.on(L,Z),V&&s.store.on(V,Z),()=>{L&&L.split(" ").forEach(U=>s.off(U,Z)),V&&V.split(" ").forEach(U=>s.store.off(U,Z))}},[s,l]),_=x.useRef(),w=x.useCallback(()=>{if(!s)return oq;const R=!!(s.isInitialized||s.initializedStoreOnce)&&p.every(W=>KU(W,s,l)),L=e.lng||s.language,V=b.current,Z=_.current;if(Z&&Z.ready===R&&Z.lng===L&&Z.keyPrefix===d&&Z.revision===V)return Z;const K={t:s.getFixedT(L,l.nsMode==="fallback"?p:p[0],d),ready:R,lng:L,keyPrefix:d,revision:V};return _.current=K,K},[s,p,d,l,e.lng]),[j,k]=x.useState(0),{t:E,ready:S}=sq.useSyncExternalStore(y,w,w);x.useEffect(()=>{if(s&&!S&&!u){const R=()=>k(L=>L+1);e.lng?s3(s,e.lng,p,R):vw(s,p,R)}},[s,e.lng,p,S,u,j]);const P=s||{},C=x.useRef(null),I=x.useRef(),$=R=>{const L=Object.getOwnPropertyDescriptors(R);L.__original&&delete L.__original;const V=Object.create(Object.getPrototypeOf(R),L);if(!Object.prototype.hasOwnProperty.call(V,"__original"))try{Object.defineProperty(V,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch(Z){}return V},B=x.useMemo(()=>{const R=P,L=R==null?void 0:R.language;let V=R;R&&(C.current&&C.current.__original===R?I.current!==L?(V=$(R),C.current=V,I.current=L):V=C.current:(V=$(R),C.current=V,I.current=L));const Z=[E,V,S];return Z.t=E,Z.i18n=V,Z.ready=S,Z},[E,P,S,P.resolvedLanguage,P.language,P.languages]);if(s&&u&&!S)throw new Promise(R=>{const L=()=>R();e.lng?s3(s,e.lng,p,L):vw(s,p,L)});return B},{slice:cq,forEach:uq}=[];function dq(t){return uq.call(cq.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function fq(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const l3=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hq=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let s=`${t}=${a}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!l3.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!l3.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s},c3={create(t,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=hq(t,e,a)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var mq={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document!="undefined")return c3.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:s}=e;r&&typeof document!="undefined"&&c3.create(r,t,n,a,s)}},gq={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window!="undefined"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const l=a.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(r=l[u].substring(d+1))}}return r}},pq={name:"hash",lookup(t){var a;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window!="undefined"){const{hash:s}=window.location;if(s&&s.length>2){const l=s.substring(1);if(e){const u=l.split("&");for(let d=0;d<u.length;d++){const h=u[d].indexOf("=");h>0&&u[d].substring(0,h)===e&&(n=u[d].substring(h+1))}}if(n)return n;if(!n&&r>-1){const u=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?(a=u[typeof r=="number"?r:0])==null?void 0:a.replace("/",""):void 0}}}return n}};let Au=null;const u3=()=>{if(Au!==null)return Au;try{if(Au=typeof window!="undefined"&&window.localStorage!==null,!Au)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){Au=!1}return Au};var bq={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&u3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&u3()&&window.localStorage.setItem(r,t)}};let Tu=null;const d3=()=>{if(Tu!==null)return Tu;try{if(Tu=typeof window!="undefined"&&window.sessionStorage!==null,!Tu)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){Tu=!1}return Tu};var yq={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&d3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&d3()&&window.sessionStorage.setItem(r,t)}},_q={name:"navigator",lookup(t){const e=[];if(typeof navigator!="undefined"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let s=0;s<r.length;s++)e.push(r[s]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},xq={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document!="undefined"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},vq={name:"path",lookup(t){var a;let{lookupFromPathIndex:e}=t;if(typeof window=="undefined")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},wq={name:"subdomain",lookup(t){var a,s;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window!="undefined"&&((s=(a=window.location)==null?void 0:a.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let J$=!1;try{document.cookie,J$=!0}catch(t){}const Q$=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];J$||Q$.splice(1,1);const jq=()=>({order:Q$,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class eP{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=dq(r,this.options||{},jq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(mq),this.addDetector(gq),this.addDetector(bq),this.addDetector(yq),this.addDetector(_q),this.addDetector(xq),this.addDetector(vq),this.addDetector(wq),this.addDetector(pq)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!fq(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}eP.type="languageDetector";const Nq=" .",kq="",Sq="",Eq=" ",Aq=" ",Tq="  ",Oq="",Cq=" ",$q=" ",Pq=" / ",Rq=" ",Dq="",Lq=" ",Iq=" ",Mq=" ",Uq=" / ",qq="  ",Bq="",zq="  ()",Fq="  !  ( )",Hq=" ",Kq=" ",Vq=" ",Gq=" ",Wq=" ",Yq="",Xq="",Zq="",Jq="",Qq="",eB="Google Maps",tB="",rB=" ",nB="  !",aB="",sB=": {{date}}",iB=": {{date}}",oB="",lB="",cB="",uB="",dB="",fB="",hB="",mB="",gB="{{count}}",pB="",bB="",yB="",_B="",xB="",vB="  ",wB=" ",jB="  ",NB=" ",kB=" ",SB=" ",EB="",AB="  ",TB="",OB=",   .",CB="         .<br /><br /><strong>   ?</strong>",$B=" ",PB="  !",RB='   <span className="font-bold text-amber-500">(+{{amount}} Cr)</span><br />.',DB=" ",LB=",  ",IB="+{{amount}} Credits",MB="        !",UB=" {{length}}  .",qB="     .",BB="  {{limit}} .   ,   .",zB="       .      !",FB="    .",HB="        :)",KB="     {{limit}}. ,   !",VB="         .   :)",GB=" .",WB=",   .   !",YB=`   ? 
(   {{amount}}  )`,XB="   ?",ZB=" .",JB=` ,
  .`,QB="  .",ez=`  .
  .`,tz="    .",rz="  !",nz=" ",az=" ",sz=" ",iz=" ",oz=" ",lz="",cz="",uz="  .",dz=" ",fz="",hz="",mz=" ",gz=" !",pz=",   ! <br />   .",bz="",yz="!",_z=" ",xz=" 8 ",vz="",wz="",jz=" ",Nz=" ",kz="",Sz=" ",Ez="",Az=" ",Tz=" ",Oz="{{cost}}   (: {{balance}})",Cz="[ ] ",$z=" .",Pz="  8 .",Rz="  ",Dz="  .   .",Lz="    .",Iz="",Mz="",Uz=" ",qz=" ",Bz="    ",zz="  ",Fz="  ",Hz=" ",Kz=" ",Vz="",Gz="",Wz="3+",Yz="   .",Xz="",Zz="",Jz="",Qz="  ",eF="  {{time}}",tF=" ",rF=" ",nF=" {{time}}",aF="",sF="",iF=" {{time}}",oF="  ",lF=" ?",cF="  ",uF="     .",dF="    ",fF="   ",hF="   ",mF="  ",gF="    ",pF="",bF=" ...",yF="",_F=" ?",xF="     <br />  . ",vF="",wF="  .",jF="  .",NF=" <br />! ",kF='"     ."',SF='  <span className="text-urgency font-bold">50 </span> .',EF="   ,",AF="    ~",TF="  ",OF="Powered by Q",CF="",$F="+{{count}}   ",PF="DIGITAL LOCK",RF="",DF="",LF="OPEN",IF="",MF="+",UF="",qF="",BF=" ",zF="",FF="",HF="",KF="",VF="",GF="(  )",WF="  ",YF=" ",XF="      .",ZF=" ...",JF=" ",QF=" !",eH=" <br /> .",tH=" ",rH='   .<br /><span className="font-bold select-all text-gray-800 dark:text-white">qseek77@gmail.com</span><br />  .',nH="",aH="   .",sH=" !",iH=",   ! <br />   .",oH="!",lH=" ",cH=" ",uH=" 8 ",dH="",fH="[ ] ",hH="    .",mH="",gH="",pH=" ",bH=" ",yH="Google ",_H="Naver ",xH="Kakao ",vH=" ",wH="     .<br />  .",jH=" .",NH="!",kH="",SH="!  ...",EH="",AH="  .",TH="",OH="   .",CH="",$H="  .",PH="",RH="  !",DH="",LH="  .",IH="",MH="   ",UH=" ",qH="",BH="",zH=" ",FH="",HH="",KH="",VH="",GH=" ,  ",WH="     ,<br /> ? ",YH="   ,<br />  !",XH="  .",ZH="   <br />    . ",JH="  ",QH="   <br />  .",eK="  ",tK="      .<br />(Bidet)  !",rK=" ",nK="     .",aK="",sK=" ",iK=" ",oK=" ",lK=" ",cK=" ",uK=" ()",dK="  No!",fK="    .<br />     . ",hK=" ",mK="     ,<br />    .",gK=" ",pK=" . <br />    ! ( )",bK="  ",yK="?",_K="    <br />     .",xK=" ",vK=" ",wK="    .",jK=" ",NK="       .",kK="",SK="        ,      .",EK="  ",AK=" ",TK="    <br />  ! ",OK=" ",CK="     .",$K=" ",PK=" , ,      .",RK="   ()",DK="      .",LK="*          .",IK=" <br /> ",MK="",UK="    .",qK="     .",BK=`    
  .
(/     )`,zK="  ",FK=". 5 .",HK=".",KK="  ",VK=" ",GK=" ",WK=" ",YK="  ",XK="",ZK="   ",JK="  ",QK=":     ",eV="",tV="",rV=" ",nV=" ",aV=" ",sV=" ",iV=" ",oV=" ",lV="",cV="",uV="",dV=" ()",fV=":   ,   ",hV="",mV="",gV="  (+5 Cr)",pV="",bV="",yV=" ...",_V=" ...",xV=" !",vV=" !",wV=" .<br />   . ",jV='<span className="text-primary-600 dark:text-primary-400 font-bold">  .</span><br />! ',NV="",kV=" ?",SV='   <br /><span className="font-bold text-red-600 dark:text-red-400">5 </span>.',EV="    .",AV="",TV=" .  .",OV=" ",CV="",$V="",PV=": 2024 12 6",RV="1 ()",DV='  ( "")           ,   ,      .',LV="2 ()",IV='""          .',MV='""         .',UV='""        .',qV='" " ,   ,        .',BV='""     ,        .',zV="3 (   )",FV="1.  ",HV="         .",KV="2.  ",VV="            ,             7    .",GV="4 (   )",WV="1.  ",YV="      ",XV="    ",ZV="     ",JV="    ",QV="   ",eG="     ",tG="2.   ",rG="  1 24   . ,  ,        ,    .",nG="5 ()",aG="1.  ",sG=" , ,         .",iG="2.  ",oG="    ,        .",lG="3.  ",cG=" 14      .",uG="6 ( )",dG="          .           .",fG=":",hG="",mG="7 ( )",gG="1. ",pG="       :",bG="   ",yG="     ",_G="   ",xG="  , ,      ",vG="     ",wG="     ",jG="   ",NG="2.  ",kG="      ,      .",SG="8 ( )",EG="1.  ",AG="       :",TG=": 50 ",OG="  :    ",CG=" :   ",$G=" :   ",PG="2.  ",RG="             .",DG="3.   ",LG="   ,    .",IG="9 ( )",MG="1.  ",UG="    ,        .",qG="2.  ",BG="          :",zG="   ",FG="   ",HG="   ",KG="    ",VG="10 (  )",GG="         , , ,      .",WG="11 ()",YG="1.   ",XG=" , ,   , ,            .",ZG="2.  ",JG="        ,        .",QG="3.   ",eW="     3       .",tW="12 ()",rW="      .          , , , ,     3    .",nW="13 ( )",aW="1. ",sW="           .",iW="2. ",oW="        ,   .",lW="14 ()",cW="  2024 12 6 .",uW="",dW=": qseek77@gmail.com",fW=": ",hW=" ",mW=" : 2025 12 6",gW='( "")    ,       .      ,    ,    ,    .',pW="1.   ",bW="  ",yW=" :     ",_W=":    ",xW="  ",vW="  ,  ",wW="  (  )",jW="2.     ",NW="   :  ,  ",kW=" :    ,   ",SW=" :   ,   ",EW=" :  ,  ",AW="3.     ",TW="           .",OW=" :   ",CW=":           ",$W="4.     ",PW="        ,     .",RW=" :      ",DW=" :         ",LW="5. 3 ",IW="    3  . ,    :",MW="   ",UW="  ,           ",qW="6.   ",BW="          :",zW="Google",FW=" : , ",HW="Naver",KW=" : , ",VW="Kakao",GW=" : , ",WW="              .",YW="7.    ",XW="       :",ZW="  ",JW="  ",QW="  ",eY="   ",tY='  :   " "       ',rY="8.  ",nY="      ,                .",aY=" ",sY=":",iY="9.   ",oY="  ,       ,         7      .",lY="  2025 12 6 .",cY=" ",uY="   .",dY={test_message:Nq,settings:kq,theme:Sq,dark_mode:Eq,light_mode:Aq,theme_description:Tq,language:Oq,menu_title:Cq,customer_support:$q,contact_us:Pq,ad_inquiry:Rq,logout:Dq,withdraw:Lq,service_guide:Iq,guide_usage:Mq,guide_credit:Uq,guide_registration:qq,together:Bq,donate:zq,donate_alert:Fq,share_app:Hq,app_info:Kq,terms_of_service:Vq,privacy_policy:Gq,version_info:Wq,destination:Yq,distance:Xq,duration:Zq,kakao_map:Jq,naver_map:Qq,google_map:eB,reviews:tB,write_review:rB,first_review:nB,report:aB,update_date:sB,reg_date:iB,view_map:oB,tissue:lB,tissue_yes:cB,tissue_no:uB,bidet:dB,bidet_yes:fB,bidet_no:hB,toilet_stall:mB,stalls_count:gB,note:pB,anonymous:bB,review_edit:yB,review_delete:_B,report_title:xB,report_reason_select:vB,report_reason_password:wB,report_reason_owner:jB,report_reason_doorlock:NB,report_reason_tissue:kB,report_reason_bidet:SB,report_reason_other:EB,report_other_placeholder:AB,submit:TB,owner_apology_title:OB,owner_apology_desc:CB,request_delete:$B,review_success_title:PB,review_reward_desc:RB,watch_ad:DB,later:LB,reward_credits:IB,alert_copy_paste:MB,alert_min_length:UB,alert_report_fast:qB,alert_report_limit:BB,alert_report_duplicate:zB,alert_report_error:FB,alert_review_fast:HB,alert_review_limit:KB,alert_review_duplicate:VB,alert_review_saved:GB,alert_review_failed:WB,review_delete_confirm:YB,review_delete_confirm_simple:XB,review_deleted:ZB,review_deleted_deducted:JB,review_delete_fail:QB,report_thanks_title:ez,report_add_detail:tz,report_select_reason:rz,my_page_title:nz,my_credit:az,charge_with_ad:sz,recommend_and_charge:iz,my_registrations:oz,favorites:lz,review_management:cz,no_reviews_written:uz,deleted_toilet:dz,prev_page:fz,next_page:hz,change_nickname:mz,change_complete:gz,nickname_success_message:pz,confirm:bz,awesome:yz,new_nickname:_z,max_8_chars_placeholder:xz,cancel:vz,save:wz,password_unlocked:jz,password_locked:Nz,public_data:kz,toilet_password:Sz,none:Ez,check_password:Az,unlock_with_ad:Tz,credit_deduction:Oz,admin_dashboard:Cz,nickname_input_alert:$z,nickname_length_alert:Pz,nickname_update_fail:Rz,withdraw_complete_alert:Dz,withdraw_fail_alert:Lz,nav_home:Iz,nav_register:Mz,nav_my_info:Uz,search_placeholder:qz,nearest_center:Bz,nearest_user:zz,search_this_area:Fz,sort_distance:Hz,sort_rating:Kz,filter_paper:Vz,filter_bidet:Gz,filter_score_3plus:Wz,no_toilets_found:Yz,toilet_type_public:Xz,toilet_type_commercial:Zz,toilet_type_other:Jz,distance_from_current:Qz,walking_time_approx:eF,my_location:tF,nav_directions:rF,walking_time:nF,map_kakao:aF,map_naver:sF,walking_time_approx_short:iF,map_load_fail:oF,exit_modal_title:lF,withdraw_reason_title:cF,withdraw_reason_desc:uF,withdraw_reason_1:dF,withdraw_reason_2:fF,withdraw_reason_3:hF,withdraw_reason_4:mF,withdraw_reason_5:gF,withdraw_other:pF,withdraw_reason_placeholder:bF,withdraw_next:yF,withdraw_confirm_title:_F,withdraw_confirm_desc:xF,withdraw_confirm_btn:vF,withdraw_alert_reason:wF,withdraw_alert_other:jF,welcome_title:NF,welcome_subtitle:kF,welcome_bonus:SF,welcome_msg_1:EF,welcome_msg_2:AF,welcome_btn:TF,powered_by:OF,notice_confirm:CF,notice_more:$F,doorlock_brand:PF,doorlock_delete:RF,doorlock_enter:DF,doorlock_open:LF,credit_unit:IF,credit_earn:MF,credit_confirm:UF,contact_title:qF,contact_type_label:BF,contact_type_error:zF,contact_type_partner:FF,contact_type_ad:HF,contact_type_other:KF,contact_info_label:VF,contact_info_hint:GF,contact_info_placeholder:WF,contact_content_label:YF,contact_content_placeholder:XF,contact_sending:ZF,contact_send:JF,contact_success_title:QF,contact_success_desc:eH,contact_fail_title:tH,contact_fail_desc:rH,contact_close:nH,contact_alert_input:aH,nickname_success_title:sH,nickname_success_desc:iH,nickname_awesome:oH,nickname_change_title:lH,nickname_new_label:cH,nickname_placeholder:uH,nickname_save:dH,admin_login_notice:fH,exit_modal_desc:hH,exit_modal_cancel:mH,exit_modal_confirm:gH,splash_subtitle:pH,login_required_title:bH,login_google:yH,login_naver:_H,login_kakao:xH,toilet_selection_title:vH,toilet_selection_desc:wH,account_restored:jH,welcome_back:NH,level_hand:kH,level_desc_0:SH,level_straw:EH,level_desc_1:AH,level_newspaper:TH,level_desc_2:OH,level_roll_tissue:CH,level_desc_3:$H,level_box_tissue:PH,level_desc_4:RH,level_wet_tissue:DH,level_desc_5:LH,level_bidet:IH,level_desc_6:MH,tos_title:UH,privacy_title:qH,go_home:BH,go_home_full:zH,guide_tab_intro:FH,guide_tab_levels:HH,guide_tab_credits:KH,guide_tab_etiquette:VH,guide_intro_title:GH,guide_intro_desc:WH,guide_intro_clean:YH,guide_intro_unity_title:XH,guide_intro_unity_desc:ZH,guide_nearest_title:JH,guide_nearest_desc:QH,guide_level_system:eK,guide_level_desc:tK,guide_credit_tips:rK,guide_credit_desc:nK,guide_credit_signup:aK,guide_credit_toilet_reg:sK,guide_credit_level_up:iK,guide_credit_write_review:oK,guide_credit_report:lK,guide_credit_unlock:cK,guide_etiquette_title:uK,guide_etiquette_fake_title:dK,guide_etiquette_fake_desc:fK,guide_etiquette_spam_title:hK,guide_etiquette_spam_desc:mK,guide_etiquette_respect_title:gK,guide_etiquette_respect_desc:pK,credit_guide_title:bK,credit_what_is:yK,credit_what_is_desc:_K,credit_how_to_earn:xK,credit_earn_ad_title:vK,credit_earn_ad_desc:wK,credit_earn_invite_title:jK,credit_earn_invite_desc:NK,credit_usage_title:kK,credit_usage_desc:SK,reg_guide_title:EK,reg_guide_subtitle:AK,reg_guide_desc:TK,reg_step_1_title:OK,reg_step_1_desc:CK,reg_step_2_title:$K,reg_step_2_desc:PK,reg_step_3_title:RK,reg_step_3_desc:DK,reg_guide_warning:LK,submit_login_required_title:IK,submit_login_btn:MK,submit_location_error:UK,submit_location_korea_only:qK,submit_location_land_only:BK,submit_address_none:zK,submit_delete_success_deduct:FK,submit_delete_success:HK,submit_set_location:KK,submit_page_title_edit:VK,submit_page_title_new:GK,submit_edit_location:WK,submit_find_location:YK,submit_label_address:XK,submit_placeholder_address:ZK,submit_label_name:JK,submit_placeholder_name:QK,submit_label_floor:eV,submit_label_password:tV,submit_placeholder_password:rV,submit_label_stalls:nV,submit_paper_yes:aV,submit_paper_no:sV,submit_bidet_yes:iV,submit_bidet_no:oV,submit_gender_male:lV,submit_gender_female:cV,submit_gender_unisex:uV,submit_label_note:dV,submit_placeholder_note:fV,submit_btn_edit_complete:hV,submit_btn_delete:mV,submit_btn_share_update:gV,submit_btn_private:pV,submit_btn_share:bV,submit_processing_edit:yV,submit_processing_new:_V,submit_complete_edit:xV,submit_complete_new:vV,submit_desc_processing:wV,submit_desc_complete:jV,submit_btn_close:NV,submit_delete_confirm_title:kV,submit_delete_warning:SV,submit_delete_desc:EV,submit_btn_cancel:AV,submit_error_general:TV,submit_fail_process:OV,submit_default_pw_name:CV,submit_default_open_name:$V,tos_date:PV,tos_article_1_title:RV,tos_article_1_content:DV,tos_article_2_title:LV,tos_article_2_li_1:IV,tos_article_2_li_2:MV,tos_article_2_li_3:UV,tos_article_2_li_4:qV,tos_article_2_li_5:BV,tos_article_3_title:zV,tos_article_3_sub_1_title:FV,tos_article_3_sub_1_content:HV,tos_article_3_sub_2_title:KV,tos_article_3_sub_2_content:VV,tos_article_4_title:GV,tos_article_4_sub_1_title:WV,tos_article_4_sub_1_li_1:YV,tos_article_4_sub_1_li_2:XV,tos_article_4_sub_1_li_3:ZV,tos_article_4_sub_1_li_4:JV,tos_article_4_sub_1_li_5:QV,tos_article_4_sub_1_li_6:eG,tos_article_4_sub_2_title:tG,tos_article_4_sub_2_content:rG,tos_article_5_title:nG,tos_article_5_sub_1_title:aG,tos_article_5_sub_1_content:sG,tos_article_5_sub_2_title:iG,tos_article_5_sub_2_content:oG,tos_article_5_sub_3_title:lG,tos_article_5_sub_3_content:cG,tos_article_6_title:uG,tos_article_6_content:dG,tos_article_6_link:fG,tos_article_6_btn:hG,tos_article_7_title:mG,tos_article_7_sub_1_title:gG,tos_article_7_sub_1_content:pG,tos_article_7_sub_1_li_1:bG,tos_article_7_sub_1_li_2:yG,tos_article_7_sub_1_li_3:_G,tos_article_7_sub_1_li_4:xG,tos_article_7_sub_1_li_5:vG,tos_article_7_sub_1_li_6:wG,tos_article_7_sub_1_li_7:jG,tos_article_7_sub_2_title:NG,tos_article_7_sub_2_content:kG,tos_article_8_title:SG,tos_article_8_sub_1_title:EG,tos_article_8_sub_1_content:AG,tos_article_8_sub_1_li_1:TG,tos_article_8_sub_1_li_2:OG,tos_article_8_sub_1_li_3:CG,tos_article_8_sub_1_li_4:$G,tos_article_8_sub_2_title:PG,tos_article_8_sub_2_content:RG,tos_article_8_sub_3_title:DG,tos_article_8_sub_3_content:LG,tos_article_9_title:IG,tos_article_9_sub_1_title:MG,tos_article_9_sub_1_content:UG,tos_article_9_sub_2_title:qG,tos_article_9_sub_2_content:BG,tos_article_9_sub_2_li_1:zG,tos_article_9_sub_2_li_2:FG,tos_article_9_sub_2_li_3:HG,tos_article_9_sub_2_li_4:KG,tos_article_10_title:VG,tos_article_10_content:GG,tos_article_11_title:WG,tos_article_11_sub_1_title:YG,tos_article_11_sub_1_content:XG,tos_article_11_sub_2_title:ZG,tos_article_11_sub_2_content:JG,tos_article_11_sub_3_title:QG,tos_article_11_sub_3_content:eW,tos_article_12_title:tW,tos_article_12_content:rW,tos_article_13_title:nW,tos_article_13_sub_1_title:aW,tos_article_13_sub_1_content:sW,tos_article_13_sub_2_title:iW,tos_article_13_sub_2_content:oW,tos_article_14_title:lW,tos_article_14_content:cW,tos_footer_contact_title:uW,tos_footer_email:dW,tos_footer_service:fW,tos_go_home:hW,privacy_date:mW,privacy_intro:gW,privacy_sec_1_title:pW,privacy_sec_1_req_title:bW,privacy_sec_1_req_li_1:yW,privacy_sec_1_req_li_2:_W,privacy_sec_1_auto_title:xW,privacy_sec_1_auto_li_1:vW,privacy_sec_1_auto_li_2:wW,privacy_sec_2_title:jW,privacy_sec_2_li_1:NW,privacy_sec_2_li_2:kW,privacy_sec_2_li_3:SW,privacy_sec_2_li_4:EW,privacy_sec_3_title:AW,privacy_sec_3_content:TW,privacy_sec_3_box_period:OW,privacy_sec_3_box_exception:CW,privacy_sec_4_title:$W,privacy_sec_4_content:PW,privacy_sec_4_li_1:RW,privacy_sec_4_li_2:DW,privacy_sec_5_title:LW,privacy_sec_5_content:IW,privacy_sec_5_li_1:MW,privacy_sec_5_li_2:UW,privacy_sec_6_title:qW,privacy_sec_6_content:BW,privacy_sec_6_google:zW,privacy_sec_6_google_info:FW,privacy_sec_6_naver:HW,privacy_sec_6_naver_info:KW,privacy_sec_6_kakao:VW,privacy_sec_6_kakao_info:GW,privacy_sec_6_footer:WW,privacy_sec_7_title:YW,privacy_sec_7_content:XW,privacy_sec_7_li_1:ZW,privacy_sec_7_li_2:JW,privacy_sec_7_li_3:QW,privacy_sec_7_li_4:eY,privacy_sec_7_box:tY,privacy_sec_8_title:rY,privacy_sec_8_content:nY,privacy_sec_8_role:aY,privacy_sec_8_email:sY,privacy_sec_9_title:iY,privacy_sec_9_content:oY,privacy_footer_date:lY,privacy_footer_contact:cY,privacy_footer_contact_end:uY},fY="This is a test message.",hY="Settings",mY="Theme",gY="Dark Mode",pY="Light Mode",bY="Change screen style",yY="Language",_Y="Menu",xY="Support",vY="Contact / Report",wY="Ad Inquiry",jY="Log Out",NY="Delete Account",kY="Guide",SY="Usage Guide",EY="Credit Guide",AY="Registration Guide",TY="Together",OY="Donate (Coming Soon)",CY="Thank you for your support! (Coming soon)",$Y="Share App",PY="App Info",RY="Terms of Service",DY="Privacy Policy",LY="Version Info",IY="Destination",MY="Distance",UY="Duration",qY="Kakao Map",BY="Naver Map",zY="Google Maps",FY="Reviews",HY="Write Review",KY="Be the first to review!",VY="Report",GY="Updated: {{date}}",WY="Registered: {{date}}",YY="Map",XY="Tissue",ZY="Yes",JY="No",QY="Bidet",eX="Yes",tX="No",rX="Stalls",nX="{{count}}",aX="Note",sX="Anonymous",iX="Edit",oX="Delete",lX="Report Issue",cX="Please select a reason",uX="Wrong Password",dX="Owner requested deletion",fX="Doorlock installed",hX="No tissue",mX="No bidet",gX="Other",pX="Please provide details",bX="Cancel",yX="Submit",_X="Dear Owner, we apologize.",xX="This service is for people in urgent need. We ask for your understanding.<br /><br /><strong>Are you sure you want to request deletion?</strong>",vX="Request Deletion",wX="Thank you for your review!",jX='You will receive <span className="font-bold text-amber-500">Credits (+{{amount}} Cr)</span><br />after watching an ad.',NX="Watch Ad",kX="Maybe later",SX="+{{amount}} Credits",EX="Confirm",AX="Please write in your own words for better accuracy!",TX="Please write at least {{length}} characters.",OX="Please review carefully before submitting.",CX="You can report up to {{limit}} times a day.",$X="You can only report the same place once a day.",PX="Error submitting report.",RX="Please provide more details :)",DX="You can write up to {{limit}} reviews a day.",LX="You can only review the same place once a day.",IX="Review updated.",MX="Failed to save review. Please try again!",UX=`Are you sure? 
({{amount}} credits earned will be deducted)`,qX="Are you sure you want to delete this review?",BX="Review deleted.",zX="Review deleted and credits deducted.",FX="Failed to delete review.",HX=`Report received.
We will process it ASAP.`,KX="Please provide more details.",VX="Please tell us the issue!",GX="My Page",WX="My Credits",YX="Watch Ad for Points",XX="Refer & Earn",ZX="My Posts",JX="Favorites",QX="My Reviews",eZ="No reviews written yet.",tZ="Deleted Place",rZ="Prev",nZ="Next",aZ="Change Nickname",sZ="Success!",iZ="That's a cool nickname! <br />Start using your new name.",oZ="Awesome!",lZ="New Nickname",cZ="Max 8 characters",uZ="Save",dZ="Unlocked",fZ="Locked",hZ="Public Data",mZ="Toilet Password",gZ="None",pZ="Unlock",bZ="Watch Ad to Unlock",yZ="{{cost}} Credits (Balance: {{balance}})",_Z="[Admin] Dashboard",xZ="Please enter a nickname.",vZ="Nickname cannot exceed 8 characters.",wZ="Failed to update nickname.",jZ="Account deleted successfully. Thank you.",NZ="Failed to delete account.",kZ="Home",SZ="Register",EZ="My Info",AZ="Search Toilet",TZ="Nearest from Center",OZ="Nearest Toilet",CZ="Search This Area",$Z=" Distance",PZ=" Rating",RZ="Tissue",DZ="Bidet",LZ="3+ Score",IZ="No toilets found.",MZ="Public",UZ="Commercial",qZ="Other",BZ="Distance from here",zZ="Walk ~{{time}} min",FZ="My Location",HZ="Directions",KZ="Walk {{time}} min",VZ="Kakao Map",GZ="Naver Map",WZ="Approx {{time}} min",YZ="Map Load Failed",XZ="Exit App?",ZZ="Reason for Leaving",JZ="Your feedback helps us improve.",QZ="I don't use the app anymore",eJ="Too many errors, hard to use",tJ="Not enough toilet info",rJ="Privacy concerns",nJ="Want to rejoin with a new account",aJ="Other",sJ="Please enter your reason...",iJ="Next",oJ="Are you sure?",lJ="All earned points will be lost<br />and cannot be recovered. ",cJ="Withdraw",uJ="Please select a reason.",dJ="Please enter a reason.",fJ="Welcome to<br />Toilet Share! ",hJ='"Information sharing app for your urgent moments."',mJ='Here is a <span className="text-urgency font-bold">50 Credit</span> welcome bonus.',gJ="Be prepared for emergencies,",pJ="Let's help each other out!~",bJ="Let's help each other ",yJ="Powered by Q",_J="I checked",xJ="+{{count}} more notifications",vJ="DIGITAL LOCK",wJ="DEL",jJ="ENT",NJ="OPEN",kJ="Credits",SJ="+",EJ="Confirm",AJ="Contact Us",TJ="Inquiry Type",OJ="Service Error",CJ="Partnership",$J="Advertising",PJ="Other",RJ="Contact Info",DJ="(To receive reply)",LJ="Phone or Email",IJ="Message",MJ="Please provide details for a faster response.",UJ="Sending...",qJ="Send Message",BJ="Sent Successfully!",zJ="Your message has been sent<br />to the administrator.",FJ="Failed to Send",HJ='Mail system error occurred.<br />Please contact <span className="font-bold select-all text-gray-800 dark:text-white">qseek77@gmail.com</span><br />directly.',KJ="Close",VJ="Please populate both contact info and message.",GJ="Change Complete!",WJ="Wow, what a cool nickname! <br />Start your activities with your new name.",YJ="Awesome!",XJ="Change Nickname",ZJ="New Nickname",JJ="Max 8 chars",QJ="Save",eQ="[Admin] Dashboard",tQ="Press confirm to close the app.",rQ="Cancel",nQ="Exit",aQ="United in Urgency",sQ="Login Required",iQ="Start with Google",oQ="Start with Naver",lQ="Start with Kakao",cQ="Select Toilet",uQ="Multiple toilets found.<br />Please select one.",dQ="Account restored.",fQ="Welcome back!",hQ="Hand",mQ="Welcome! Humble beginnings...",gQ="Straw",pQ="You got some tools.",bQ="Newspaper",yQ="Now it's wipeable.",_Q="Roll Tissue",xQ="Basic dignity achieved.",vQ="Box Tissue",wQ="Icon of soft consideration!",jQ="Wet Tissue",NQ="Cleanliness itself.",kQ="Bidet",SQ="True King of Toilets ",EQ="Terms of Service",AQ="Privacy Policy",TQ="Home",OQ="Return to Home",CQ="Intro",$Q="Levels",PQ="Credits",RQ="Etiquette",DQ="Joy of Emptying, Thanks for Filling",LQ="Don't forget the relief<br />when you solved the urgent issue. ",IQ="Always leave the place beautiful,<br />Cleaning up is essential!",MQ="We become one.",UQ="A toilet known only to me<br />can be a savior for someone else. ",qQ="Nearest Toilet",BQ="Find open toilets around you<br />directly on the map.",zQ="Honorable Level System",FQ="The more active you are, the higher the class of your toilet.<br />Challenge the Bidet rank!",HQ="Credit Tips",KQ="Credits are used to view passwords or level up.",VQ="Sign Up",GQ="Register Toilet",WQ="Level Up",YQ="Write Review",XQ="Report",ZQ="Unlock PW",JQ="Please Promise (Etiquette)",QQ="No Fake Info!",eee="Wrong location or password is trouble.<br />Don't make urgent people cry twice. ",tee="No Spamming",ree="Repeating meaningless posts for points<br />may lead to a ban by the sad admin.",nee="Respect Each Other",aee="Reviews are communication.<br />Nice words bring good luck! (and points)",see="Credit Guide",iee="What are Credits?",oee="Points used to view toilet info<br />or unlock passwords in the app.",lee="How to Earn",cee="Watch Ads",uee="Earn credits by watching ads to the end.",dee="Invite Friends",fee="Both receive rewards when a friend joins via your link.",hee="Usage",mee="Unlock toilet passwords in the detail view using credits.",gee="Registration Guide",pee="Report a Toilet",bee="Register known open toilets<br />and save everyone's urgency! ",yee="Select Location",_ee="Pin the exact location of the toilet on the map.",xee="Enter Info",vee="Enter details like name, floor, and openness.",wee="Photo & Review (Optional)",jee="Leave a photo of the entrance or tips if any.",Nee="* False information or prank registrations may restrict usage.",kee="Login required<br />to register toilet",See="Log In",Eee="Unable to fetch location.",Aee="Only locations within Korea can be selected.",Tee=`Cannot register on sea or outside Korean territory.
(Coastal/island areas may have errors)`,Oee="No address info",Cee="Deleted. 5 Credits deducted.",$ee="Deleted.",Pee="Set this location",Ree="Edit Toilet",Dee="Register Toilet",Lee="Edit Location",Iee="Find on Map",Mee="Address",Uee="Auto-filled when location selected",qee="Building name or description",Bee="Ex: Inside stairwell right of convenience store",zee="Floor",Fee="PW",Hee="Enter PW",Kee="Stalls",Vee="Has Tissue",Gee="No Tissue",Wee="Has Bidet",Yee="No Bidet",Xee="Male",Zee="Female",Jee="Unisex",Qee="Note (Optional)",ete="Ex: Often no tissue, stiff lock...",tte="Update Complete",rte="Delete",nte="Change to Shared (+5 Cr)",ate="Private",ste="Share",ite="Updating...",ote="Registering...",lte="Update Complete!",cte="Registration Complete!",ute="Please wait.<br />Saving your precious info. ",dte='<span className="text-primary-600 dark:text-primary-400 font-bold">Credits successfully awarded.</span><br />Thank you! ',fte="Close",hte="Are you sure you want to delete?",mte=' Deleting a shared toilet will<br /><span className="font-bold text-red-600 dark:text-red-400">deduct 5 credits</span>.',gte="Deleted toilets cannot be recovered.",pte="Cancel",bte="An error occurred. Please try again.",yte="Process Failed",_te="Locked Toilet",xte="Open Toilet",vte="Effective Date: December 6, 2024",wte="Article 1 (Purpose)",jte="The purpose of these Terms is to define the rights, obligations, and responsibilities between the service and the user regarding the use of the toilet information sharing service provided by Daettong Unity (hereinafter referred to as the 'Service'), and other necessary matters.",Nte="Article 2 (Definition)",kte="'Service' means the toilet location information sharing and search platform provided by Daettong Unity.",Ste="'User' means members and non-members who use the Service in accordance with these Terms.",Ete="'Member' means a person who has registered for the Service by providing personal information.",Ate="'Toilet Information' means all information related to toilets, such as location, availability, and facility details.",Tte="'Credit' means virtual points obtained within the Service through activities such as registering toilet information or writing reviews.",Ote="Article 3 (Effect and Change of Terms)",Cte="1. Effect of Terms",$te="These Terms are effective for all users who wish to use the Service.",Pte="2. Change of Terms",Rte="The Service may change these Terms to the extent that they do not violate relevant laws. In such cases, the changed Terms will be announced on the Service screen and will take effect 7 days after the announcement.",Dte="Article 4 (Provision and Change of Service)",Lte="1. Service Details",Ite="Toilet location search and map display",Mte="Toilet information registration and modification",Ute="Writing and viewing toilet usage reviews",qte="Reporting toilet availability",Bte="Bookmark and favorites function",zte="Other services developed or provided by the Service",Fte="2. Service Provision Time",Hte="The Service is provided 24 hours a day, 365 days a year. However, the Service may be temporarily suspended due to system maintenance, communication failure, etc., in which case it will be announced in advance.",Kte="Article 5 (Sign Up)",Vte="1. Sign Up Method",Gte="Users can sign up through social logins such as Google, Naver, and Kakao.",Wte="2. Member Information",Yte="Members must provide accurate information, and any disadvantage caused by providing false information is the responsibility of the member.",Xte="3. Minor Sign Up",Zte="Children under the age of 14 are restricted from signing up in accordance with the Personal Information Protection Act.",Jte="Article 6 (Personal Information Protection)",Qte="The Service strives to protect user's personal information in accordance with relevant laws. The privacy policy of the Service and relevant laws apply to the protection and use of personal information.",ere="Privacy Policy:",tre="Go to Policy",rre="Article 7 (User's Obligations)",nre="1. Prohibited Acts",are="Users must not perform the following acts:",sre="Stealing other people's personal information",ire="Registering false information or deceiving others",ore="Interfering with the operation of the Service",lre="Posting obscene or violent messages, images, voices, etc.",cre="Damaging the reputation of others or causing disadvantage",ure="Infringing on the rights of others, such as copyright",dre="Acts that violate relevant laws",fre="2. Account Management",hre="Members are responsible for managing their accounts properly and cannot transfer or lend their accounts to others.",mre="Article 8 (Credit System)",gre="1. Earning Credits",pre="Members can earn credits through the following activities:",bre="Sign Up: 50 Credits",yre="Register Toilet Info: Differential payment according to policy",_re="Write Review: Payment according to policy",xre="Watch Ads: Payment according to policy",vre="2. Using Credits",wre="Credits can be used for functions within the Service, such as checking password-protected toilet information.",jre="3. Non-Refundable Credits",Nre="Credits are not refundable in cash and can only be used within the Service.",kre="Article 9 (Content Management)",Sre="1. User Posts",Ere="The user who registered the content, such as toilet information and reviews, is responsible for the content.",Are="2. Content Deletion",Tre="The Service may delete or move content without prior notice in the following cases:",Ore="Violation of these Terms",Cre="Infringement of the rights of others",$re="Violation of relevant laws",Pre="Violation of public order and morals",Rre="Article 10 (Restriction of Service Use)",Dre="If a user violates these Terms or interferes with the normal operation of the Service, the Service may take measures such as warning, suspension, or permanent ban.",Lre="Article 11 (Disclaimer)",Ire="1. Service Disruption",Mre="The Service is exempted from liability if it cannot provide the Service due to force majeure such as natural disasters, war, suspension of service by telecommunications business operators, hacking, or system maintenance.",Ure="2. Accuracy of Information",qre="The Service does not guarantee the accuracy of toilet information registered by users and is not responsible for any damages caused by the use of such information.",Bre="3. Disputes Between Users",zre="The Service is not responsible for disputes arising between users or between users and third parties.",Fre="Article 12 (Copyright)",Hre="Copyright for content provided by the Service belongs to the Service. Users must not use information obtained by using the Service for commercial purposes or allow third parties to use it without the prior consent of the Service.",Kre="Article 13 (Dispute Resolution)",Vre="1. Governing Law",Gre="The laws of the Republic of Korea apply to the interpretation of these Terms and disputes regarding the use of the Service.",Wre="2. Competent Court",Yre="In the event of a lawsuit regarding a dispute arising from the use of the Service, the competent court under the Civil Procedure Act shall be the court of competent jurisdiction.",Xre="Article 14 (Addendum)",Zre="These Terms are effective from December 6, 2024.",Jre="Inquiries",Qre="Email: qseek77@gmail.com",ene="Service Name: Daettong Unity",tne="Return Home",rne="Last Updated: December 6, 2025",nne="Daettong Unity (hereinafter referred to as the 'Service') values users' personal information and complies with relevant laws such as the 'Personal Information Protection Act'. This Privacy Policy guides you through the items of personal information collected, purpose of collection and use, retention and use period, and destruction procedures.",ane="1. Personal Information Items Collected",sne="Required Items",ine="Email Address: Member identification and service provision",one="Gender: Provision of customized toilet information",lne="Automatically Collected Items",cne="Service usage records, access logs",une="Location Information (with user consent)",dne="2. Purpose of Collection and Use",fne="Member Sign Up & Management: Identification, verification",hne="Service Provision: Toilet location, customized content",mne="Service Improvement: Usage statistics, new service development",gne="Customer Support: Inquiries, announcements",pne="3. Retention and Use Period",bne="The Service destroys user's personal information without delay after the purpose of collection and use is achieved.",yne="Retention Period: Until membership withdrawal",_ne="Exception: If preservation is required by relevant laws",xne="4. Destruction Procedures and Methods",vne="The Service destroys personal information without delay when the retention period expires or the purpose of processing is achieved.",wne="Procedure: Immediate destruction after expiration",jne="Method: Permanent deletion of electronic files",Nne="5. Provision to Third Parties",kne="The Service does not provide user's personal information to third parties in principle. However, exceptions are made in the following cases:",Sne="With prior consent from the user",Ene="In accordance with legal regulations or investigative requests",Ane="6. Social Login Services",Tne="The Service uses the following social login services:",One="Google",Cne="Collected: Email, Gender",$ne="Naver",Pne="Collected: Email, Gender",Rne="Kakao",Dne="Collected: Email, Gender",Lne="Please refer to the privacy policy of each service provider for details.",Ine="7. User Rights and Exercise Methods",Mne="Users can exercise the following rights at any time:",Une="Request for access to personal information",qne="Request for correction",Bne="Request for deletion",zne="Request for suspension of processing",Fne="How to Exercise: 'My Info' menu or email to Privacy Officer",Hne="8. Privacy Protection Officer",Kne="The Service designates a Privacy Protection Officer to be responsible for handling personal information and complaints.",Vne="Privacy Protection Officer",Gne="Email:",Wne="9. Changes to Privacy Policy",Yne="Amendments to this policy will be notified through Service announcements at least 7 days prior to implementation.",Xne="This Privacy Policy is effective from December 6, 2025.",Zne="If you have any questions, please contact",Jne=".",Qne={test_message:fY,settings:hY,theme:mY,dark_mode:gY,light_mode:pY,theme_description:bY,language:yY,menu_title:_Y,customer_support:xY,contact_us:vY,ad_inquiry:wY,logout:jY,withdraw:NY,service_guide:kY,guide_usage:SY,guide_credit:EY,guide_registration:AY,together:TY,donate:OY,donate_alert:CY,share_app:$Y,app_info:PY,terms_of_service:RY,privacy_policy:DY,version_info:LY,destination:IY,distance:MY,duration:UY,kakao_map:qY,naver_map:BY,google_map:zY,reviews:FY,write_review:HY,first_review:KY,report:VY,update_date:GY,reg_date:WY,view_map:YY,tissue:XY,tissue_yes:ZY,tissue_no:JY,bidet:QY,bidet_yes:eX,bidet_no:tX,toilet_stall:rX,stalls_count:nX,note:aX,anonymous:sX,review_edit:iX,review_delete:oX,report_title:lX,report_reason_select:cX,report_reason_password:uX,report_reason_owner:dX,report_reason_doorlock:fX,report_reason_tissue:hX,report_reason_bidet:mX,report_reason_other:gX,report_other_placeholder:pX,cancel:bX,submit:yX,owner_apology_title:_X,owner_apology_desc:xX,request_delete:vX,review_success_title:wX,review_reward_desc:jX,watch_ad:NX,later:kX,reward_credits:SX,confirm:EX,alert_copy_paste:AX,alert_min_length:TX,alert_report_fast:OX,alert_report_limit:CX,alert_report_duplicate:$X,alert_report_error:PX,alert_review_fast:RX,alert_review_limit:DX,alert_review_duplicate:LX,alert_review_saved:IX,alert_review_failed:MX,review_delete_confirm:UX,review_delete_confirm_simple:qX,review_deleted:BX,review_deleted_deducted:zX,review_delete_fail:FX,report_thanks_title:HX,report_add_detail:KX,report_select_reason:VX,my_page_title:GX,my_credit:WX,charge_with_ad:YX,recommend_and_charge:XX,my_registrations:ZX,favorites:JX,review_management:QX,no_reviews_written:eZ,deleted_toilet:tZ,prev_page:rZ,next_page:nZ,change_nickname:aZ,change_complete:sZ,nickname_success_message:iZ,awesome:oZ,new_nickname:lZ,max_8_chars_placeholder:cZ,save:uZ,password_unlocked:dZ,password_locked:fZ,public_data:hZ,toilet_password:mZ,none:gZ,check_password:pZ,unlock_with_ad:bZ,credit_deduction:yZ,admin_dashboard:_Z,nickname_input_alert:xZ,nickname_length_alert:vZ,nickname_update_fail:wZ,withdraw_complete_alert:jZ,withdraw_fail_alert:NZ,nav_home:kZ,nav_register:SZ,nav_my_info:EZ,search_placeholder:AZ,nearest_center:TZ,nearest_user:OZ,search_this_area:CZ,sort_distance:$Z,sort_rating:PZ,filter_paper:RZ,filter_bidet:DZ,filter_score_3plus:LZ,no_toilets_found:IZ,toilet_type_public:MZ,toilet_type_commercial:UZ,toilet_type_other:qZ,distance_from_current:BZ,walking_time_approx:zZ,my_location:FZ,nav_directions:HZ,walking_time:KZ,map_kakao:VZ,map_naver:GZ,walking_time_approx_short:WZ,map_load_fail:YZ,exit_modal_title:XZ,withdraw_reason_title:ZZ,withdraw_reason_desc:JZ,withdraw_reason_1:QZ,withdraw_reason_2:eJ,withdraw_reason_3:tJ,withdraw_reason_4:rJ,withdraw_reason_5:nJ,withdraw_other:aJ,withdraw_reason_placeholder:sJ,withdraw_next:iJ,withdraw_confirm_title:oJ,withdraw_confirm_desc:lJ,withdraw_confirm_btn:cJ,withdraw_alert_reason:uJ,withdraw_alert_other:dJ,welcome_title:fJ,welcome_subtitle:hJ,welcome_bonus:mJ,welcome_msg_1:gJ,welcome_msg_2:pJ,welcome_btn:bJ,powered_by:yJ,notice_confirm:_J,notice_more:xJ,doorlock_brand:vJ,doorlock_delete:wJ,doorlock_enter:jJ,doorlock_open:NJ,credit_unit:kJ,credit_earn:SJ,credit_confirm:EJ,contact_title:AJ,contact_type_label:TJ,contact_type_error:OJ,contact_type_partner:CJ,contact_type_ad:$J,contact_type_other:PJ,contact_info_label:RJ,contact_info_hint:DJ,contact_info_placeholder:LJ,contact_content_label:IJ,contact_content_placeholder:MJ,contact_sending:UJ,contact_send:qJ,contact_success_title:BJ,contact_success_desc:zJ,contact_fail_title:FJ,contact_fail_desc:HJ,contact_close:KJ,contact_alert_input:VJ,nickname_success_title:GJ,nickname_success_desc:WJ,nickname_awesome:YJ,nickname_change_title:XJ,nickname_new_label:ZJ,nickname_placeholder:JJ,nickname_save:QJ,admin_login_notice:eQ,exit_modal_desc:tQ,exit_modal_cancel:rQ,exit_modal_confirm:nQ,splash_subtitle:aQ,login_required_title:sQ,login_google:iQ,login_naver:oQ,login_kakao:lQ,toilet_selection_title:cQ,toilet_selection_desc:uQ,account_restored:dQ,welcome_back:fQ,level_hand:hQ,level_desc_0:mQ,level_straw:gQ,level_desc_1:pQ,level_newspaper:bQ,level_desc_2:yQ,level_roll_tissue:_Q,level_desc_3:xQ,level_box_tissue:vQ,level_desc_4:wQ,level_wet_tissue:jQ,level_desc_5:NQ,level_bidet:kQ,level_desc_6:SQ,tos_title:EQ,privacy_title:AQ,go_home:TQ,go_home_full:OQ,guide_tab_intro:CQ,guide_tab_levels:$Q,guide_tab_credits:PQ,guide_tab_etiquette:RQ,guide_intro_title:DQ,guide_intro_desc:LQ,guide_intro_clean:IQ,guide_intro_unity_title:MQ,guide_intro_unity_desc:UQ,guide_nearest_title:qQ,guide_nearest_desc:BQ,guide_level_system:zQ,guide_level_desc:FQ,guide_credit_tips:HQ,guide_credit_desc:KQ,guide_credit_signup:VQ,guide_credit_toilet_reg:GQ,guide_credit_level_up:WQ,guide_credit_write_review:YQ,guide_credit_report:XQ,guide_credit_unlock:ZQ,guide_etiquette_title:JQ,guide_etiquette_fake_title:QQ,guide_etiquette_fake_desc:eee,guide_etiquette_spam_title:tee,guide_etiquette_spam_desc:ree,guide_etiquette_respect_title:nee,guide_etiquette_respect_desc:aee,credit_guide_title:see,credit_what_is:iee,credit_what_is_desc:oee,credit_how_to_earn:lee,credit_earn_ad_title:cee,credit_earn_ad_desc:uee,credit_earn_invite_title:dee,credit_earn_invite_desc:fee,credit_usage_title:hee,credit_usage_desc:mee,reg_guide_title:gee,reg_guide_subtitle:pee,reg_guide_desc:bee,reg_step_1_title:yee,reg_step_1_desc:_ee,reg_step_2_title:xee,reg_step_2_desc:vee,reg_step_3_title:wee,reg_step_3_desc:jee,reg_guide_warning:Nee,submit_login_required_title:kee,submit_login_btn:See,submit_location_error:Eee,submit_location_korea_only:Aee,submit_location_land_only:Tee,submit_address_none:Oee,submit_delete_success_deduct:Cee,submit_delete_success:$ee,submit_set_location:Pee,submit_page_title_edit:Ree,submit_page_title_new:Dee,submit_edit_location:Lee,submit_find_location:Iee,submit_label_address:Mee,submit_placeholder_address:Uee,submit_label_name:qee,submit_placeholder_name:Bee,submit_label_floor:zee,submit_label_password:Fee,submit_placeholder_password:Hee,submit_label_stalls:Kee,submit_paper_yes:Vee,submit_paper_no:Gee,submit_bidet_yes:Wee,submit_bidet_no:Yee,submit_gender_male:Xee,submit_gender_female:Zee,submit_gender_unisex:Jee,submit_label_note:Qee,submit_placeholder_note:ete,submit_btn_edit_complete:tte,submit_btn_delete:rte,submit_btn_share_update:nte,submit_btn_private:ate,submit_btn_share:ste,submit_processing_edit:ite,submit_processing_new:ote,submit_complete_edit:lte,submit_complete_new:cte,submit_desc_processing:ute,submit_desc_complete:dte,submit_btn_close:fte,submit_delete_confirm_title:hte,submit_delete_warning:mte,submit_delete_desc:gte,submit_btn_cancel:pte,submit_error_general:bte,submit_fail_process:yte,submit_default_pw_name:_te,submit_default_open_name:xte,tos_date:vte,tos_article_1_title:wte,tos_article_1_content:jte,tos_article_2_title:Nte,tos_article_2_li_1:kte,tos_article_2_li_2:Ste,tos_article_2_li_3:Ete,tos_article_2_li_4:Ate,tos_article_2_li_5:Tte,tos_article_3_title:Ote,tos_article_3_sub_1_title:Cte,tos_article_3_sub_1_content:$te,tos_article_3_sub_2_title:Pte,tos_article_3_sub_2_content:Rte,tos_article_4_title:Dte,tos_article_4_sub_1_title:Lte,tos_article_4_sub_1_li_1:Ite,tos_article_4_sub_1_li_2:Mte,tos_article_4_sub_1_li_3:Ute,tos_article_4_sub_1_li_4:qte,tos_article_4_sub_1_li_5:Bte,tos_article_4_sub_1_li_6:zte,tos_article_4_sub_2_title:Fte,tos_article_4_sub_2_content:Hte,tos_article_5_title:Kte,tos_article_5_sub_1_title:Vte,tos_article_5_sub_1_content:Gte,tos_article_5_sub_2_title:Wte,tos_article_5_sub_2_content:Yte,tos_article_5_sub_3_title:Xte,tos_article_5_sub_3_content:Zte,tos_article_6_title:Jte,tos_article_6_content:Qte,tos_article_6_link:ere,tos_article_6_btn:tre,tos_article_7_title:rre,tos_article_7_sub_1_title:nre,tos_article_7_sub_1_content:are,tos_article_7_sub_1_li_1:sre,tos_article_7_sub_1_li_2:ire,tos_article_7_sub_1_li_3:ore,tos_article_7_sub_1_li_4:lre,tos_article_7_sub_1_li_5:cre,tos_article_7_sub_1_li_6:ure,tos_article_7_sub_1_li_7:dre,tos_article_7_sub_2_title:fre,tos_article_7_sub_2_content:hre,tos_article_8_title:mre,tos_article_8_sub_1_title:gre,tos_article_8_sub_1_content:pre,tos_article_8_sub_1_li_1:bre,tos_article_8_sub_1_li_2:yre,tos_article_8_sub_1_li_3:_re,tos_article_8_sub_1_li_4:xre,tos_article_8_sub_2_title:vre,tos_article_8_sub_2_content:wre,tos_article_8_sub_3_title:jre,tos_article_8_sub_3_content:Nre,tos_article_9_title:kre,tos_article_9_sub_1_title:Sre,tos_article_9_sub_1_content:Ere,tos_article_9_sub_2_title:Are,tos_article_9_sub_2_content:Tre,tos_article_9_sub_2_li_1:Ore,tos_article_9_sub_2_li_2:Cre,tos_article_9_sub_2_li_3:$re,tos_article_9_sub_2_li_4:Pre,tos_article_10_title:Rre,tos_article_10_content:Dre,tos_article_11_title:Lre,tos_article_11_sub_1_title:Ire,tos_article_11_sub_1_content:Mre,tos_article_11_sub_2_title:Ure,tos_article_11_sub_2_content:qre,tos_article_11_sub_3_title:Bre,tos_article_11_sub_3_content:zre,tos_article_12_title:Fre,tos_article_12_content:Hre,tos_article_13_title:Kre,tos_article_13_sub_1_title:Vre,tos_article_13_sub_1_content:Gre,tos_article_13_sub_2_title:Wre,tos_article_13_sub_2_content:Yre,tos_article_14_title:Xre,tos_article_14_content:Zre,tos_footer_contact_title:Jre,tos_footer_email:Qre,tos_footer_service:ene,tos_go_home:tne,privacy_date:rne,privacy_intro:nne,privacy_sec_1_title:ane,privacy_sec_1_req_title:sne,privacy_sec_1_req_li_1:ine,privacy_sec_1_req_li_2:one,privacy_sec_1_auto_title:lne,privacy_sec_1_auto_li_1:cne,privacy_sec_1_auto_li_2:une,privacy_sec_2_title:dne,privacy_sec_2_li_1:fne,privacy_sec_2_li_2:hne,privacy_sec_2_li_3:mne,privacy_sec_2_li_4:gne,privacy_sec_3_title:pne,privacy_sec_3_content:bne,privacy_sec_3_box_period:yne,privacy_sec_3_box_exception:_ne,privacy_sec_4_title:xne,privacy_sec_4_content:vne,privacy_sec_4_li_1:wne,privacy_sec_4_li_2:jne,privacy_sec_5_title:Nne,privacy_sec_5_content:kne,privacy_sec_5_li_1:Sne,privacy_sec_5_li_2:Ene,privacy_sec_6_title:Ane,privacy_sec_6_content:Tne,privacy_sec_6_google:One,privacy_sec_6_google_info:Cne,privacy_sec_6_naver:$ne,privacy_sec_6_naver_info:Pne,privacy_sec_6_kakao:Rne,privacy_sec_6_kakao_info:Dne,privacy_sec_6_footer:Lne,privacy_sec_7_title:Ine,privacy_sec_7_content:Mne,privacy_sec_7_li_1:Une,privacy_sec_7_li_2:qne,privacy_sec_7_li_3:Bne,privacy_sec_7_li_4:zne,privacy_sec_7_box:Fne,privacy_sec_8_title:Hne,privacy_sec_8_content:Kne,privacy_sec_8_role:Vne,privacy_sec_8_email:Gne,privacy_sec_9_title:Wne,privacy_sec_9_content:Yne,privacy_footer_date:Xne,privacy_footer_contact:Zne,privacy_footer_contact_end:Jne},eae="",tae="",rae="",nae="",aae="",sae="",iae="",oae="",lae="",cae=" / ",uae="",dae="",fae="",hae="",mae="",gae="",pae="",bae="",yae=" ()",_ae=" ()",xae="",vae="",wae="",jae="",Nae="",kae="",Sae="",Eae="",Aae="",Tae="",Oae="Google Maps",Cae="",$ae="",Pae="",Rae="",Dae=": {{date}}",Lae=": {{date}}",Iae="",Mae="",Uae="",qae="",Bae="",zae="",Fae="",Hae="",Kae="{{count}}",Vae="",Gae="",Wae="",Yae="",Xae="",Zae="",Jae="",Qae="",ese="",tse="",rse="",nse="",ase="",sse="",ise="",ose="<br /><br /><strong></strong>",lse="",cse="",use='<span className="font-bold text-amber-500">(+{{amount}} Cr)</span><br />',dse="",fse="",hse="+{{amount}} ",mse="",gse="{{length}}",pse="",bse="1{{limit}}",yse="11",_se="",xse=" :)",vse="1{{limit}}",wse="11 :)",jse="",Nse="",kse=`
({{amount}})`,Sse="",Ese="",Ase=`
`,Tse="",Ose=`
`,Cse="",$se="",Pse="",Rse="",Dse="",Lse="",Ise="",Mse="",Use="",qse="",Bse="",zse="",Fse="",Hse="",Kse="",Vse="<br />",Gse="",Wse="",Yse="",Xse="8",Zse="",Jse="",Qse="",eie="",tie="",rie="",nie="",aie="",sie="",iie="{{cost}} (: {{balance}})",oie="[] ",lie="",cie="8",uie="",die="",fie="",hie="",mie="",gie="",pie="",bie="",yie="",_ie="",xie=" ",vie=" ",wie="",jie="",Nie="3+",kie="",Sie="",Eie="",Aie="",Tie="",Oie=" {{time}}",Cie="",$ie="",Pie=" {{time}}",Rie="",Die="",Lie="{{time}}",Iie="",Mie="",Uie="",qie="",Bie="",zie="",Fie="",Hie="",Kie="",Vie="",Gie="...",Wie="",Yie="",Xie="<br />",Zie="",Jie="",Qie="",eoe="<br /> ",toe='""',roe=' <span className="text-urgency font-bold">50 </span> ',noe="",aoe="",soe=" ",ioe="Powered by Q",ooe="",loe="+{{count}}",coe="DIGITAL LOCK",uoe="",doe="",foe="OPEN",hoe="",moe="+",goe="",poe="",boe="",yoe="",_oe="",xoe="",voe="",woe="",joe="()",Noe="",koe="",Soe="",Eoe="...",Aoe="",Toe="",Ooe="<br />",Coe="",$oe='<br /><span className="font-bold select-all text-gray-800 dark:text-white">qseek77@gmail.com</span><br />',Poe="",Roe="",Doe="",Loe="<br />",Ioe="",Moe="",Uoe="",qoe="8",Boe="",zoe="[] ",Foe="",Hoe="",Koe="",Voe="",Goe="",Woe="Google",Yoe="Naver",Xoe="Kakao",Zoe="",Joe="<br />",Qoe="",ele="",tle="",rle="...",nle="",ale="",sle="",ile="",ole="",lle="",cle="",ule="",dle="",fle="",hle="",mle=" ",gle="",ple="",ble="",yle="",_le="",xle="",vle="",wle="",jle="",Nle="<br /> ",kle="<br />",Sle="",Ele="<br /> ",Ale="",Tle="<br />",Ole="",Cle="<br />(Bidet)",$le="",Ple="",Rle="",Dle="",Lle="",Ile="",Mle="",Ule="",qle="",Ble="No",zle="<br /> ",Fle="",Hle="<br />",Kle="",Vle="<br />",Gle="",Wle="",Yle="<br />",Xle="",Zle="",Jle="",Qle="",ece="",tce="",rce="",nce="",ace="",sce="<br /> ",ice="",oce="",lce="",cce="",uce="",dce="",fce="* ",hce="<br />",mce="",gce="",pce="",bce=`

(/)`,yce="",_ce="5",xce="",vce="",wce="",jce="",Nce="",kce="",Sce="",Ece="",Ace="",Tce=": ",Oce="",Cce="PW",$ce="PW",Pce="",Rce="",Dce="",Lce="",Ice="",Mce="",Uce="",qce="",Bce=" ()",zce=": ",Fce="",Hce="",Kce=" (+5 Cr)",Vce="",Gce="",Wce="...",Yce="...",Xce="",Zce="",Jce="<br /> ",Qce='<span className="text-primary-600 dark:text-primary-400 font-bold"></span><br /> ',eue="",tue="",rue=' <br /><span className="font-bold text-red-600 dark:text-red-400">5</span>',nue="",aue="",sue="",iue="",oue="",lue="",cue="2024126",uue="1",due="",fue="2",hue="",mue="",gue="",pue="",bue="",yue="3",_ue="1. ",xue="",vue="2. ",wue="7",jue="4",Nue="1. ",kue="",Sue="",Eue="",Aue="",Tue="",Oue="",Cue="2. ",$ue="124",Pue="5",Rue="1. ",Due="GoogleNaverKakao",Lue="2. ",Iue="",Mue="3. ",Uue="14",que="6",Bue="",zue="",Fue="",Hue="7",Kue="1. ",Vue="",Gue="",Wue="",Yue="",Xue="",Zue="",Jue="",Que="",ede="2. ",tde="",rde="8",nde="1. ",ade="",sde="50",ide="",ode="",lde="",cde="2. ",ude="",dde="3. ",fde="",hde="9",mde="1. ",gde="",pde="2. ",bde="",yde="",_de="",xde="",vde="",wde="10",jde="",Nde="11",kde="1. ",Sde="",Ede="2. ",Ade="",Tde="3. ",Ode="",Cde="12",$de="",Pde="13",Rde="1. ",Dde="",Lde="2. ",Ide="",Mde="14",Ude="2024126",qde="",Bde="qseek77@gmail.com",zde="",Fde="",Hde="2025126",Kde="",Vde="1. ",Gde="",Wde="",Yde="",Xde="",Zde="",Jde="",Qde="2. ",efe="",tfe="",rfe="",nfe="",afe="3. ",sfe="",ife="",ofe="",lfe="4. ",cfe="",ufe="",dfe="",ffe="5. ",hfe="",mfe="",gfe="",pfe="6. ",bfe="",yfe="Google",_fe="",xfe="Naver",vfe="",wfe="Kakao",jfe="",Nfe="",kfe="7. ",Sfe="",Efe="",Afe="",Tfe="",Ofe="",Cfe="",$fe="8. ",Pfe="",Rfe="",Dfe="",Lfe="9. ",Ife="7",Mfe="2025126",Ufe="",qfe="",Bfe={test_message:eae,settings:tae,theme:rae,dark_mode:nae,light_mode:aae,theme_description:sae,language:iae,menu_title:oae,customer_support:lae,contact_us:cae,ad_inquiry:uae,logout:dae,withdraw:fae,service_guide:hae,guide_usage:mae,guide_credit:gae,guide_registration:pae,together:bae,donate:yae,donate_alert:_ae,share_app:xae,app_info:vae,terms_of_service:wae,privacy_policy:jae,version_info:Nae,destination:kae,distance:Sae,duration:Eae,kakao_map:Aae,naver_map:Tae,google_map:Oae,reviews:Cae,write_review:$ae,first_review:Pae,report:Rae,update_date:Dae,reg_date:Lae,view_map:Iae,tissue:Mae,tissue_yes:Uae,tissue_no:qae,bidet:Bae,bidet_yes:zae,bidet_no:Fae,toilet_stall:Hae,stalls_count:Kae,note:Vae,anonymous:Gae,review_edit:Wae,review_delete:Yae,report_title:Xae,report_reason_select:Zae,report_reason_password:Jae,report_reason_owner:Qae,report_reason_doorlock:ese,report_reason_tissue:tse,report_reason_bidet:rse,report_reason_other:nse,report_other_placeholder:ase,submit:sse,owner_apology_title:ise,owner_apology_desc:ose,request_delete:lse,review_success_title:cse,review_reward_desc:use,watch_ad:dse,later:fse,reward_credits:hse,alert_copy_paste:mse,alert_min_length:gse,alert_report_fast:pse,alert_report_limit:bse,alert_report_duplicate:yse,alert_report_error:_se,alert_review_fast:xse,alert_review_limit:vse,alert_review_duplicate:wse,alert_review_saved:jse,alert_review_failed:Nse,review_delete_confirm:kse,review_delete_confirm_simple:Sse,review_deleted:Ese,review_deleted_deducted:Ase,review_delete_fail:Tse,report_thanks_title:Ose,report_add_detail:Cse,report_select_reason:$se,my_page_title:Pse,my_credit:Rse,charge_with_ad:Dse,recommend_and_charge:Lse,my_registrations:Ise,favorites:Mse,review_management:Use,no_reviews_written:qse,deleted_toilet:Bse,prev_page:zse,next_page:Fse,change_nickname:Hse,change_complete:Kse,nickname_success_message:Vse,confirm:Gse,awesome:Wse,new_nickname:Yse,max_8_chars_placeholder:Xse,cancel:Zse,save:Jse,password_unlocked:Qse,password_locked:eie,public_data:tie,toilet_password:rie,none:nie,check_password:aie,unlock_with_ad:sie,credit_deduction:iie,admin_dashboard:oie,nickname_input_alert:lie,nickname_length_alert:cie,nickname_update_fail:uie,withdraw_complete_alert:die,withdraw_fail_alert:fie,nav_home:hie,nav_register:mie,nav_my_info:gie,search_placeholder:pie,nearest_center:bie,nearest_user:yie,search_this_area:_ie,sort_distance:xie,sort_rating:vie,filter_paper:wie,filter_bidet:jie,filter_score_3plus:Nie,no_toilets_found:kie,toilet_type_public:Sie,toilet_type_commercial:Eie,toilet_type_other:Aie,distance_from_current:Tie,walking_time_approx:Oie,my_location:Cie,nav_directions:$ie,walking_time:Pie,map_kakao:Rie,map_naver:Die,walking_time_approx_short:Lie,map_load_fail:Iie,exit_modal_title:Mie,withdraw_reason_title:Uie,withdraw_reason_desc:qie,withdraw_reason_1:Bie,withdraw_reason_2:zie,withdraw_reason_3:Fie,withdraw_reason_4:Hie,withdraw_reason_5:Kie,withdraw_other:Vie,withdraw_reason_placeholder:Gie,withdraw_next:Wie,withdraw_confirm_title:Yie,withdraw_confirm_desc:Xie,withdraw_confirm_btn:Zie,withdraw_alert_reason:Jie,withdraw_alert_other:Qie,welcome_title:eoe,welcome_subtitle:toe,welcome_bonus:roe,welcome_msg_1:noe,welcome_msg_2:aoe,welcome_btn:soe,powered_by:ioe,notice_confirm:ooe,notice_more:loe,doorlock_brand:coe,doorlock_delete:uoe,doorlock_enter:doe,doorlock_open:foe,credit_unit:hoe,credit_earn:moe,credit_confirm:goe,contact_title:poe,contact_type_label:boe,contact_type_error:yoe,contact_type_partner:_oe,contact_type_ad:xoe,contact_type_other:voe,contact_info_label:woe,contact_info_hint:joe,contact_info_placeholder:Noe,contact_content_label:koe,contact_content_placeholder:Soe,contact_sending:Eoe,contact_send:Aoe,contact_success_title:Toe,contact_success_desc:Ooe,contact_fail_title:Coe,contact_fail_desc:$oe,contact_close:Poe,contact_alert_input:Roe,nickname_success_title:Doe,nickname_success_desc:Loe,nickname_awesome:Ioe,nickname_change_title:Moe,nickname_new_label:Uoe,nickname_placeholder:qoe,nickname_save:Boe,admin_login_notice:zoe,exit_modal_desc:Foe,exit_modal_cancel:Hoe,exit_modal_confirm:Koe,splash_subtitle:Voe,login_required_title:Goe,login_google:Woe,login_naver:Yoe,login_kakao:Xoe,toilet_selection_title:Zoe,toilet_selection_desc:Joe,account_restored:Qoe,welcome_back:ele,level_hand:tle,level_desc_0:rle,level_straw:nle,level_desc_1:ale,level_newspaper:sle,level_desc_2:ile,level_roll_tissue:ole,level_desc_3:lle,level_box_tissue:cle,level_desc_4:ule,level_wet_tissue:dle,level_desc_5:fle,level_bidet:hle,level_desc_6:mle,tos_title:gle,privacy_title:ple,go_home:ble,go_home_full:yle,guide_tab_intro:_le,guide_tab_levels:xle,guide_tab_credits:vle,guide_tab_etiquette:wle,guide_intro_title:jle,guide_intro_desc:Nle,guide_intro_clean:kle,guide_intro_unity_title:Sle,guide_intro_unity_desc:Ele,guide_nearest_title:Ale,guide_nearest_desc:Tle,guide_level_system:Ole,guide_level_desc:Cle,guide_credit_tips:$le,guide_credit_desc:Ple,guide_credit_signup:Rle,guide_credit_toilet_reg:Dle,guide_credit_level_up:Lle,guide_credit_write_review:Ile,guide_credit_report:Mle,guide_credit_unlock:Ule,guide_etiquette_title:qle,guide_etiquette_fake_title:Ble,guide_etiquette_fake_desc:zle,guide_etiquette_spam_title:Fle,guide_etiquette_spam_desc:Hle,guide_etiquette_respect_title:Kle,guide_etiquette_respect_desc:Vle,credit_guide_title:Gle,credit_what_is:Wle,credit_what_is_desc:Yle,credit_how_to_earn:Xle,credit_earn_ad_title:Zle,credit_earn_ad_desc:Jle,credit_earn_invite_title:Qle,credit_earn_invite_desc:ece,credit_usage_title:tce,credit_usage_desc:rce,reg_guide_title:nce,reg_guide_subtitle:ace,reg_guide_desc:sce,reg_step_1_title:ice,reg_step_1_desc:oce,reg_step_2_title:lce,reg_step_2_desc:cce,reg_step_3_title:uce,reg_step_3_desc:dce,reg_guide_warning:fce,submit_login_required_title:hce,submit_login_btn:mce,submit_location_error:gce,submit_location_korea_only:pce,submit_location_land_only:bce,submit_address_none:yce,submit_delete_success_deduct:_ce,submit_delete_success:xce,submit_set_location:vce,submit_page_title_edit:wce,submit_page_title_new:jce,submit_edit_location:Nce,submit_find_location:kce,submit_label_address:Sce,submit_placeholder_address:Ece,submit_label_name:Ace,submit_placeholder_name:Tce,submit_label_floor:Oce,submit_label_password:Cce,submit_placeholder_password:$ce,submit_label_stalls:Pce,submit_paper_yes:Rce,submit_paper_no:Dce,submit_bidet_yes:Lce,submit_bidet_no:Ice,submit_gender_male:Mce,submit_gender_female:Uce,submit_gender_unisex:qce,submit_label_note:Bce,submit_placeholder_note:zce,submit_btn_edit_complete:Fce,submit_btn_delete:Hce,submit_btn_share_update:Kce,submit_btn_private:Vce,submit_btn_share:Gce,submit_processing_edit:Wce,submit_processing_new:Yce,submit_complete_edit:Xce,submit_complete_new:Zce,submit_desc_processing:Jce,submit_desc_complete:Qce,submit_btn_close:eue,submit_delete_confirm_title:tue,submit_delete_warning:rue,submit_delete_desc:nue,submit_btn_cancel:aue,submit_error_general:sue,submit_fail_process:iue,submit_default_pw_name:oue,submit_default_open_name:lue,tos_date:cue,tos_article_1_title:uue,tos_article_1_content:due,tos_article_2_title:fue,tos_article_2_li_1:hue,tos_article_2_li_2:mue,tos_article_2_li_3:gue,tos_article_2_li_4:pue,tos_article_2_li_5:bue,tos_article_3_title:yue,tos_article_3_sub_1_title:_ue,tos_article_3_sub_1_content:xue,tos_article_3_sub_2_title:vue,tos_article_3_sub_2_content:wue,tos_article_4_title:jue,tos_article_4_sub_1_title:Nue,tos_article_4_sub_1_li_1:kue,tos_article_4_sub_1_li_2:Sue,tos_article_4_sub_1_li_3:Eue,tos_article_4_sub_1_li_4:Aue,tos_article_4_sub_1_li_5:Tue,tos_article_4_sub_1_li_6:Oue,tos_article_4_sub_2_title:Cue,tos_article_4_sub_2_content:$ue,tos_article_5_title:Pue,tos_article_5_sub_1_title:Rue,tos_article_5_sub_1_content:Due,tos_article_5_sub_2_title:Lue,tos_article_5_sub_2_content:Iue,tos_article_5_sub_3_title:Mue,tos_article_5_sub_3_content:Uue,tos_article_6_title:que,tos_article_6_content:Bue,tos_article_6_link:zue,tos_article_6_btn:Fue,tos_article_7_title:Hue,tos_article_7_sub_1_title:Kue,tos_article_7_sub_1_content:Vue,tos_article_7_sub_1_li_1:Gue,tos_article_7_sub_1_li_2:Wue,tos_article_7_sub_1_li_3:Yue,tos_article_7_sub_1_li_4:Xue,tos_article_7_sub_1_li_5:Zue,tos_article_7_sub_1_li_6:Jue,tos_article_7_sub_1_li_7:Que,tos_article_7_sub_2_title:ede,tos_article_7_sub_2_content:tde,tos_article_8_title:rde,tos_article_8_sub_1_title:nde,tos_article_8_sub_1_content:ade,tos_article_8_sub_1_li_1:sde,tos_article_8_sub_1_li_2:ide,tos_article_8_sub_1_li_3:ode,tos_article_8_sub_1_li_4:lde,tos_article_8_sub_2_title:cde,tos_article_8_sub_2_content:ude,tos_article_8_sub_3_title:dde,tos_article_8_sub_3_content:fde,tos_article_9_title:hde,tos_article_9_sub_1_title:mde,tos_article_9_sub_1_content:gde,tos_article_9_sub_2_title:pde,tos_article_9_sub_2_content:bde,tos_article_9_sub_2_li_1:yde,tos_article_9_sub_2_li_2:_de,tos_article_9_sub_2_li_3:xde,tos_article_9_sub_2_li_4:vde,tos_article_10_title:wde,tos_article_10_content:jde,tos_article_11_title:Nde,tos_article_11_sub_1_title:kde,tos_article_11_sub_1_content:Sde,tos_article_11_sub_2_title:Ede,tos_article_11_sub_2_content:Ade,tos_article_11_sub_3_title:Tde,tos_article_11_sub_3_content:Ode,tos_article_12_title:Cde,tos_article_12_content:$de,tos_article_13_title:Pde,tos_article_13_sub_1_title:Rde,tos_article_13_sub_1_content:Dde,tos_article_13_sub_2_title:Lde,tos_article_13_sub_2_content:Ide,tos_article_14_title:Mde,tos_article_14_content:Ude,tos_footer_contact_title:qde,tos_footer_email:Bde,tos_footer_service:zde,tos_go_home:Fde,privacy_date:Hde,privacy_intro:Kde,privacy_sec_1_title:Vde,privacy_sec_1_req_title:Gde,privacy_sec_1_req_li_1:Wde,privacy_sec_1_req_li_2:Yde,privacy_sec_1_auto_title:Xde,privacy_sec_1_auto_li_1:Zde,privacy_sec_1_auto_li_2:Jde,privacy_sec_2_title:Qde,privacy_sec_2_li_1:efe,privacy_sec_2_li_2:tfe,privacy_sec_2_li_3:rfe,privacy_sec_2_li_4:nfe,privacy_sec_3_title:afe,privacy_sec_3_content:sfe,privacy_sec_3_box_period:ife,privacy_sec_3_box_exception:ofe,privacy_sec_4_title:lfe,privacy_sec_4_content:cfe,privacy_sec_4_li_1:ufe,privacy_sec_4_li_2:dfe,privacy_sec_5_title:ffe,privacy_sec_5_content:hfe,privacy_sec_5_li_1:mfe,privacy_sec_5_li_2:gfe,privacy_sec_6_title:pfe,privacy_sec_6_content:bfe,privacy_sec_6_google:yfe,privacy_sec_6_google_info:_fe,privacy_sec_6_naver:xfe,privacy_sec_6_naver_info:vfe,privacy_sec_6_kakao:wfe,privacy_sec_6_kakao_info:jfe,privacy_sec_6_footer:Nfe,privacy_sec_7_title:kfe,privacy_sec_7_content:Sfe,privacy_sec_7_li_1:Efe,privacy_sec_7_li_2:Afe,privacy_sec_7_li_3:Tfe,privacy_sec_7_li_4:Ofe,privacy_sec_7_box:Cfe,privacy_sec_8_title:$fe,privacy_sec_8_content:Pfe,privacy_sec_8_role:Rfe,privacy_sec_8_email:Dfe,privacy_sec_9_title:Lfe,privacy_sec_9_content:Ife,privacy_footer_date:Mfe,privacy_footer_contact:Ufe,privacy_footer_contact_end:qfe},zfe="",Ffe="",Hfe="",Kfe="",Vfe="",Gfe="",Wfe="",Yfe="",Xfe="",Zfe=" / ",Jfe="",Qfe="",ehe="",the="",rhe="",nhe="",ahe="",she="",ihe=" ()",ohe=" ()",lhe="",che="",uhe="",dhe="",fhe="",hhe="",mhe="",ghe="",phe="Kakao",bhe="Naver",yhe="",_he="",xhe="",vhe="",whe="",jhe=": {{date}}",Nhe=": {{date}}",khe="",She="",Ehe="",Ahe="",The="",Ohe="",Che="",$he="",Phe="{{count}}",Rhe="",Dhe="",Lhe="",Ihe="",Mhe="",Uhe="",qhe="",Bhe="",zhe="",Fhe="",Hhe="",Khe="",Vhe="",Ghe="",Whe="",Yhe="<br /><br /><strong></strong>",Xhe="",Zhe="",Jhe='<span className="font-bold text-amber-500">(+{{amount}} Cr)</span>',Qhe="",eme="",tme="+{{amount}} ",rme="",nme="{{length}}",ame="",sme="{{limit}}",ime="",ome="",lme=" :)",cme="{{limit}}",ume=" :)",dme="",fme="",hme=`
({{amount}})`,mme="",gme="",pme=`
`,bme="",yme=`
`,_me="",xme="",vme="",wme="",jme="",Nme="",kme="",Sme="",Eme="",Ame="",Tme="",Ome="",Cme="",$me="",Pme="",Rme="<br />",Dme="",Lme="",Ime="",Mme="8",Ume="",qme="",Bme="",zme="",Fme="",Hme="",Kme="",Vme="",Gme="",Wme="{{cost}} (: {{balance}})",Yme="[] ",Xme="",Zme="8",Jme="",Qme="",ege="",tge="",rge="",nge="",age="",sge="",ige="",oge="",lge=" ",cge=" ",uge="",dge="",fge="3+",hge="",mge="",gge="",pge="",bge="",yge=" {{time}}",_ge="",xge="",vge=" {{time}}",wge="Kakao",jge="Naver",Nge=" {{time}} ",kge="",Sge="",Ege="",Age="",Tge="",Oge="",Cge="",$ge="",Pge="",Rge="",Dge="...",Lge="",Ige="",Mge="<br />",Uge="",qge="",Bge="",zge="<br />Toilet Share! ",Fge='""',Hge=' <span className="text-urgency font-bold">50 </span>',Kge="",Vge="~",Gge=" ",Wge="Powered by Q",Yge="",Xge=" +{{count}} ",Zge="DIGITAL LOCK",Jge="",Qge="",epe="OPEN",tpe="",rpe="+",npe="",ape="",spe="",ipe="",ope="",lpe="",cpe="",upe="",dpe="()",fpe="",hpe="",mpe="",gpe="...",ppe="",bpe="",ype="",_pe="",xpe='<br /> <span className="font-bold select-all text-gray-800 dark:text-white">qseek77@gmail.com</span>',vpe="",wpe="",jpe="",Npe="<br />",kpe="",Spe="",Epe="",Ape="8",Tpe="",Ope="[] ",Cpe="",$pe="",Ppe="",Rpe="",Dpe="",Lpe="Google",Ipe="Naver",Mpe="Kakao",Upe="",qpe="<br />",Bpe="",zpe="",Fpe="",Hpe="...",Kpe="",Vpe="",Gpe="",Wpe="",Ype="",Xpe="",Zpe="",Jpe="",Qpe="",e0e="",t0e="",r0e=" ",n0e="",a0e="",s0e="",i0e="",o0e="",l0e="",c0e="",u0e="",d0e="",f0e="<br /> ",h0e="<br />",m0e="",g0e="<br /> ",p0e="",b0e="<br />",y0e="",_0e="<br />(Bidet)",x0e="",v0e="",w0e="",j0e="",N0e="",k0e="",S0e="",E0e="",A0e="",T0e=" No",O0e="<br /> ",C0e="",$0e="<br />",P0e="",R0e="<br />",D0e="",L0e="",I0e="<br />",M0e="",U0e="",q0e="",B0e="",z0e="",F0e="",H0e="",K0e="",V0e="",G0e="<br /> ",W0e="",Y0e="",X0e="",Z0e="",J0e="",Q0e="",ebe="* ",tbe="<br />",rbe="",nbe="",abe="",sbe=`<br />
(/)`,ibe="",obe="5",lbe="",cbe="",ube="",dbe="",fbe="",hbe="",mbe="",gbe="",pbe="",bbe=": ",ybe="",_be="",xbe="",vbe="",wbe="",jbe="",Nbe="",kbe="",Sbe="",Ebe="",Abe="",Tbe=" ()",Obe=": ",Cbe="",$be="",Pbe=" (+5 Cr)",Rbe="",Dbe="",Lbe="...",Ibe="...",Mbe="",Ube="",qbe="<br /> ",Bbe='<span className="text-primary-600 dark:text-primary-400 font-bold"></span><br /> ',zbe="",Fbe="",Hbe=' <br /><span className="font-bold text-red-600 dark:text-red-400">5</span>',Kbe="",Vbe="",Gbe="",Wbe="",Ybe="",Xbe="",Zbe="2024126",Jbe="1",Qbe="",eye="2",tye="",rye="",nye="",aye="",sye="",iye="3",oye="1. ",lye="",cye="2. ",uye="7",dye="4",fye="1. ",hye="",mye="",gye="",pye="",bye="",yye="",_ye="2. ",xye="24",vye="5",wye="1. ",jye="GoogleNaverKakao",Nye="2. ",kye="",Sye="3. ",Eye="14",Aye="6",Tye="",Oye="",Cye="",$ye="7",Pye="1. ",Rye="",Dye="",Lye="",Iye="",Mye="",Uye="",qye="",Bye="",zye="2. ",Fye="",Hye="8",Kye="1. ",Vye="",Gye="50",Wye="",Yye="",Xye="",Zye="2. ",Jye="",Qye="3. ",e_e="",t_e="9",r_e="1. ",n_e="",a_e="2. ",s_e="",i_e="",o_e="",l_e="",c_e="",u_e="10",d_e="",f_e="11",h_e="1. ",m_e="",g_e="2. ",p_e="",b_e="3. ",y_e="",__e="12",x_e="",v_e="13",w_e="1. ",j_e="",N_e="2. ",k_e="",S_e="14",E_e="2024126",A_e="",T_e="qseek77@gmail.com",O_e="",C_e="",$_e="2025126",P_e="",R_e="1. ",D_e="",L_e="",I_e="",M_e="",U_e="",q_e="",B_e="2. ",z_e="",F_e="",H_e="",K_e="",V_e="3. ",G_e="",W_e="",Y_e="",X_e="4. ",Z_e="",J_e="",Q_e="",exe="5. ",txe="",rxe="",nxe="",axe="6. ",sxe="",ixe="Google",oxe="",lxe="Naver",cxe="",uxe="Kakao",dxe="",fxe="",hxe="7. ",mxe="",gxe="",pxe="",bxe="",yxe="",_xe="",xxe="8. ",vxe="",wxe="",jxe="",Nxe="9. ",kxe="7",Sxe="2025126",Exe="",Axe="",Txe={test_message:zfe,settings:Ffe,theme:Hfe,dark_mode:Kfe,light_mode:Vfe,theme_description:Gfe,language:Wfe,menu_title:Yfe,customer_support:Xfe,contact_us:Zfe,ad_inquiry:Jfe,logout:Qfe,withdraw:ehe,service_guide:the,guide_usage:rhe,guide_credit:nhe,guide_registration:ahe,together:she,donate:ihe,donate_alert:ohe,share_app:lhe,app_info:che,terms_of_service:uhe,privacy_policy:dhe,version_info:fhe,destination:hhe,distance:mhe,duration:ghe,kakao_map:phe,naver_map:bhe,google_map:yhe,reviews:_he,write_review:xhe,first_review:vhe,report:whe,update_date:jhe,reg_date:Nhe,view_map:khe,tissue:She,tissue_yes:Ehe,tissue_no:Ahe,bidet:The,bidet_yes:Ohe,bidet_no:Che,toilet_stall:$he,stalls_count:Phe,note:Rhe,anonymous:Dhe,review_edit:Lhe,review_delete:Ihe,report_title:Mhe,report_reason_select:Uhe,report_reason_password:qhe,report_reason_owner:Bhe,report_reason_doorlock:zhe,report_reason_tissue:Fhe,report_reason_bidet:Hhe,report_reason_other:Khe,report_other_placeholder:Vhe,submit:Ghe,owner_apology_title:Whe,owner_apology_desc:Yhe,request_delete:Xhe,review_success_title:Zhe,review_reward_desc:Jhe,watch_ad:Qhe,later:eme,reward_credits:tme,alert_copy_paste:rme,alert_min_length:nme,alert_report_fast:ame,alert_report_limit:sme,alert_report_duplicate:ime,alert_report_error:ome,alert_review_fast:lme,alert_review_limit:cme,alert_review_duplicate:ume,alert_review_saved:dme,alert_review_failed:fme,review_delete_confirm:hme,review_delete_confirm_simple:mme,review_deleted:gme,review_deleted_deducted:pme,review_delete_fail:bme,report_thanks_title:yme,report_add_detail:_me,report_select_reason:xme,my_page_title:vme,my_credit:wme,charge_with_ad:jme,recommend_and_charge:Nme,my_registrations:kme,favorites:Sme,review_management:Eme,no_reviews_written:Ame,deleted_toilet:Tme,prev_page:Ome,next_page:Cme,change_nickname:$me,change_complete:Pme,nickname_success_message:Rme,confirm:Dme,awesome:Lme,new_nickname:Ime,max_8_chars_placeholder:Mme,cancel:Ume,save:qme,password_unlocked:Bme,password_locked:zme,public_data:Fme,toilet_password:Hme,none:Kme,check_password:Vme,unlock_with_ad:Gme,credit_deduction:Wme,admin_dashboard:Yme,nickname_input_alert:Xme,nickname_length_alert:Zme,nickname_update_fail:Jme,withdraw_complete_alert:Qme,withdraw_fail_alert:ege,nav_home:tge,nav_register:rge,nav_my_info:nge,search_placeholder:age,nearest_center:sge,nearest_user:ige,search_this_area:oge,sort_distance:lge,sort_rating:cge,filter_paper:uge,filter_bidet:dge,filter_score_3plus:fge,no_toilets_found:hge,toilet_type_public:mge,toilet_type_commercial:gge,toilet_type_other:pge,distance_from_current:bge,walking_time_approx:yge,my_location:_ge,nav_directions:xge,walking_time:vge,map_kakao:wge,map_naver:jge,walking_time_approx_short:Nge,map_load_fail:kge,exit_modal_title:Sge,withdraw_reason_title:Ege,withdraw_reason_desc:Age,withdraw_reason_1:Tge,withdraw_reason_2:Oge,withdraw_reason_3:Cge,withdraw_reason_4:$ge,withdraw_reason_5:Pge,withdraw_other:Rge,withdraw_reason_placeholder:Dge,withdraw_next:Lge,withdraw_confirm_title:Ige,withdraw_confirm_desc:Mge,withdraw_confirm_btn:Uge,withdraw_alert_reason:qge,withdraw_alert_other:Bge,welcome_title:zge,welcome_subtitle:Fge,welcome_bonus:Hge,welcome_msg_1:Kge,welcome_msg_2:Vge,welcome_btn:Gge,powered_by:Wge,notice_confirm:Yge,notice_more:Xge,doorlock_brand:Zge,doorlock_delete:Jge,doorlock_enter:Qge,doorlock_open:epe,credit_unit:tpe,credit_earn:rpe,credit_confirm:npe,contact_title:ape,contact_type_label:spe,contact_type_error:ipe,contact_type_partner:ope,contact_type_ad:lpe,contact_type_other:cpe,contact_info_label:upe,contact_info_hint:dpe,contact_info_placeholder:fpe,contact_content_label:hpe,contact_content_placeholder:mpe,contact_sending:gpe,contact_send:ppe,contact_success_title:bpe,contact_success_desc:ype,contact_fail_title:_pe,contact_fail_desc:xpe,contact_close:vpe,contact_alert_input:wpe,nickname_success_title:jpe,nickname_success_desc:Npe,nickname_awesome:kpe,nickname_change_title:Spe,nickname_new_label:Epe,nickname_placeholder:Ape,nickname_save:Tpe,admin_login_notice:Ope,exit_modal_desc:Cpe,exit_modal_cancel:$pe,exit_modal_confirm:Ppe,splash_subtitle:Rpe,login_required_title:Dpe,login_google:Lpe,login_naver:Ipe,login_kakao:Mpe,toilet_selection_title:Upe,toilet_selection_desc:qpe,account_restored:Bpe,welcome_back:zpe,level_hand:Fpe,level_desc_0:Hpe,level_straw:Kpe,level_desc_1:Vpe,level_newspaper:Gpe,level_desc_2:Wpe,level_roll_tissue:Ype,level_desc_3:Xpe,level_box_tissue:Zpe,level_desc_4:Jpe,level_wet_tissue:Qpe,level_desc_5:e0e,level_bidet:t0e,level_desc_6:r0e,tos_title:n0e,privacy_title:a0e,go_home:s0e,go_home_full:i0e,guide_tab_intro:o0e,guide_tab_levels:l0e,guide_tab_credits:c0e,guide_tab_etiquette:u0e,guide_intro_title:d0e,guide_intro_desc:f0e,guide_intro_clean:h0e,guide_intro_unity_title:m0e,guide_intro_unity_desc:g0e,guide_nearest_title:p0e,guide_nearest_desc:b0e,guide_level_system:y0e,guide_level_desc:_0e,guide_credit_tips:x0e,guide_credit_desc:v0e,guide_credit_signup:w0e,guide_credit_toilet_reg:j0e,guide_credit_level_up:N0e,guide_credit_write_review:k0e,guide_credit_report:S0e,guide_credit_unlock:E0e,guide_etiquette_title:A0e,guide_etiquette_fake_title:T0e,guide_etiquette_fake_desc:O0e,guide_etiquette_spam_title:C0e,guide_etiquette_spam_desc:$0e,guide_etiquette_respect_title:P0e,guide_etiquette_respect_desc:R0e,credit_guide_title:D0e,credit_what_is:L0e,credit_what_is_desc:I0e,credit_how_to_earn:M0e,credit_earn_ad_title:U0e,credit_earn_ad_desc:q0e,credit_earn_invite_title:B0e,credit_earn_invite_desc:z0e,credit_usage_title:F0e,credit_usage_desc:H0e,reg_guide_title:K0e,reg_guide_subtitle:V0e,reg_guide_desc:G0e,reg_step_1_title:W0e,reg_step_1_desc:Y0e,reg_step_2_title:X0e,reg_step_2_desc:Z0e,reg_step_3_title:J0e,reg_step_3_desc:Q0e,reg_guide_warning:ebe,submit_login_required_title:tbe,submit_login_btn:rbe,submit_location_error:nbe,submit_location_korea_only:abe,submit_location_land_only:sbe,submit_address_none:ibe,submit_delete_success_deduct:obe,submit_delete_success:lbe,submit_set_location:cbe,submit_page_title_edit:ube,submit_page_title_new:dbe,submit_edit_location:fbe,submit_find_location:hbe,submit_label_address:mbe,submit_placeholder_address:gbe,submit_label_name:pbe,submit_placeholder_name:bbe,submit_label_floor:ybe,submit_label_password:_be,submit_placeholder_password:xbe,submit_label_stalls:vbe,submit_paper_yes:wbe,submit_paper_no:jbe,submit_bidet_yes:Nbe,submit_bidet_no:kbe,submit_gender_male:Sbe,submit_gender_female:Ebe,submit_gender_unisex:Abe,submit_label_note:Tbe,submit_placeholder_note:Obe,submit_btn_edit_complete:Cbe,submit_btn_delete:$be,submit_btn_share_update:Pbe,submit_btn_private:Rbe,submit_btn_share:Dbe,submit_processing_edit:Lbe,submit_processing_new:Ibe,submit_complete_edit:Mbe,submit_complete_new:Ube,submit_desc_processing:qbe,submit_desc_complete:Bbe,submit_btn_close:zbe,submit_delete_confirm_title:Fbe,submit_delete_warning:Hbe,submit_delete_desc:Kbe,submit_btn_cancel:Vbe,submit_error_general:Gbe,submit_fail_process:Wbe,submit_default_pw_name:Ybe,submit_default_open_name:Xbe,tos_date:Zbe,tos_article_1_title:Jbe,tos_article_1_content:Qbe,tos_article_2_title:eye,tos_article_2_li_1:tye,tos_article_2_li_2:rye,tos_article_2_li_3:nye,tos_article_2_li_4:aye,tos_article_2_li_5:sye,tos_article_3_title:iye,tos_article_3_sub_1_title:oye,tos_article_3_sub_1_content:lye,tos_article_3_sub_2_title:cye,tos_article_3_sub_2_content:uye,tos_article_4_title:dye,tos_article_4_sub_1_title:fye,tos_article_4_sub_1_li_1:hye,tos_article_4_sub_1_li_2:mye,tos_article_4_sub_1_li_3:gye,tos_article_4_sub_1_li_4:pye,tos_article_4_sub_1_li_5:bye,tos_article_4_sub_1_li_6:yye,tos_article_4_sub_2_title:_ye,tos_article_4_sub_2_content:xye,tos_article_5_title:vye,tos_article_5_sub_1_title:wye,tos_article_5_sub_1_content:jye,tos_article_5_sub_2_title:Nye,tos_article_5_sub_2_content:kye,tos_article_5_sub_3_title:Sye,tos_article_5_sub_3_content:Eye,tos_article_6_title:Aye,tos_article_6_content:Tye,tos_article_6_link:Oye,tos_article_6_btn:Cye,tos_article_7_title:$ye,tos_article_7_sub_1_title:Pye,tos_article_7_sub_1_content:Rye,tos_article_7_sub_1_li_1:Dye,tos_article_7_sub_1_li_2:Lye,tos_article_7_sub_1_li_3:Iye,tos_article_7_sub_1_li_4:Mye,tos_article_7_sub_1_li_5:Uye,tos_article_7_sub_1_li_6:qye,tos_article_7_sub_1_li_7:Bye,tos_article_7_sub_2_title:zye,tos_article_7_sub_2_content:Fye,tos_article_8_title:Hye,tos_article_8_sub_1_title:Kye,tos_article_8_sub_1_content:Vye,tos_article_8_sub_1_li_1:Gye,tos_article_8_sub_1_li_2:Wye,tos_article_8_sub_1_li_3:Yye,tos_article_8_sub_1_li_4:Xye,tos_article_8_sub_2_title:Zye,tos_article_8_sub_2_content:Jye,tos_article_8_sub_3_title:Qye,tos_article_8_sub_3_content:e_e,tos_article_9_title:t_e,tos_article_9_sub_1_title:r_e,tos_article_9_sub_1_content:n_e,tos_article_9_sub_2_title:a_e,tos_article_9_sub_2_content:s_e,tos_article_9_sub_2_li_1:i_e,tos_article_9_sub_2_li_2:o_e,tos_article_9_sub_2_li_3:l_e,tos_article_9_sub_2_li_4:c_e,tos_article_10_title:u_e,tos_article_10_content:d_e,tos_article_11_title:f_e,tos_article_11_sub_1_title:h_e,tos_article_11_sub_1_content:m_e,tos_article_11_sub_2_title:g_e,tos_article_11_sub_2_content:p_e,tos_article_11_sub_3_title:b_e,tos_article_11_sub_3_content:y_e,tos_article_12_title:__e,tos_article_12_content:x_e,tos_article_13_title:v_e,tos_article_13_sub_1_title:w_e,tos_article_13_sub_1_content:j_e,tos_article_13_sub_2_title:N_e,tos_article_13_sub_2_content:k_e,tos_article_14_title:S_e,tos_article_14_content:E_e,tos_footer_contact_title:A_e,tos_footer_email:T_e,tos_footer_service:O_e,tos_go_home:C_e,privacy_date:$_e,privacy_intro:P_e,privacy_sec_1_title:R_e,privacy_sec_1_req_title:D_e,privacy_sec_1_req_li_1:L_e,privacy_sec_1_req_li_2:I_e,privacy_sec_1_auto_title:M_e,privacy_sec_1_auto_li_1:U_e,privacy_sec_1_auto_li_2:q_e,privacy_sec_2_title:B_e,privacy_sec_2_li_1:z_e,privacy_sec_2_li_2:F_e,privacy_sec_2_li_3:H_e,privacy_sec_2_li_4:K_e,privacy_sec_3_title:V_e,privacy_sec_3_content:G_e,privacy_sec_3_box_period:W_e,privacy_sec_3_box_exception:Y_e,privacy_sec_4_title:X_e,privacy_sec_4_content:Z_e,privacy_sec_4_li_1:J_e,privacy_sec_4_li_2:Q_e,privacy_sec_5_title:exe,privacy_sec_5_content:txe,privacy_sec_5_li_1:rxe,privacy_sec_5_li_2:nxe,privacy_sec_6_title:axe,privacy_sec_6_content:sxe,privacy_sec_6_google:ixe,privacy_sec_6_google_info:oxe,privacy_sec_6_naver:lxe,privacy_sec_6_naver_info:cxe,privacy_sec_6_kakao:uxe,privacy_sec_6_kakao_info:dxe,privacy_sec_6_footer:fxe,privacy_sec_7_title:hxe,privacy_sec_7_content:mxe,privacy_sec_7_li_1:gxe,privacy_sec_7_li_2:pxe,privacy_sec_7_li_3:bxe,privacy_sec_7_li_4:yxe,privacy_sec_7_box:_xe,privacy_sec_8_title:xxe,privacy_sec_8_content:vxe,privacy_sec_8_role:wxe,privacy_sec_8_email:jxe,privacy_sec_9_title:Nxe,privacy_sec_9_content:kxe,privacy_footer_date:Sxe,privacy_footer_contact:Exe,privacy_footer_contact_end:Axe};ha.use(eP).use(tq).init({resources:{ko:{translation:dY},en:{translation:Qne},ja:{translation:Bfe},zh:{translation:Txe}},fallbackLng:"ko",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const Oxe="modulepreload",Cxe=function(t,e){return new URL(t,e).href},f3={},Ni=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(r.map(m=>{if(m=Cxe(m,n),m in f3)return;f3[m]=!0;const p=m.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(!!n)for(let w=u.length-1;w>=0;w--){const j=u[w];if(j.href===m&&(!p||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${b}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":Oxe,p||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),p)return new Promise((w,j)=>{_.addEventListener("load",w),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const $xe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,l)=>{r.platforms.set(s,l)},a=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=a,r},Pxe=t=>t.CapacitorPlatforms=$xe(t),tP=Pxe(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});tP.addPlatform;tP.setPlatform;var id;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(id||(id={}));class hx extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const Rxe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Dxe=t=>{var e,r,n,a,s;const l=t.CapacitorCustomPlatform||null,u=t.Capacitor||{},d=u.Plugins=u.Plugins||{},h=t.CapacitorPlatforms,m=()=>l!==null?l.name:Rxe(t),p=((e=h==null?void 0:h.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||m,b=()=>p()!=="web",y=((r=h==null?void 0:h.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||b,_=$=>{const B=P.get($);return!!(B!=null&&B.platforms.has(p())||k($))},w=((n=h==null?void 0:h.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||_,j=$=>{var B;return(B=u.PluginHeaders)===null||B===void 0?void 0:B.find(H=>H.name===$)},k=((a=h==null?void 0:h.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||j,E=$=>t.console.error($),S=($,B,H)=>Promise.reject(`${H} does not have an implementation of "${B}".`),P=new Map,C=($,B={})=>{const H=P.get($);if(H)return console.warn(`Capacitor plugin "${$}" already registered. Cannot register plugins twice.`),H.proxy;const se=p(),D=k($);let R;const L=()=>T(null,null,function*(){return!R&&se in B?R=typeof B[se]=="function"?R=yield B[se]():R=B[se]:l!==null&&!R&&"web"in B&&(R=typeof B.web=="function"?R=yield B.web():R=B.web),R}),V=(Q,M)=>{var G,q;if(D){const ae=D==null?void 0:D.methods.find(ie=>M===ie.name);if(ae)return ae.rtype==="promise"?ie=>u.nativePromise($,M.toString(),ie):(ie,be)=>u.nativeCallback($,M.toString(),ie,be);if(Q)return(G=Q[M])===null||G===void 0?void 0:G.bind(Q)}else{if(Q)return(q=Q[M])===null||q===void 0?void 0:q.bind(Q);throw new hx(`"${$}" plugin is not implemented on ${se}`,id.Unimplemented)}},Z=Q=>{let M;const G=(...q)=>{const ae=L().then(ie=>{const be=V(ie,Q);if(be){const te=be(...q);return M=te==null?void 0:te.remove,te}else throw new hx(`"${$}.${Q}()" is not implemented on ${se}`,id.Unimplemented)});return Q==="addListener"&&(ae.remove=()=>T(null,null,function*(){return M()})),ae};return G.toString=()=>`${Q.toString()}() { [capacitor code] }`,Object.defineProperty(G,"name",{value:Q,writable:!1,configurable:!1}),G},U=Z("addListener"),K=Z("removeListener"),W=(Q,M)=>{const G=U({eventName:Q},M),q=()=>T(null,null,function*(){const ie=yield G;K({eventName:Q,callbackId:ie},M)}),ae=new Promise(ie=>G.then(()=>ie({remove:q})));return ae.remove=()=>T(null,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield q()}),ae},X=new Proxy({},{get(Q,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?W:U;case"removeListener":return K;default:return Z(M)}}});return d[$]=X,P.set($,{name:$,proxy:X,platforms:new Set([...Object.keys(B),...D?[se]:[]])}),X},I=((s=h==null?void 0:h.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||C;return u.convertFileSrc||(u.convertFileSrc=$=>$),u.getPlatform=p,u.handleError=E,u.isNativePlatform=y,u.isPluginAvailable=w,u.pluginMethodNoop=S,u.registerPlugin=I,u.Exception=hx,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},Lxe=t=>t.Capacitor=Dxe(t),en=Lxe(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),zs=en.registerPlugin;en.Plugins;class rP{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const l=()=>T(this,null,function*(){return this.removeListener(e,r)});return Promise.resolve({remove:l})}removeAllListeners(){return T(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,r,n){const a=this.listeners[e];if(!a){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}a.forEach(s=>s(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new en.Exception(e,id.Unimplemented)}unavailable(e="not available"){return new en.Exception(e,id.Unavailable)}removeListener(e,r){return T(this,null,function*(){const n=this.listeners[e];if(!n)return;const a=n.indexOf(r);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const h3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ixe extends rP{getCookies(){return T(this,null,function*(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[a,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=m3(a).trim(),s=m3(s).trim(),r[a]=s}),r})}setCookie(e){return T(this,null,function*(){try{const r=h3(e.key),n=h3(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${s}; ${l};`}catch(r){return Promise.reject(r)}})}deleteCookie(e){return T(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})}clearCookies(){return T(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return T(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}zs("CapacitorCookies",{web:()=>new Ixe});const Mxe=t=>T(null,null,function*(){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(t)})}),Uxe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,s,l)=>(a[s]=t[e[l]],a),{})},qxe=(t,e=!0)=>t?Object.entries(t).reduce((n,a)=>{const[s,l]=a;let u,d;return Array.isArray(l)?(d="",l.forEach(h=>{u=e?encodeURIComponent(h):h,d+=`${s}=${u}&`}),d.slice(0,-1)):(u=e?encodeURIComponent(l):l,d=`${s}=${u}`),`${n}&${d}`},"").substr(1):null,Bxe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),a=Uxe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[l,u]of Object.entries(t.data||{}))s.set(l,u);r.body=s.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((u,d)=>{s.append(d,u)});else for(const u of Object.keys(t.data))s.append(u,t.data[u]);r.body=s;const l=new Headers(r.headers);l.delete("content-type"),r.headers=l}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class zxe extends rP{request(e){return T(this,null,function*(){const r=Bxe(e,e.webFetchExtra),n=qxe(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,s=yield fetch(a,r),l=s.headers.get("content-type")||"";let{responseType:u="text"}=s.ok?e:{};l.includes("application/json")&&(u="json");let d,h;switch(u){case"arraybuffer":case"blob":h=yield s.blob(),d=yield Mxe(h);break;case"json":d=yield s.json();break;case"document":case"text":default:d=yield s.text()}const m={};return s.headers.forEach((p,b)=>{m[b]=p}),{data:d,headers:m,status:s.status,url:s.url}})}get(e){return T(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return T(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return T(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return T(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return T(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}const Fxe=zs("CapacitorHttp",{web:()=>new zxe}),Yi=zs("Geolocation",{web:()=>Ni(()=>import("./web-BFfzoX_x.js"),[],import.meta.url).then(t=>new t.GeolocationWeb)}),Ag=zs("App",{web:()=>Ni(()=>import("./web-C0Al5KgH.js"),[],import.meta.url).then(t=>new t.AppWeb)});var Be=(t=>(t.GUEST="guest",t.USER="user",t.VIP="vip",t.ADMIN="admin",t))(Be||{}),As=(t=>(t.ACTIVE="active",t.WITHDRAWN="withdrawn",t.BANNED="banned",t))(As||{}),ft=(t=>(t.MALE="MALE",t.FEMALE="FEMALE",t.UNISEX="UNISEX",t))(ft||{}),tr=(t=>(t.FAVORITE_UPDATE="favorite_update",t.CREDIT_AWARDED="credit_awarded",t.TOILET_REPORTED="toilet_reported",t.NEARBY_TOILET="nearby_toilet",t.REVIEW_ADDED="review_added",t.ADMIN_MESSAGE="admin_message",t.LEVEL_CHANGE="level_change",t.SCORE_CHANGE="score_change",t.REPORT_RESULT="report_result",t.MILESTONE_REACHED="milestone_reached",t.POINT_GIFT="point_gift",t.LEVEL_UP="level_up",t))(tr||{});const th={signup:10,toiletSubmit:50,reviewSubmit:10,reportSubmit:20,passwordUpdate:3,adView:1,unlockCost:5,referralReward:20,ownerReviewReward:1,ownerUnlockReward:1},g3={id:"guest",email:"",gender:null,role:Be.GUEST,credits:0};var Vi={},Tg={},jw=function(t,e){return jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},jw(t,e)};function nP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $p=function(){return $p=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$p.apply(this,arguments)};function Ed(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function aP(t,e,r,n){var a=arguments.length,s=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(a<3?l(s):a>3?l(e,r,s):l(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s}function sP(t,e){return function(r,n){e(r,n,t)}}function iP(t,e,r,n,a,s){function l(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,m=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,b=!1,y=r.length-1;y>=0;y--){var _={};for(var w in n)_[w]=w==="access"?{}:n[w];for(var w in n.access)_.access[w]=n.access[w];_.addInitializer=function(k){if(b)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(k||null))};var j=(0,r[y])(u==="accessor"?{get:m.get,set:m.set}:m[d],_);if(u==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(p=l(j.get))&&(m.get=p),(p=l(j.set))&&(m.set=p),(p=l(j.init))&&a.unshift(p)}else(p=l(j))&&(u==="field"?a.unshift(p):m[d]=p)}h&&Object.defineProperty(h,n.name,m),b=!0}function oP(t,e,r){for(var n=arguments.length>2,a=0;a<e.length;a++)r=n?e[a].call(t,r):e[a].call(t);return n?r:void 0}function lP(t){return typeof t=="symbol"?t:"".concat(t)}function cP(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function uP(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function et(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(m){try{h(n.next(m))}catch(p){l(p)}}function d(m){try{h(n.throw(m))}catch(p){l(p)}}function h(m){m.done?s(m.value):a(m.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}function dP(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Z0=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function fP(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Z0(e,t,r)}function Pp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _j(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,s=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function hP(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_j(arguments[e]));return t}function mP(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var s=arguments[e],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function gP(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function od(t){return this instanceof od?(this.v=t,this):new od(t)}function pP(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(_){return Promise.resolve(_).then(y,p)}}function u(y,_){n[y]&&(a[y]=function(w){return new Promise(function(j,k){s.push([y,w,j,k])>1||d(y,w)})},_&&(a[y]=_(a[y])))}function d(y,_){try{h(n[y](_))}catch(w){b(s[0][3],w)}}function h(y){y.value instanceof od?Promise.resolve(y.value.v).then(m,p):b(s[0][2],y)}function m(y){d("next",y)}function p(y){d("throw",y)}function b(y,_){y(_),s.shift(),s.length&&d(s[0][0],s[0][1])}}function bP(t){var e,r;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,s){e[a]=t[a]?function(l){return(r=!r)?{value:od(t[a](l)),done:!1}:s?s(l):l}:s}}function yP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Pp=="function"?Pp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(l){return new Promise(function(u,d){l=t[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(h){s({value:h,done:u})},l)}}function _P(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Hxe=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Nw=function(t){return Nw=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Nw(t)};function xP(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Nw(t),n=0;n<r.length;n++)r[n]!=="default"&&Z0(e,t,r[n]);return Hxe(e,t),e}function vP(t){return t&&t.__esModule?t:{default:t}}function wP(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function jP(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function NP(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function kP(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Kxe=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function SP(t){function e(s){t.error=t.hasError?new Kxe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return e(l),a()})}else n|=1}catch(l){e(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function EP(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?e?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):t}const Vxe={__extends:nP,__assign:$p,__rest:Ed,__decorate:aP,__param:sP,__esDecorate:iP,__runInitializers:oP,__propKey:lP,__setFunctionName:cP,__metadata:uP,__awaiter:et,__generator:dP,__createBinding:Z0,__exportStar:fP,__values:Pp,__read:_j,__spread:hP,__spreadArrays:mP,__spreadArray:gP,__await:od,__asyncGenerator:pP,__asyncDelegator:bP,__asyncValues:yP,__makeTemplateObject:_P,__importStar:xP,__importDefault:vP,__classPrivateFieldGet:wP,__classPrivateFieldSet:jP,__classPrivateFieldIn:NP,__addDisposableResource:kP,__disposeResources:SP,__rewriteRelativeImportExtension:EP},Gxe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:kP,get __assign(){return $p},__asyncDelegator:bP,__asyncGenerator:pP,__asyncValues:yP,__await:od,__awaiter:et,__classPrivateFieldGet:wP,__classPrivateFieldIn:NP,__classPrivateFieldSet:jP,__createBinding:Z0,__decorate:aP,__disposeResources:SP,__esDecorate:iP,__exportStar:fP,__extends:nP,__generator:dP,__importDefault:vP,__importStar:xP,__makeTemplateObject:_P,__metadata:uP,__param:sP,__propKey:lP,__read:_j,__rest:Ed,__rewriteRelativeImportExtension:EP,__runInitializers:oP,__setFunctionName:cP,__spread:hP,__spreadArray:gP,__spreadArrays:mP,__values:Pp,default:Vxe},Symbol.toStringTag,{value:"Module"})),Wxe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let J0=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},AP=class extends J0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},kw=class extends J0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Sw=class extends J0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Rp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rp||(Rp={}));class Yxe{constructor(e,{headers:r={},customFetch:n,region:a=Rp.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Wxe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return et(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:h,signal:m,timeout:p}=n;let b={},{region:y}=n;y||(y=this.region);const _=new URL(`${this.url}/${r}`);y&&y!=="any"&&(b["x-region"]=y,_.searchParams.set("forceFunctionRegion",y));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob!="undefined"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(b["Content-Type"]="text/plain",w=h):typeof FormData!="undefined"&&h instanceof FormData?w=h:(b["Content-Type"]="application/json",w=JSON.stringify(h)):w=h;let j=m;p&&(l=new AbortController,s=setTimeout(()=>l.abort(),p),m?(j=l.signal,m.addEventListener("abort",()=>l.abort())):j=l.signal);const k=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),u),body:w,signal:j}).catch(C=>{throw new AP(C)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new kw(k);if(!k.ok)throw new Sw(k);let S=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return S==="application/json"?P=yield k.json():S==="application/octet-stream"||S==="application/pdf"?P=yield k.blob():S==="text/event-stream"?P=k:S==="multipart/form-data"?P=yield k.formData():P=yield k.text(),{data:P,error:null,response:k}}catch(u){return{data:null,error:u,response:u instanceof Sw||u instanceof kw?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const Xxe=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Rp},FunctionsClient:Yxe,FunctionsError:J0,FunctionsFetchError:AP,FunctionsHttpError:Sw,FunctionsRelayError:kw},Symbol.toStringTag,{value:"Module"})),TP=Mh(Xxe);var Jn={};const Ad=Mh(Gxe);var Og={},Cg={},$g={},Pg={},Rg={},Dg={},p3;function OP(){if(p3)return Dg;p3=1,Object.defineProperty(Dg,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Dg.default=t,Dg}var b3;function CP(){if(b3)return Rg;b3=1,Object.defineProperty(Rg,"__esModule",{value:!0});const e=Ad.__importDefault(OP());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(d=>T(this,null,function*(){var h,m,p,b;let y=null,_=null,w=null,j=d.status,k=d.statusText;if(d.ok){if(this.method!=="HEAD"){const C=yield d.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=C:_=JSON.parse(C))}const S=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(y={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,j=406,k="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const S=yield d.text();try{y=JSON.parse(S),Array.isArray(y)&&d.status===404&&(_=[],y=null,j=200,k="OK")}catch(P){d.status===404&&S===""?(j=204,k="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((b=y==null?void 0:y.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,j=200,k="OK"),y&&this.shouldThrowOnError)throw new e.default(y)}return{error:y,data:_,count:w,status:j,statusText:k}}));return this.shouldThrowOnError||(u=u.catch(d=>{var h,m,p,b,y,_;let w="";const j=d==null?void 0:d.cause;if(j){const k=(h=j==null?void 0:j.message)!==null&&h!==void 0?h:"",E=(m=j==null?void 0:j.code)!==null&&m!==void 0?m:"";w=`${(p=d==null?void 0:d.name)!==null&&p!==void 0?p:"FetchError"}: ${d==null?void 0:d.message}`,w+=`

Caused by: ${(b=j==null?void 0:j.name)!==null&&b!==void 0?b:"Error"}: ${k}`,E&&(w+=` (${E})`),j!=null&&j.stack&&(w+=`
${j.stack}`)}else w=(y=d==null?void 0:d.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(_=d==null?void 0:d.name)!==null&&_!==void 0?_:"FetchError"}: ${d==null?void 0:d.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return Rg.default=r,Rg}var y3;function $P(){if(y3)return Pg;y3=1,Object.defineProperty(Pg,"__esModule",{value:!0});const e=Ad.__importDefault(CP());let r=class extends e.default{select(a){let s=!1;const l=(a!=null?a:"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u=="undefined"?"offset":`${u}.offset`,h=typeof u=="undefined"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var m;const p=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${b}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Pg.default=r,Pg}var _3;function xj(){if(_3)return $g;_3=1,Object.defineProperty($g,"__esModule",{value:!0});const e=Ad.__importDefault($P()),r=new RegExp("[,()]");let n=class extends e.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return $g.default=n,$g}var x3;function PP(){if(x3)return Cg;x3=1,Object.defineProperty(Cg,"__esModule",{value:!0});const e=Ad.__importDefault(xj());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s!=null?s:{},d=l?"HEAD":"GET";let h=!1;const m=(a!=null?a:"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return Cg.default=r,Cg}var v3;function Zxe(){if(v3)return Og;v3=1,Object.defineProperty(Og,"__esModule",{value:!0});const t=Ad,e=t.__importDefault(PP()),r=t.__importDefault(xj());let n=class RP{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new RP(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:h}={}){var m;let p;const b=new URL(`${this.url}/rpc/${s}`);let y;u||d?(p=u?"HEAD":"GET",Object.entries(l).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{b.searchParams.append(w,j)})):(p="POST",y=l);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new r.default({method:p,url:b,headers:_,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Og.default=n,Og}var w3;function DP(){if(w3)return Jn;w3=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.PostgrestError=Jn.PostgrestBuilder=Jn.PostgrestTransformBuilder=Jn.PostgrestFilterBuilder=Jn.PostgrestQueryBuilder=Jn.PostgrestClient=void 0;const t=Ad,e=t.__importDefault(Zxe());Jn.PostgrestClient=e.default;const r=t.__importDefault(PP());Jn.PostgrestQueryBuilder=r.default;const n=t.__importDefault(xj());Jn.PostgrestFilterBuilder=n.default;const a=t.__importDefault($P());Jn.PostgrestTransformBuilder=a.default;const s=t.__importDefault(CP());Jn.PostgrestBuilder=s.default;const l=t.__importDefault(OP());return Jn.PostgrestError=l.default,Jn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},Jn}class LP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const Jxe="2.86.2",Qxe=`realtime-js/${Jxe}`,IP="1.0.0",eve="2.0.0",j3=IP,Ew=1e4,tve=1e3,rve=100;var dc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dc||(dc={}));var fn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fn||(fn={}));var $s;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($s||($s={}));var Aw;(function(t){t.websocket="websocket"})(Aw||(Aw={}));var fc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fc||(fc={}));class nve{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e!=null?e:[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var a,s;const l=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(y),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,d.length),_.setUint8(w++,u.length),_.setUint8(w++,l.length),_.setUint8(w++,h.length),_.setUint8(w++,p.length),_.setUint8(w++,r),Array.from(d,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(u,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(h,k=>_.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>_.setUint8(w++,k.charCodeAt(0)));var j=new Uint8Array(y.byteLength+n.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(n),y.byteLength),j.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(e.slice(d,d+a));d=d+a;const m=n.decode(e.slice(d,d+s));d=d+s;const p=n.decode(e.slice(d,d+l));d=d+l;const b=e.slice(d,e.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(b)):b,_={type:this.BROADCAST_EVENT,event:m,payload:y};return l>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class MP{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const N3=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,l)=>(s[l]=ave(l,t,e,a),s),{}):{}},ave=(t,e,r,n)=>{const a=e.find(u=>u.name===t),s=a==null?void 0:a.type,l=r[t];return s&&!n.includes(s)?UP(s,l):Tw(l)},UP=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lve(e,r)}switch(t){case mr.bool:return sve(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return ive(e);case mr.json:case mr.jsonb:return ove(e);case mr.timestamp:return cve(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return Tw(e);default:return Tw(e)}},Tw=t=>t,sve=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ive=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ove=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lve=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const l=t.slice(1,r);try{s=JSON.parse("["+l+"]")}catch(u){s=l?l.split(","):[]}return s.map(u=>UP(e,u))}return t},cve=t=>typeof t=="string"?t.replace(" ","T"):t,qP=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mx{constructor(e,r,n={},a=Ew){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ow;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ow||(Ow={}));let BP=class pp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pp.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=pp.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pp.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),l=this.transformState(r),u={},d={};return this.map(s,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const p=s[h];if(p){const b=m.map(j=>j.presence_ref),y=p.map(j=>j.presence_ref),_=m.filter(j=>y.indexOf(j.presence_ref)<0),w=p.filter(j=>b.indexOf(j.presence_ref)<0);_.length>0&&(u[h]=_),w.length>0&&(d[h]=w)}else u[h]=m}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var h;const m=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),m.length>0){const p=e[u].map(y=>y.presence_ref),b=m.filter(y=>p.indexOf(y.presence_ref)<0);e[u].unshift(...b)}n(u,m,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const m=d.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cw||(Cw={}));var Zu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zu||(Zu={}));var si;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(si||(si={}));const uve=fn;let zP=class FP{constructor(e,r={config:{}},n){var a,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mx(this,$s.join,this.params,this.timeout),this.rejoinTimer=new MP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($s.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new BP(this),this.broadcastEndpointURL=qP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==fn.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Zu.PRESENCE]&&this.bindings[Zu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},b={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(si.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(si.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",_=>T(this,[_],function*({postgres_changes:y}){var w;if(this.socket.setAuth(),y===void 0){e==null||e(si.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(w=j==null?void 0:j.length)!==null&&w!==void 0?w:0,E=[];for(let S=0;S<k;S++){const P=j[S],{filter:{event:C,schema:I,table:$,filter:B}}=P,H=y&&y[S];if(H&&H.event===C&&H.schema===I&&H.table===$&&H.filter===B)E.push(Object.assign(Object.assign({},P),{id:H.id}));else{this.unsubscribe(),this.state=fn.errored,e==null||e(si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(si.SUBSCRIBED);return}})).receive("error",y=>{this.state=fn.errored,e==null||e(si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return T(this,arguments,function*(e,r={}){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(){return T(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this.state===fn.joined&&e===Zu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}httpSend(a,s){return T(this,arguments,function*(e,r,n={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=yield h.json();m=p.error||p.message||m}catch(p){}return Promise.reject(new Error(m))})}send(n){return T(this,arguments,function*(e,r={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=yield this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return yield(s=m.body)===null||s===void 0?void 0:s.cancel(),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($s.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new mx(this,$s.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fn.closed,this.bindings={}}_fetchWithTimeout(e,r,n){return T(this,null,function*(){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=yield this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new mx(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rve){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=$s;if(n&&[u,d,h,m].indexOf(l)>=0&&n!==this._joinRef())return;let b=this._onMessage(l,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var _,w,j;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(y=>y.callback(b,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var _,w,j,k,E,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const P=y.id,C=(_=y.filter)===null||_===void 0?void 0:_.event;return P&&((w=r.ids)===null||w===void 0?void 0:w.includes(P))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(E=(k=y==null?void 0:y.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:w,table:j,commit_timestamp:k,type:E,errors:S}=_;b=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:k,eventType:E,new:{},old:{},errors:S}),this._getPayloadRecords(_))}y.callback(b,n)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&FP.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($s.close,{},e)}_onError(e){this._on($s.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=N3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=N3(e.columns,e.old_record)),r}};const gx=()=>{},Lg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dve=[1e3,2e3,5e3,1e4],fve=1e4,hve=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let mve=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ew,this.transport=null,this.heartbeatIntervalMs=Lg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gx,this.ref=0,this.reconnectTimer=null,this.vsn=j3,this.logger=gx,this.conn=null,this.sendBuffer=[],this.serializer=new nve,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Aw.websocket}`,this.httpEndpoint=qP(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r!=null?r:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return T(this,null,function*(){const r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return T(this,null,function*(){const e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dc.connecting:return fc.Connecting;case dc.open:return fc.Open;case dc.closing:return fc.Closing;default:return fc.Closed}}isConnected(){return this.connectionState()===fc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new zP(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e=null){return T(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return T(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tve,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Lg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===dc.open||this.conn.readyState===dc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($s.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([hve],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}_performAuth(e=null){return T(this,null,function*(){let r;e?r=e:this.accessToken?r=yield this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Qxe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push($s.access_token,{access_token:r})}))})}_waitForAuthIfNeeded(){return T(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new MP(()=>T(this,null,function*(){setTimeout(()=>T(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Lg.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,s,l,u,d,h,m,p,b,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ew,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Lg.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:gx,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:j3,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(_=>dve[_-1]||fve),this.vsn){case IP:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((_,w)=>w(JSON.stringify(_))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((_,w)=>w(JSON.parse(_)));break;case eve:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const gve=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:uve,get REALTIME_LISTEN_TYPES(){return Zu},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Cw},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ow},get REALTIME_SUBSCRIBE_STATES(){return si},RealtimeChannel:zP,RealtimeClient:mve,RealtimePresence:BP,WebSocketFactory:LP},Symbol.toStringTag,{value:"Module"})),HP=Mh(gve);class Uh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Or(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KP extends Uh{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dp extends Uh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const vj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pve=()=>Response,$w=t=>{if(Array.isArray(t))return t.map(r=>$w(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=$w(n)}),e},bve=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yve=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),px=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_ve=(t,e,r)=>et(void 0,void 0,void 0,function*(){const n=yield pve();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const s=t.status||500,l=(a==null?void 0:a.statusCode)||s+"";e(new KP(px(a),s,l))}).catch(a=>{e(new Dp(px(a),a))}):e(new Dp(px(t),t))}),xve=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(bve(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function qh(t,e,r,n,a,s){return et(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,xve(e,n,a,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>_ve(d,u,n))})})}function uh(t,e,r,n){return et(this,void 0,void 0,function*(){return qh(t,"GET",e,r,n)})}function Cs(t,e,r,n,a){return et(this,void 0,void 0,function*(){return qh(t,"POST",e,n,a,r)})}function Pw(t,e,r,n,a){return et(this,void 0,void 0,function*(){return qh(t,"PUT",e,n,a,r)})}function vve(t,e,r,n){return et(this,void 0,void 0,function*(){return qh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wj(t,e,r,n,a){return et(this,void 0,void 0,function*(){return qh(t,"DELETE",e,n,a,r)})}class wve{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return et(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}}var VP;class jve{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[VP]="BlobDownloadBuilder",this.promise=null}asStream(){return new wve(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return et(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}}VP=Symbol.toStringTag;const Nve={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kve{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=vj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return et(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},k3),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob!="undefined"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream!="undefined"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield(e=="PUT"?Pw:Cs)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Or(s))return{data:null,error:s};throw s}})}upload(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return et(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:k3.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield Pw(this.fetch,u.toString(),d,{headers:m});return{data:{path:s,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Or(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Cs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new Uh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}update(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}copy(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return et(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield Cs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return et(this,void 0,void 0,function*(){try{const a=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=s?`?${s}`:"",u=this._getFinalPath(e),d=()=>uh(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new jve(d,this.shouldThrowOnError)}info(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield uh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$w(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}exists(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield vve(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n)&&n instanceof Dp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof(r==null?void 0:r.transform)!="undefined"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}list(e,r,n){return et(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Nve),r),{prefix:e||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}listV2(e,r){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Cs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const GP="2.86.2",WP={"X-Client-Info":`storage-js/${GP}`};class Sve{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WP),r),this.fetch=vj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return et(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield uh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}getBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}createBucket(e){return et(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return et(this,void 0,void 0,function*(){try{return{data:yield Pw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}emptyBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var dh=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Eve(t,e,r){const n=new URL(e,t);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}function Ave(t){return T(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function Tve(t){var r;const e=(r=t.fetchImpl)!=null?r:globalThis.fetch;return{request(h){return T(this,arguments,function*({method:a,path:s,query:l,body:u,headers:d}){var j;const m=Eve(t.baseUrl,s,l),p=yield Ave(t.auth),b=yield e(m,{method:a,headers:J(J(J({},u?{"Content-Type":"application/json"}:{}),p),d),body:u?JSON.stringify(u):void 0}),y=yield b.text(),_=(b.headers.get("content-type")||"").includes("application/json"),w=_&&y?JSON.parse(y):y;if(!b.ok){const k=_?w:void 0,E=k==null?void 0:k.error;throw new dh((j=E==null?void 0:E.message)!=null?j:`Request failed with status ${b.status}`,{status:b.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:k})}return{status:b.status,headers:b.headers,data:w}})}}}function Ig(t){return t.join("")}var Ove=class{constructor(t,e=""){this.client=t,this.prefix=e}listNamespaces(t){return T(this,null,function*(){const e=t?{parent:Ig(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))})}createNamespace(t,e){return T(this,null,function*(){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data})}dropNamespace(t){return T(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ig(t.namespace)}`})})}loadNamespaceMetadata(t){return T(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ig(t.namespace)}`})).data.properties}})}namespaceExists(t){return T(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ig(t.namespace)}`}),!0}catch(e){if(e instanceof dh&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(t,e){return T(this,null,function*(){try{return yield this.createNamespace(t,e)}catch(r){if(r instanceof dh&&r.status===409)return;throw r}})}};function Ou(t){return t.join("")}var Cve=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}listTables(t){return T(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables`})).data.identifiers})}createTable(t,e){return T(this,null,function*(){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables`,body:e,headers:r})).data.metadata})}updateTable(t,e){return T(this,null,function*(){const r=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}})}dropTable(t,e){return T(this,null,function*(){var r;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((r=e==null?void 0:e.purge)!=null?r:!1)}})})}loadTable(t){return T(this,null,function*(){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata})}tableExists(t){return T(this,null,function*(){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof dh&&r.status===404)return!1;throw r}})}createTableIfNotExists(t,e){return T(this,null,function*(){try{return yield this.createTable(t,e)}catch(r){if(r instanceof dh&&r.status===409)return yield this.loadTable({namespace:t.namespace,name:e.name});throw r}})}},$ve=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Tve({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Ove(this.client,e),this.tableOps=new Cve(this.client,e,this.accessDelegation)}listNamespaces(t){return T(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,e){return T(this,null,function*(){return this.namespaceOps.createNamespace(t,e)})}dropNamespace(t){return T(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return T(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return T(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,e){return T(this,null,function*(){return this.tableOps.createTable(t,e)})}updateTable(t,e){return T(this,null,function*(){return this.tableOps.updateTable(t,e)})}dropTable(t,e){return T(this,null,function*(){yield this.tableOps.dropTable(t,e)})}loadTable(t){return T(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return T(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return T(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,e){return T(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,e)})}createTableIfNotExists(t,e){return T(this,null,function*(){return this.tableOps.createTableIfNotExists(t,e)})}};class YP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},WP),r),this.fetch=vj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}listBuckets(e){return et(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield uh(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}from(e){if(!yve(e))throw new Uh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new $ve({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>et(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const jj={"X-Client-Info":`storage-js/${GP}`,"Content-Type":"application/json"};class Nj extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ka(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class bp extends Nj{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class XP extends Nj{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Rw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Rw||(Rw={}));const Q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Pve=()=>Response,ZP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rve=t=>Array.from(new Float32Array(t)),Dve=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},S3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lve=(t,e,r)=>et(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,s=t;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";e(new bp(S3(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;e(new bp(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;e(new bp(u,a,l))}}else e(new XP(S3(t),t))}),Ive=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ZP(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Mve(t,e,r,n,a,s){return et(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,Ive(e,n,a,s)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>Lve(d,u,n))})})}function Fa(t,e,r,n,a){return et(this,void 0,void 0,function*(){return Mve(t,"POST",e,n,a,r)})}class JP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jj),r),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return et(this,void 0,void 0,function*(){try{return{data:(yield Fa(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getIndex(e,r){return et(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}})}listIndexes(e){return et(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return et(this,void 0,void 0,function*(){try{return{data:(yield Fa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}})}}class QP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jj),r),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return et(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fa(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getVectors(e){return et(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}listVectors(e){return et(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fa(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}queryVectors(e){return et(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteVectors(e){return et(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fa(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}}class e6{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jj),r),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return et(this,void 0,void 0,function*(){try{return{data:(yield Fa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}listBuckets(){return et(this,arguments,void 0,function*(e={}){try{return{data:yield Fa(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:(yield Fa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}}class t6 extends e6{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new r6(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return et(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return et(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return et(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return et(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class r6 extends JP{constructor(e,r,n,a){super(e,r,a),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return et(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return et(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return et(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return et(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new n6(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class n6 extends QP{constructor(e,r,n,a,s){super(e,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return et(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return et(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return et(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return et(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return et(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Uve extends Sve{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new kve(this.url,this.headers,e,this.fetch)}get vectors(){return new t6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YP(this.url+"/iceberg",this.headers,this.fetch)}}const qve=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:YP,StorageApiError:KP,StorageClient:Uve,StorageError:Uh,StorageUnknownError:Dp,StorageVectorsApiError:bp,StorageVectorsClient:t6,StorageVectorsError:Nj,get StorageVectorsErrorCode(){return Rw},StorageVectorsUnknownError:XP,VectorBucketApi:e6,VectorBucketScope:r6,VectorDataApi:QP,VectorIndexApi:JP,VectorIndexScope:n6,isPlainObject:ZP,isStorageError:Or,isStorageVectorsError:ka,normalizeToFloat32:Rve,resolveFetch:Q0,resolveResponse:Pve,validateVectorDimension:Dve},Symbol.toStringTag,{value:"Module"})),Bve=Mh(qve);var bx={},Pf={},E3;function zve(){return E3||(E3=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.version=void 0,Pf.version="2.86.2"),Pf}var A3;function Fve(){return A3||(A3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=zve();let r="";typeof Deno!="undefined"?r="deno":typeof document!="undefined"?r="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(bx)),bx}var yx={},T3;function Hve(){return T3||(T3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,t.resolveFetch)(l),d=(0,t.resolveHeadersConstructor)();return(h,m)=>T(null,null,function*(){var p;const b=(p=yield s())!==null&&p!==void 0?p:a;let y=new d(m==null?void 0:m.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),u(h,Object.assign(Object.assign({},m),{headers:y}))})};t.fetchWithAuth=n})(yx)),yx}var Gi={},O3;function Kve(){if(O3)return Gi;O3=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.isBrowser=void 0,Gi.uuid=t,Gi.ensureTrailingSlash=e,Gi.applySettingDefaults=n,Gi.validateSupabaseUrl=a;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function e(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window!="undefined";Gi.isBrowser=r;function n(s,l){var u,d;const{db:h,auth:m,realtime:p,global:b}=s,{db:y,auth:_,realtime:w,global:j}=l,k={db:Object.assign(Object.assign({},y),h),auth:Object.assign(Object.assign({},_),m),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},j),b),{headers:Object.assign(Object.assign({},(u=j==null?void 0:j.headers)!==null&&u!==void 0?u:{}),(d=b==null?void 0:b.headers)!==null&&d!==void 0?d:{})}),accessToken:()=>T(null,null,function*(){return""})};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}function a(s){const l=s==null?void 0:s.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(l))}catch(u){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Gi}var Rf={};const a6="2.86.2",Mu=30*1e3,Dw=3,_x=Dw*Mu,Vve="http://localhost:9999",Gve="supabase.auth.token",Wve={"X-Client-Info":`gotrue-js/${a6}`},Lw="X-Supabase-Api-Version",s6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yve=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xve=600*1e3;let ld=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function at(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let i6=class extends ld{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function o6(t){return at(t)&&t.name==="AuthApiError"}let dl=class extends ld{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},_o=class extends ld{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}},ja=class extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function l6(t){return at(t)&&t.name==="AuthSessionMissingError"}let sc=class extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Kf=class extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Vf=class extends _o{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function c6(t){return at(t)&&t.name==="AuthImplicitGrantRedirectError"}let Iw=class extends _o{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Lp=class extends _o{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function yp(t){return at(t)&&t.name==="AuthRetryableFetchError"}let Mw=class extends _o{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Zve(t){return at(t)&&t.name==="AuthWeakPasswordError"}let Ip=class extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C3=` 	
\r=`.split(""),Jve=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<C3.length;e+=1)t[C3[e].charCodeAt(0)]=-2;for(let e=0;e<Mp.length;e+=1)t[Mp[e].charCodeAt(0)]=e;return t})();function $3(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mp[n]),e.queuedBits-=6}}function u6(t,e,r){const n=Jve[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function P3(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{twe(l,n,r)};for(let l=0;l<t.length;l+=1)u6(t.charCodeAt(l),a,s);return e.join("")}function Qve(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ewe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Qve(n,e)}}function twe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ju(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)u6(t.charCodeAt(a),r,n);return new Uint8Array(e)}function rwe(t){const e=[];return ewe(t,r=>e.push(r)),new Uint8Array(e)}function mc(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>$3(a,r,n)),$3(null,r,n),e.join("")}function nwe(t){return Math.round(Date.now()/1e3)+t}function awe(){return Symbol("auth-callback")}const Hn=()=>typeof window!="undefined"&&typeof document!="undefined",tc={tested:!1,writable:!1},d6=()=>{if(!Hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(tc.tested)return tc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tc.tested=!0,tc.writable=!0}catch(e){tc.tested=!0,tc.writable=!1}return tc.writable};function swe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch(n){}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const f6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iwe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uu=(t,e,r)=>T(null,null,function*(){yield t.setItem(e,JSON.stringify(r))}),rc=(t,e)=>T(null,null,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),Fn=(t,e)=>T(null,null,function*(){yield t.removeItem(e)});class eb{constructor(){this.promise=new eb.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}eb.promiseConstructor=Promise;function xx(t){const e=t.split(".");if(e.length!==3)throw new Ip("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Yve.test(e[n]))throw new Ip("JWT not in base64url format");return{header:JSON.parse(P3(e[0])),payload:JSON.parse(P3(e[1])),signature:Ju(e[2]),raw:{header:e[0],payload:e[1]}}}function owe(t){return T(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function lwe(t,e){return new Promise((n,a)=>{T(null,null,function*(){for(let s=0;s<1/0;s++)try{const l=yield t(s);if(!e(s,null,l)){n(l);return}}catch(l){if(!e(s,l)){a(l);return}}})})}function cwe(t){return("0"+t.toString(16)).substr(-2)}function uwe(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,cwe).join("")}function dwe(t){return T(this,null,function*(){const r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")})}function fwe(t){return T(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=yield dwe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Cu(t,e,r=!1){return T(this,null,function*(){const n=uwe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),yield Uu(t,`${e}-code-verifier`,a);const s=yield fwe(n);return[s,n===s?"plain":"s256"]})}const hwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mwe(t){const e=t.headers.get(Lw);if(!e||!e.match(hwe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(r){return null}}function gwe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pwe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bwe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $u(t){if(!bwe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ywe(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function R3(t){return JSON.parse(JSON.stringify(t))}const ic=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_we=[502,503,504];function D3(t){return T(this,null,function*(){var e;if(!iwe(t))throw new Lp(ic(t),0);if(_we.includes(t.status))throw new Lp(ic(t),t.status);let r;try{r=yield t.json()}catch(s){throw new dl(ic(s),s)}let n;const a=mwe(t);if(a&&a.getTime()>=s6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mw(ic(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ja}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Mw(ic(r),t.status,r.weak_password.reasons);throw new i6(ic(r),t.status||500,n)})}const xwe=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};function dt(t,e,r,n){return T(this,null,function*(){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Lw]||(s[Lw]=s6["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=yield vwe(t,e,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}})}function vwe(t,e,r,n,a,s){return T(this,null,function*(){const l=xwe(e,n,a,s);let u;try{u=yield t(r,Object.assign({},l))}catch(d){throw console.error(d),new Lp(ic(d),0)}if(u.ok||(yield D3(u)),n!=null&&n.noResolveJson)return u;try{return yield u.json()}catch(d){yield D3(d)}})}function Ts(t){var e;let r=null;Nwe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nwe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function L3(t){const e=Ts(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wwe(t){return{data:t,error:null}}function jwe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,l=Ed(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function I3(t){return t}function Nwe(t){return t.access_token&&t.refresh_token&&t.expires_in}const _p=["global","local","others"];let kj=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=f6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(n){return T(this,arguments,function*(e,r=_p[0]){if(_p.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_p.join(", ")}`);try{return yield dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}inviteUserByEmail(n){return T(this,arguments,function*(e,r={}){try{return yield dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fl})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}})}generateLink(e){return T(this,null,function*(){try{const{options:r}=e,n=Ed(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),yield dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jwe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(at(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return T(this,null,function*(){try{return yield dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fl})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}})}listUsers(e){return T(this,null,function*(){var r,n,a,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=yield dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:I3});if(m.error)throw m.error;const p=yield m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);h[`${j}Page`]=w}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(at(h))return{data:{users:[]},error:h};throw h}})}getUserById(e){return T(this,null,function*(){$u(e);try{return yield dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fl})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return T(this,null,function*(){$u(e);try{return yield dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:fl})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return T(this,null,function*(){$u(e);try{return yield dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:fl})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return T(this,null,function*(){$u(e.userId);try{const{data:r,error:n}=yield dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(at(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return T(this,null,function*(){$u(e.userId),$u(e.id);try{return{data:yield dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}_listOAuthClients(e){return T(this,null,function*(){var r,n,a,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=yield dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:I3});if(m.error)throw m.error;const p=yield m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);h[`${j}Page`]=w}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(at(h))return{data:{clients:[]},error:h};throw h}})}_createOAuthClient(e){return T(this,null,function*(){try{return yield dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}_getOAuthClient(e){return T(this,null,function*(){try{return yield dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}_updateOAuthClient(e,r){return T(this,null,function*(){try{return yield dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}})}_deleteOAuthClient(e){return T(this,null,function*(){try{return yield dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}})}_regenerateOAuthClientSecret(e){return T(this,null,function*(){try{return yield dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}};function M3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const oc={debug:!!(globalThis&&d6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let h6=class extends Sj{};class kwe extends Sj{}function m6(t,e,r){return T(this,null,function*(){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},a=>T(null,null,function*(){if(a){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return yield r()}finally{oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oc.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}const U3={};function Swe(t,e,r){return T(this,null,function*(){var n;const a=(n=U3[t])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),e>=0?new Promise((l,u)=>{setTimeout(()=>{u(new kwe(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(()=>T(null,null,function*(){return yield r()}));return U3[t]=s.catch(l=>T(null,null,function*(){if(l&&l.isAcquireTimeout)return yield a,null;throw l})),yield s})}function Ewe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self!="undefined"&&(self.globalThis=self)}}function g6(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Awe(t){return parseInt(t,16)}function Twe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Owe(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:m,uri:p,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=g6(t.address),_=m?`${m}://${n}`:n,w=t.statement?`${t.statement}
`:"",j=`${_} wants you to sign in with your Ethereum account:
${y}

${w}`;let k=`URI: ${p}
Version: ${b}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),u&&(k+=`
Not Before: ${u.toISOString()}`),d&&(k+=`
Request ID: ${d}`),h){let E=`
Resources:`;for(const S of h){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);E+=`
- ${S}`}k+=E}return`${j}
${k}`}class hn extends Error{constructor({message:e,code:r,cause:n,name:a}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a!=null?a:n instanceof Error?n.name:void 0)!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Up extends hn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Cwe({error:t,options:e}){var r,n,a;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new hn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new hn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new hn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new hn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new hn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(p6(l)){if(s.rp.id!==l)return new hn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new hn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new hn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $we({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new hn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(p6(n)){if(r.rpId!==n)return new hn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new hn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Pwe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rwe=new Pwe;function Dwe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=Ed(t,["challenge","user","excludeCredentials"]),s=Ju(e).buffer,l=Object.assign(Object.assign({},r),{id:Ju(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Ju(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Lwe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ed(t,["challenge","allowCredentials"]),a=Ju(e).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ju(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Iwe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:mc(new Uint8Array(t.response.attestationObject)),clientDataJSON:mc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mwe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mc(new Uint8Array(a.authenticatorData)),clientDataJSON:mc(new Uint8Array(a.clientDataJSON)),signature:mc(new Uint8Array(a.signature)),userHandle:a.userHandle?mc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function p6(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q3(){var t,e;return!!(Hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function Uwe(t){return T(this,null,function*(){try{const e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Up("Browser returned unexpected credential type",e)}:{data:null,error:new Up("Empty credential response",e)}}catch(e){return{data:null,error:Cwe({error:e,options:t})}}})}function qwe(t){return T(this,null,function*(){try{const e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Up("Browser returned unexpected credential type",e)}:{data:null,error:new Up("Empty credential response",e)}}catch(e){return{data:null,error:$we({error:e,options:t})}}})}const Bwe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zwe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qp(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(e(l)){const u=n[s];e(u)?n[s]=qp(u,l):n[s]=qp(l)}else n[s]=l}return n}function Fwe(t,e){return qp(Bwe,t,e||{})}function Hwe(t,e){return qp(zwe,t,e||{})}class Kwe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return T(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(l,u){return T(this,arguments,function*({factorId:e,webauthn:r,friendlyName:n,signal:a},s){try{const{data:d,error:h}=yield this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:h};const m=a!=null?a:Rwe.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Fwe(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:b,error:y}=yield Uwe({publicKey:p,signal:m});return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}case"request":{const p=Hwe(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:b,error:y}=yield qwe(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:m}));return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}}}catch(d){return at(d)?{data:null,error:d}:{data:null,error:new dl("Unexpected error in challenge",d)}}})}_verify(a){return T(this,arguments,function*({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})})}_authenticate(l,u){return T(this,arguments,function*({factorId:e,webauthn:{rpId:r=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:n=typeof window!="undefined"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ld("rpId is required for WebAuthn authentication")};try{if(!q3())return{data:null,error:new dl("Browser does not support WebAuthn",null)};const{data:d,error:h}=yield this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:n,credential_response:m.credential_response}})}catch(d){return at(d)?{data:null,error:d}:{data:null,error:new dl("Unexpected error in authenticate",d)}}})}_register(l,u){return T(this,arguments,function*({friendlyName:e,webauthn:{rpId:r=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:n=typeof window!="undefined"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ld("rpId is required for WebAuthn registration")};try{if(!q3())return{data:null,error:new dl("Browser does not support WebAuthn",null)};const{data:d,error:h}=yield this._enroll({friendlyName:e});if(!d)return yield this.client.mfa.listFactors().then(b=>{var y;return(y=b.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:h};const{data:m,error:p}=yield this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:n,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(d){return at(d)?{data:null,error:d}:{data:null,error:new dl("Unexpected error in register",d)}}})}}Ewe();const Vwe={url:Vve,storageKey:Gve,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wve,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function B3(t,e,r){return T(this,null,function*(){return yield r()})}const Pu={};let Ej=class Uw{get jwks(){var e,r;return(r=(e=Pu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Pu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Vwe),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Uw.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Hn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=f6(s.fetch),this.lock=s.lock||B3,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Hn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=m6:this.lock=B3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kwe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:d6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M3(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=M3(this.memoryStorage)),Hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",l=>T(this,null,function*(){this._debug("received broadcast notification from other tab or client",l),yield this._notifyAllSubscribers(l.data.event,l.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${a6}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return T(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=T(this,null,function*(){return yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return T(this,null,function*(){var e;try{let r={},n="none";if(Hn()&&(r=swe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":(yield this._isPKCECallback(r))&&(n="pkce")),Hn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=yield this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),c6(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),yield this._saveSession(l),setTimeout(()=>T(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",l):yield this._notifyAllSubscribers("SIGNED_IN",l)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return at(r)?this._returnResult({error:r}):this._returnResult({error:new dl("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return T(this,null,function*(){var r,n,a;try{const s=yield dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ts}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(at(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(e){return T(this,null,function*(){var r,n,a;try{let s;if("email"in e){const{email:m,password:p,options:b}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=yield Cu(this.storage,this.storageKey)),s=yield dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:p,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:y,code_challenge_method:_},xform:Ts})}else if("phone"in e){const{phone:m,password:p,options:b}=e;s=yield dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ts})}else throw new Kf("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return yield Fn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(e){return T(this,null,function*(){try{let r;if("email"in e){const{email:s,password:l,options:u}=e;r=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:L3})}else if("phone"in e){const{phone:s,password:l,options:u}=e;r=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:L3})}else throw new Kf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new sc;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return T(this,null,function*(){var r,n,a,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return T(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>T(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return T(this,null,function*(){const{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return T(this,null,function*(){var r,n,a,s,l,u,d,h,m,p,b;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:w,wallet:j,statement:k,options:E}=e;let S;if(Hn())if(typeof j=="object")S=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")S=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=j}const P=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),C=yield S.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=g6(C[0]);let $=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const H=yield S.request({method:"eth_chainId"});$=Awe(H)}const B={domain:P.host,address:I,statement:k,uri:P.href,version:"1",chainId:$,nonce:(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=Owe(B),_=yield S.request({method:"personal_sign",params:[Twe(y),I]})}try{const{data:w,error:j}=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ts});if(j)throw j;if(!w||!w.session||!w.user){const k=new sc;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(at(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}})}signInWithSolana(e){return T(this,null,function*(){var r,n,a,s,l,u,d,h,m,p,b,y;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:j,wallet:k,statement:E,options:S}=e;let P;if(Hn())if(typeof k=="object")P=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))P=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const C=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const I=yield P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),E?{statement:E}:null));let $;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")$=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)$=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),w=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${C.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(m=S==null?void 0:S.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const I=yield P.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=I}}try{const{data:j,error:k}=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:mc(w)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ts});if(k)throw k;if(!j||!j.session||!j.user){const E=new sc;return this._returnResult({data:{user:null,session:null},error:E})}return j.session&&(yield this._saveSession(j.session),yield this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(at(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}})}_exchangeCodeForSession(e){return T(this,null,function*(){const r=yield rc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r!=null?r:"").split("/");try{const{data:s,error:l}=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ts});if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new sc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a!=null?a:null}),error:l})}catch(s){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(e){return T(this,null,function*(){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=e,u=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ts}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new sc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return T(this,null,function*(){var r,n,a,s,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=yield Cu(this.storage,this.storageKey));const{error:p}=yield dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:m}=yield dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Kf("You must provide either an email or phone number.")}catch(u){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}verifyOtp(e){return T(this,null,function*(){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=yield dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ts});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(at(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}signInWithSSO(e){return T(this,null,function*(){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Cu(this.storage,this.storageKey));const h=yield dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:wwe});return!((s=h.data)===null||s===void 0)&&s.url&&Hn()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(u))return this._returnResult({data:null,error:u});throw u}})}reauthenticate(){return T(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return T(this,null,function*(){try{return yield this._useSession(e=>T(this,null,function*(){const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ja;const{error:a}=yield dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})}))}catch(e){if(at(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return T(this,null,function*(){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:l}=yield dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:l,error:u}=yield dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Kf("You must provide either an email or phone number and a type")}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return T(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return this._useSession(r=>T(this,null,function*(){return r}))}))})}_acquireLock(e,r){return T(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=T(this,null,function*(){return yield n,yield r()});return this.pendingInLock.push(T(this,null,function*(){try{yield a}catch(s){}})),a}return yield this.lock(`lock:${this.storageKey}`,e,()=>T(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push(T(this,null,function*(){try{yield n}catch(a){}})),yield n;this.pendingInLock.length;){const a=[...this.pendingInLock];yield Promise.all(a),this.pendingInLock.splice(0,a.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return T(this,null,function*(){this._debug("#_useSession","begin");try{const r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return T(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=yield rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_x:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=yield rc(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=vx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=ywe(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return T(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;const r=yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return T(this,null,function*(){try{return e?yield dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fl}):yield this._useSession(r=>T(this,null,function*(){var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:yield dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:fl})}))}catch(r){if(at(r))return l6(r)&&(yield this._removeSession(),yield Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(n){return T(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(n){return T(this,arguments,function*(e,r={}){try{return yield this._useSession(a=>T(this,null,function*(){const{data:s,error:l}=a;if(l)throw l;if(!s.session)throw new ja;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=yield Cu(this.storage,this.storageKey));const{data:m,error:p}=yield dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:fl});if(p)throw p;return u.user=m.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})}))}catch(a){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(a))return this._returnResult({data:{user:null},error:a});throw a}})}setSession(e){return T(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return T(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ja;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=xx(e.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=yield this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=yield this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(at(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return T(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ja;const{data:a,error:s}=yield this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(at(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return T(this,null,function*(){try{if(!Hn())throw new Vf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iw("No code detected.");const{data:E,error:S}=yield this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!l||!h)throw new Vf("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let b=m+p;d&&(b=parseInt(d));const y=b-m;y*1e3<=Mu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const _=b-p;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,m);const{data:w,error:j}=yield this._getUser(s);if(j)throw j;const k={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:p,expires_at:b,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(n){if(at(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return T(this,null,function*(){const r=yield rc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return T(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return T(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>T(this,null,function*(){var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=yield this.admin.signOut(l,e);if(u&&!(o6(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(yield this._removeSession(),yield Fn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){const r=awe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),T(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:n}}}_emitInitialSession(e){return T(this,null,function*(){return yield this._useSession(r=>T(this,null,function*(){var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(n){return T(this,arguments,function*(e,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=yield Cu(this.storage,this.storageKey,!0));try{return yield dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(l))return this._returnResult({data:null,error:l});throw l}})}getUserIdentities(){return T(this,null,function*(){var e;try{const{data:r,error:n}=yield this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return T(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return T(this,null,function*(){var r;try{const{data:n,error:a}=yield this._useSession(s=>T(this,null,function*(){var l,u,d,h,m;const{data:p,error:b}=s;if(b)throw b;const y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield dt(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})}));if(a)throw a;return Hn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(at(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}})}linkIdentityIdToken(e){return T(this,null,function*(){return yield this._useSession(r=>T(this,null,function*(){var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:h,nonce:m}=e,p=yield dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ts}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new sc}):(b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(a){if(yield Fn(this.storage,`${this.storageKey}-code-verifier`),at(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}))})}unlinkIdentity(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n,a;const{data:s,error:l}=r;if(l)throw l;return yield dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return T(this,null,function*(){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return yield lwe(a=>T(this,null,function*(){return a>0&&(yield owe(200*Math.pow(2,a-1))),this._debug(r,"refreshing attempt",a),yield dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ts})}),(a,s)=>{const l=200*Math.pow(2,a);return s&&yp(s)&&Date.now()+l-n<Mu})}catch(n){if(this._debug(r,"error",n),at(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return T(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return T(this,null,function*(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=yield rc(this.storage,this.storageKey);if(a&&this.userStorage){let l=yield rc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},yield Uu(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:vx()}else if(a&&!a.user&&!a.user){const l=yield rc(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,yield Fn(this.storage,this.storageKey+"-user"),yield Uu(this.storage,this.storageKey,a)):a.user=vx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&(yield this._removeSession());return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_x;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_x}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=yield this._callRefreshToken(a.refresh_token);l&&(console.error(l),yp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),yield this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=yield this._getUser(a.access_token);!u&&(l!=null&&l.user)?(a.user=l.user,yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else yield this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return T(this,null,function*(){var r,n;if(!e)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new eb;const{data:s,error:l}=yield this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new ja;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),at(s)){const l={data:null,error:s};return yp(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}})}_notifyAllSubscribers(e,r,n=!0){return T(this,null,function*(){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(u=>T(this,null,function*(){try{yield u.callback(e,r)}catch(d){s.push(d)}}));if(yield Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}})}_saveSession(e){return T(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Fn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&(yield Uu(this.userStorage,this.storageKey+"-user",{user:r.user}));const a=Object.assign({},r);delete a.user;const s=R3(a);yield Uu(this.storage,this.storageKey,s)}else{const a=R3(r);yield Uu(this.storage,this.storageKey,a)}})}_removeSession(){return T(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Fn(this.storage,this.storageKey),yield Fn(this.storage,this.storageKey+"-code-verifier"),yield Fn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Fn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return T(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>T(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return T(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return T(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return T(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return T(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>T(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(r=>T(this,null,function*(){const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Mu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mu}ms, refresh threshold is ${Dw} ticks`),a<=Dw&&(yield this._callRefreshToken(n.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Sj)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return T(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>T(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return T(this,null,function*(){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>T(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,n){return T(this,null,function*(){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=yield Cu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`})}_unenroll(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):yield dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=yield dt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return T(this,null,function*(){return this._acquireLock(-1,()=>T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Iwe(e.webauthn.credential_response):Mwe(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=yield dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return T(this,null,function*(){return this._acquireLock(-1,()=>T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=yield dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Dwe(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Lwe(u.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return T(this,null,function*(){const{data:r,error:n}=yield this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return T(this,null,function*(){var e;const{data:{user:r},error:n}=yield this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}})}_getAuthenticatorAssuranceLevel(){return T(this,null,function*(){var e,r;const{data:{session:n},error:a}=yield this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=xx(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}})}_getAuthorizationDetails(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?yield dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ja})}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return T(this,null,function*(){try{return yield this._useSession(n=>T(this,null,function*(){const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ja});const l=yield dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l}))}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}})}_denyAuthorization(e,r){return T(this,null,function*(){try{return yield this._useSession(n=>T(this,null,function*(){const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ja});const l=yield dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Hn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l}))}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}})}_listOAuthGrants(){return T(this,null,function*(){try{return yield this._useSession(e=>T(this,null,function*(){const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?yield dt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ja})}))}catch(e){if(at(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return T(this,null,function*(){try{return yield this._useSession(r=>T(this,null,function*(){const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(yield dt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ja})}))}catch(r){if(at(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(n){return T(this,arguments,function*(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+Xve>s)return a;const{data:l,error:u}=yield dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,a=l.keys.find(d=>d.kid===e),!a)?null:a})}getClaims(n){return T(this,arguments,function*(e,r={}){try{let a=e;if(!a){const{data:_,error:w}=yield this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});a=_.session.access_token}const{header:s,payload:l,signature:u,raw:{header:d,payload:h}}=xx(a);r!=null&&r.allowExpired||gwe(l.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:_}=yield this.getUser(a);if(_)throw _;return{data:{claims:l,header:s,signature:u},error:null}}const p=pwe(s.alg),b=yield crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,b,u,rwe(`${d}.${h}`))))throw new Ip("Invalid JWT signature");return{data:{claims:l,header:s,signature:u},error:null}}catch(a){if(at(a))return this._returnResult({data:null,error:a});throw a}})}};Ej.nextInstanceID={};const Gwe=kj,Wwe=Ej,Ywe=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Gwe,AuthApiError:i6,AuthClient:Wwe,AuthError:ld,AuthImplicitGrantRedirectError:Vf,AuthInvalidCredentialsError:Kf,AuthInvalidJwtError:Ip,AuthInvalidTokenResponseError:sc,AuthPKCEGrantCodeExchangeError:Iw,AuthRetryableFetchError:Lp,AuthSessionMissingError:ja,AuthUnknownError:dl,AuthWeakPasswordError:Mw,CustomAuthError:_o,GoTrueAdminApi:kj,GoTrueClient:Ej,NavigatorLockAcquireTimeoutError:h6,SIGN_OUT_SCOPES:_p,isAuthApiError:o6,isAuthError:at,isAuthImplicitGrantRedirectError:c6,isAuthRetryableFetchError:yp,isAuthSessionMissingError:l6,isAuthWeakPasswordError:Zve,lockInternals:oc,navigatorLock:m6,processLock:Swe},Symbol.toStringTag,{value:"Module"})),b6=Mh(Ywe);var z3;function Xwe(){if(z3)return Rf;z3=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.SupabaseAuthClient=void 0;const t=b6;let e=class extends t.AuthClient{constructor(n){super(n)}};return Rf.SupabaseAuthClient=e,Rf}var F3;function H3(){if(F3)return Tg;F3=1,Object.defineProperty(Tg,"__esModule",{value:!0});const t=TP,e=DP(),r=HP,n=Bve,a=Fve(),s=Hve(),l=Kve(),u=Xwe();class d{constructor(m,p,b){var y,_,w;this.supabaseUrl=m,this.supabaseKey=p;const j=(0,l.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const k=`sb-${j.hostname.split(".")[0]}-auth-token`,E={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:k}),global:a.DEFAULT_GLOBAL_OPTIONS},S=(0,l.applySettingDefaults)(b!=null?b:{},E);this.storageKey=(y=S.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(_=S.global.headers)!==null&&_!==void 0?_:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(P,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=S.auth)!==null&&w!==void 0?w:{},this.headers,S.global.fetch),this.fetch=(0,s.fetchWithAuth)(p,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new e.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,b==null?void 0:b.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,b)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return T(this,null,function*(){var m,p;if(this.accessToken)return yield this.accessToken();const{data:b}=yield this.auth.getSession();return(p=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:_,storageKey:w,flowType:j,lock:k,debug:E,throwOnError:S},P,C){const I={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},I),P),storageKey:w,autoRefreshToken:m,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:_,flowType:j,lock:k,debug:E,throwOnError:S,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m==null?void 0:m.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b==null?void 0:b.access_token)})}_handleTokenChanged(m,p,b){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Tg.default=d,Tg}var K3;function Zwe(){return K3||(K3=1,(function(t){var e=Vi&&Vi.__createBinding||(Object.create?(function(m,p,b,y){y===void 0&&(y=b);var _=Object.getOwnPropertyDescriptor(p,b);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(m,y,_)}):(function(m,p,b,y){y===void 0&&(y=b),m[y]=p[b]})),r=Vi&&Vi.__exportStar||function(m,p){for(var b in m)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&e(p,m,b)},n=Vi&&Vi.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const a=n(H3());r(b6,t);var s=DP();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=TP;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(HP,t);var u=H3();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(m,p,b)=>new a.default(m,p,b);t.createClient=d;function h(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}h()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Vi)),Vi}var y6=Zwe();const _6=_s(y6),Jwe=F$({__proto__:null,default:_6},[y6]),{PostgrestError:GHe,FunctionsHttpError:WHe,FunctionsFetchError:YHe,FunctionsRelayError:XHe,FunctionsError:ZHe,FunctionRegion:JHe,SupabaseClient:QHe,createClient:Qwe,GoTrueAdminApi:eKe,GoTrueClient:tKe,AuthAdminApi:rKe,AuthClient:nKe,navigatorLock:aKe,NavigatorLockAcquireTimeoutError:sKe,lockInternals:iKe,processLock:oKe,SIGN_OUT_SCOPES:lKe,AuthError:cKe,AuthApiError:uKe,AuthUnknownError:dKe,CustomAuthError:fKe,AuthSessionMissingError:hKe,AuthInvalidTokenResponseError:mKe,AuthInvalidCredentialsError:gKe,AuthImplicitGrantRedirectError:pKe,AuthPKCEGrantCodeExchangeError:bKe,AuthRetryableFetchError:yKe,AuthWeakPasswordError:_Ke,AuthInvalidJwtError:xKe,isAuthError:vKe,isAuthApiError:wKe,isAuthSessionMissingError:jKe,isAuthImplicitGrantRedirectError:NKe,isAuthRetryableFetchError:kKe,isAuthWeakPasswordError:SKe,RealtimePresence:EKe,RealtimeChannel:AKe,RealtimeClient:TKe,REALTIME_LISTEN_TYPES:OKe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:CKe,REALTIME_PRESENCE_LISTEN_EVENTS:$Ke,REALTIME_SUBSCRIBE_STATES:PKe,REALTIME_CHANNEL_STATES:RKe}=_6||Jwe,e1e="https://aigfawuvnadubhotfubz.supabase.co",t1e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpZ2Zhd3V2bmFkdWJob3RmdWJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODgwMTYsImV4cCI6MjA4MDc2NDAxNn0.JJOi4_UN5TclFxivZsH_DwHzT07997yZul85fL-oGAY",de=Qwe(e1e,t1e);class r1e{constructor(){this.adConfigCache=null}get supabase(){return de}getCurrentUser(){return T(this,null,function*(){var n;const{data:{user:e}}=yield de.auth.getUser();if(e)return e;const{data:{session:r}}=yield de.auth.getSession();return(n=r==null?void 0:r.user)!=null?n:null})}updateUserPushToken(e,r){return T(this,null,function*(){if(!e||!r)return;const{error:n}=yield de.from("users").update({push_token:r}).eq("id",e);n?console.error("Error updating push token:",n):console.log("Push token updated for user:",e)})}mapToilet(e){const r=Array.isArray(e.users)?e.users[0]:e.users,n=Array.isArray(e.reviews)?e.reviews:e.reviews?[e.reviews]:[];return{id:e.id,name:e.name,address:e.address,lat:e.lat,lng:e.lng,type:e.type,genderType:e.gender_type,floor:e.floor,hasPassword:e.has_password,password:e.password,cleanliness:e.cleanliness,hasBidet:e.has_bidet,hasPaper:e.has_paper,stallCount:e.stall_count,crowdLevel:e.crowd_level,isUnlocked:e.is_unlocked,note:e.note,createdBy:e.created_by,isPrivate:e.is_private,source:e.source,createdAt:e.created_at,updatedAt:e.updated_at,ratingAvg:n.length>0?n.reduce((a,s)=>a+s.rating,0)/n.length:0,reviewCount:n.length,creatorLevel:r==null?void 0:r.level,viewCount:e.view_count||0}}mapUser(e){return{id:e.id,email:e.email,nickname:e.nickname,gender:e.gender,role:e.role,credits:e.credits,lastLogin:e.last_login,pushToken:e.push_token,notificationEnabled:e.notification_enabled,createdAt:e.created_at,status:e.status,deletedAt:e.deleted_at,withdrawalReason:e.withdrawal_reason,level:e.level,loginNotices:e.login_notices||[],loginCount:e.login_count,adViewCount:e.ad_view_count,referrerId:e.referrer_id,signupProvider:e.signup_provider}}mapReview(e){const r=Array.isArray(e.users)?e.users[0]:e.users,n=Array.isArray(e.toilets)?e.toilets[0]:e.toilets;return{id:e.id,toiletId:e.toilet_id,userId:e.user_id,userName:e.user_name||(r==null?void 0:r.nickname)||"",userLevel:r==null?void 0:r.level,rating:e.rating,content:e.content,createdAt:e.created_at,rewarded:e.rewarded,toiletName:e.toilet_name||(n==null?void 0:n.name),toiletAddress:e.toilet_address||(n==null?void 0:n.address),likeCount:e.like_count||0,userEmail:r==null?void 0:r.email}}getToilets(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("toilets").select("*, reviews (rating), users!toilets_created_by_fkey (nickname, email, level)").order("created_at",{ascending:!1}).limit(5e3);return r?(console.error("Error fetching toilets:",r),[]):e.map(n=>this.mapToilet(n))})}getAdminToilets(e,r,n){return T(this,null,function*(){let a=de.from("toilets").select("*",{count:"exact"});if(n!=null&&n.search||n!=null&&n.userIds&&n.userIds.length>0){const b=[];n!=null&&n.search&&(b.push(`name.ilike.%${n.search}%`),b.push(`address.ilike.%${n.search}%`)),n!=null&&n.userIds&&n.userIds.length>0&&b.push(`created_by.in.(${n.userIds.join(",")})`),b.length>0&&(a=a.or(b.join(",")))}(n==null?void 0:n.source)==="admin"?a=a.or("created_by.eq.admin,created_by.is.null"):(n==null?void 0:n.source)==="user"&&(a=a.neq("created_by","admin").not("created_by","is",null)),(n==null?void 0:n.type)==="open"?a=a.eq("has_password",!1):(n==null?void 0:n.type)==="closed"&&(a=a.eq("has_password",!0)),(n==null?void 0:n.visibility)==="public"?a=a.eq("is_private",!1):(n==null?void 0:n.visibility)==="private"&&(a=a.eq("is_private",!0)),n!=null&&n.startDate&&(a=a.gte("created_at",n.startDate)),n!=null&&n.endDate&&(a=a.lte("created_at",n.endDate));const s=(e-1)*r,l=s+r-1,{data:u,error:d,count:h}=yield a.order("created_at",{ascending:!1}).range(s,l);if(d)return console.error("Error fetching admin toilets:",d),{data:[],count:0};const m=(u||[]).map(b=>this.mapToilet(b)),p=[...new Set(m.map(b=>b.createdBy).filter(b=>b&&b!=="admin"))];if(p.length>0){const{data:b}=yield de.from("users").select("id, email").in("id",p);if(b){const y=new Map(b.map(_=>[_.id,_.email]));m.forEach(_=>{_.createdBy&&y.has(_.createdBy)&&(_.creatorEmail=y.get(_.createdBy))})}}return{data:m,count:h||0}})}getToilet(e){return T(this,null,function*(){const r=yield this.getToiletsByIds([e]);return r.length>0?r[0]:null})}getToiletsInRadius(e,r,n){return T(this,null,function*(){const a=n/111,s=n/(111*Math.cos(e*(Math.PI/180))),l=e-a,u=e+a,d=r-s,h=r+s,{data:m,error:p}=yield de.from("toilets").select("*, reviews (rating)").gte("lat",l).lte("lat",u).gte("lng",d).lte("lng",h).limit(1e3);if(p)return console.error("Error fetching toilets in radius:",p),[];const b=m.map(_=>this.mapToilet(_)),y=[...new Set(b.map(_=>_.createdBy).filter(_=>_&&_!=="admin"))];if(y.length>0){const{data:_}=yield de.from("users").select("id, email, nickname, level").in("id",y);if(_){const w=new Map(_.map(j=>[j.id,j]));b.forEach(j=>{if(j.createdBy&&w.has(j.createdBy)){const k=w.get(j.createdBy);j.creatorEmail=k.email,j.creatorName=k.nickname,j.creatorLevel=k.level}})}}return b})}getToiletsByIds(e){return T(this,null,function*(){if(!e||e.length===0)return[];const{data:r,error:n}=yield de.from("toilets").select("*, reviews (rating), users!toilets_created_by_fkey (nickname, email, level)").in("id",e);return n?(console.error("Error fetching specific toilets:",n),[]):r.map(a=>this.mapToilet(a))})}getToiletsNearbyRPC(e,r,n){return T(this,null,function*(){const{data:a,error:s}=yield de.rpc("get_toilets_nearby",{lat_input:e,lng_input:r,radius_km:n});return s?(console.error("Error fetching nearby toilets (RPC):",s),[]):a.map(l=>({id:l.id,name:l.name,address:l.address,lat:l.lat,lng:l.lng,distance:l.dist_meters,reviewCount:Number(l.review_count),ratingAvg:l.rating_avg,type:"public",genderType:ft.UNISEX}))})}addToilet(e){return T(this,null,function*(){const{data:r}=yield de.from("banned_locations").select("address");if(r&&r.some(l=>e.address.replace(/\s/g,"").includes(l.address.replace(/\s/g,""))))return{success:!1,message:"        ."};const n=`POINT(${e.lng} ${e.lat})`,{error:a}=yield de.from("toilets").insert({id:e.id,name:e.name,address:e.address,lat:e.lat,lng:e.lng,location:n,type:e.type,gender_type:e.genderType,floor:e.floor,has_password:e.hasPassword,password:e.password,cleanliness:e.cleanliness,has_bidet:e.hasBidet,has_paper:e.hasPaper,stall_count:e.stallCount,crowd_level:e.crowdLevel,is_unlocked:e.isUnlocked,note:e.note,created_by:e.createdBy,is_private:e.isPrivate,source:e.source});if(a)return console.error("Error adding toilet:",a),{success:!1,message:a.message};if(this.incrementDailyStat("newToilets"),e.createdBy){const s=T(this,null,function*(){const u=yield this.getCreditPolicy();yield this.updateUserCredits(e.createdBy,u.toiletSubmit),yield this.logCreditTransaction(e.createdBy,u.toiletSubmit,"toilet_add","toilet",e.id,"  ")}),l=this.updateActivityScore(e.createdBy,3," ");Promise.all([s,l]).catch(u=>console.error("Background reward update failed",u))}return{success:!0}})}updateToilet(e){return T(this,null,function*(){const r=`POINT(${e.lng} ${e.lat})`,{error:n}=yield de.from("toilets").update({name:e.name,address:e.address,lat:e.lat,lng:e.lng,location:r,type:e.type,gender_type:e.genderType,floor:e.floor,has_password:e.hasPassword,password:e.password,cleanliness:e.cleanliness,has_bidet:e.hasBidet,has_paper:e.hasPaper,stall_count:e.stallCount,crowd_level:e.crowdLevel,is_unlocked:e.isUnlocked,note:e.note,is_private:e.isPrivate}).eq("id",e.id);return n?{success:!1,message:n.message}:(T(this,null,function*(){try{const{data:a}=yield de.from("reports").select("id, reporter_id").eq("toilet_id",e.id).eq("status","pending");if(a&&a.length>0){const{error:s}=yield de.from("reports").update({status:"resolved"}).in("id",a.map(l=>l.id));if(!s){console.log(` Auto-resolved ${a.length} reports for toilet ${e.id}`);for(const l of a){const u=yield this.createNotification(tr.REPORT_RESULT,l.reporter_id,"  ",`[${e.name}]       . .`,{reportId:l.id,toiletId:e.id});yield this.sendPushNotification(u)}}}}catch(a){console.error("Auto-resolve failed:",a)}}),{success:!0})})}deleteToilet(e){return T(this,null,function*(){yield de.from("toilets").delete().eq("id",e)})}getReviews(e){return T(this,null,function*(){let r=de.from("reviews").select("*, users (nickname, email, level), toilets (name, address, gender_type)").order("created_at",{ascending:!1});e&&(r=r.eq("toilet_id",e));const{data:n,error:a}=yield r;return a?[]:n.map(s=>{var l,u,d;return je(J({},this.mapReview(s)),{toiletName:(l=s.toilets)==null?void 0:l.name,toiletAddress:(u=s.toilets)==null?void 0:u.address,toiletGender:(d=s.toilets)==null?void 0:d.gender_type})})})}getUserReviews(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("reviews").select("*, toilets (name, address)").eq("user_id",e).order("created_at",{ascending:!1});return n?[]:r.map(a=>{var s,l;return je(J({},this.mapReview(a)),{toiletName:(s=a.toilets)==null?void 0:s.name,toiletAddress:(l=a.toilets)==null?void 0:l.address})})})}addReview(e){return T(this,null,function*(){var n;const{error:r}=yield de.from("reviews").insert({id:e.id,toilet_id:e.toiletId,user_id:e.userId,user_name:e.userName,rating:e.rating,content:e.content,created_at:new Date().toISOString(),rewarded:(n=e.rewarded)!=null?n:!1});if(r)throw r;this.incrementDailyStat("newReviews");try{const a=yield this.getCreditPolicy();a.reviewSubmit>0&&(yield this.updateUserCredits(e.userId,a.reviewSubmit),yield this.logCreditTransaction(e.userId,a.reviewSubmit,"review_add","review",e.id,"  "))}catch(a){console.error("Failed to award review credits:",a)}this.updateActivityScore(e.userId,.8," ").catch(a=>{console.error("Failed to update activity score in background:",a)}),T(this,null,function*(){try{const{data:a,error:s}=yield de.from("toilets").select("name, created_by").eq("id",e.toiletId).single();if(s||!a||!a.created_by||a.created_by===e.userId)return;const l="     !",d=(yield this.getSystemSetting("msg_review_received","[name]    .")).replace("[name]",a.name),h=yield this.createNotification(tr.REVIEW_ADDED,a.created_by,l,d,{toiletId:e.toiletId,reviewId:e.id});yield this.sendPushNotification(h),console.log(` Automated review notification sent to creator: ${a.created_by}`)}catch(a){console.error("Failed to send automated review notification:",a)}})})}updateReview(e){return T(this,null,function*(){yield de.from("reviews").update({rating:e.rating,content:e.content}).eq("id",e.id)})}updateReviewReward(e,r){return T(this,null,function*(){const{error:n}=yield de.from("reviews").update({rewarded:r}).eq("id",e);if(n)throw n})}deleteReview(e){return T(this,null,function*(){yield de.from("reviews").delete().eq("id",e)})}adminDeleteReview(e){return T(this,null,function*(){const{data:r}=yield de.from("reviews").select("*").eq("id",e).single();if(r){if(r.rewarded===!0){const n=yield this.getCreditPolicy();yield this.updateUserCredits(r.user_id,-n.reviewSubmit),yield this.logCreditTransaction(r.user_id,-n.reviewSubmit,"review_delete_penalty","review",e,"   ")}yield this.updateActivityScore(r.user_id,-.5,"    "),yield this.deleteReview(e)}})}getReports(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("reports").select("*, users (nickname, email)").order("created_at",{ascending:!1});return r?[]:e.map(n=>{const a=Array.isArray(n.users)?n.users[0]:n.users;return{id:n.id,toiletId:n.toilet_id,toiletName:n.toilet_name,reporterId:n.reporter_id,reason:n.reason,status:n.status,createdAt:n.created_at,reporterEmail:a==null?void 0:a.email,reporterNickname:a==null?void 0:a.nickname}})})}addReport(e){return T(this,null,function*(){const{error:r}=yield de.from("reports").insert({id:e.id,toilet_id:e.toiletId,toilet_name:e.toiletName,reporter_id:e.reporterId,reason:e.reason,status:e.status,created_at:new Date().toISOString()});r||(this.incrementDailyStat("newReports"),T(this,null,function*(){try{const{data:n,error:a}=yield de.from("toilets").select("created_by, name").eq("id",e.toiletId).single();if(a||!n||!n.created_by||n.created_by===e.reporterId)return;const l=(yield this.getSystemSetting("msg_report_received","[name]    . (: [reason])")).replace("[name]",n.name).replace("[reason]",e.reason),u=yield this.createNotification(tr.TOILET_REPORTED,n.created_by,"    ",l,{toiletId:e.toiletId,reportId:e.id});yield this.sendPushNotification(u)}catch(n){console.error("Failed to notify toilet owner of report:",n)}}))})}dismissReport(e){return T(this,null,function*(){const{error:r,data:n}=yield de.from("reports").update({status:"dismissed"}).eq("id",e).select().single();if(r)throw console.error("Error dismissing report:",r),r;n&&n.reporter_id&&(yield this.updateActivityScore(n.reporter_id,-.2,"  ( )"),T(this,null,function*(){try{const a=yield this.createNotification(tr.REPORT_RESULT,n.reporter_id,"  ","  . (    )",{reportId:e});yield this.sendPushNotification(a)}catch(a){console.error("Failed to notify reporter of dismissal",a)}}))})}getAdminReports(e,r,n){return T(this,null,function*(){const a=(e-1)*r,s=a+r-1;let l=de.from("reports").select("*, users (nickname, email), toilets (has_paper, has_bidet, has_password, password)",{count:"exact"});n!=null&&n.status&&(n.status==="unprocessed"?l=l.eq("status","pending"):n.status==="processed"&&(l=l.neq("status","pending"))),n!=null&&n.reason&&n.reason!=="all"&&(n.reason===""||(l=l.eq("reason",n.reason))),n!=null&&n.search&&(l=l.or(`reason.ilike.%${n.search}%,toilet_name.ilike.%${n.search}%`));const{data:u,error:d,count:h}=yield l.order("created_at",{ascending:!1}).range(a,s);return d?(console.error("Error fetching admin reports:",d),{data:[],count:0}):{data:u.map(p=>{const b=Array.isArray(p.users)?p.users[0]:p.users,y=Array.isArray(p.toilets)?p.toilets[0]:p.toilets;return{id:p.id,toiletId:p.toilet_id,toiletName:p.toilet_name,reporterId:p.reporter_id,reason:p.reason,status:p.status,createdAt:p.created_at,reporterEmail:b==null?void 0:b.email,reporterNickname:b==null?void 0:b.nickname,toiletDetails:y?{hasPaper:y.has_paper,hasBidet:y.has_bidet,hasPassword:y.has_password,password:y.password}:void 0}}),count:h||0}})}getAdminReviews(e,r,n){return T(this,null,function*(){const a=(e-1)*r,s=a+r-1;let l=de.from("reviews").select("*, users (nickname, email, level), toilets (name, address, gender_type)",{count:"exact"});const u=new Date;if(n!=null&&n.period){let b=new Date;if(n.period==="today"?b.setHours(0,0,0,0):n.period==="week"?b.setDate(u.getDate()-7):n.period==="month"?b.setDate(u.getDate()-30):n.period==="custom"&&n.startDate&&(b=new Date(n.startDate)),l=l.gte("created_at",b.toISOString()),n.period==="custom"&&n.endDate){const y=new Date(n.endDate);y.setHours(23,59,59,999),l=l.lte("created_at",y.toISOString())}}n!=null&&n.ratings&&n.ratings.length>0&&(l=l.in("rating",n.ratings)),n!=null&&n.search&&(l=l.or(`content.ilike.%${n.search}%`));const{data:d,error:h,count:m}=yield l.order("created_at",{ascending:!1}).range(a,s);if(h)return console.error("Error fetching admin reviews:",h),{data:[],count:0};let p=d.map(b=>{var y,_,w;return je(J({},this.mapReview(b)),{toiletName:(y=b.toilets)==null?void 0:y.name,toiletAddress:(_=b.toilets)==null?void 0:_.address,toiletGender:(w=b.toilets)==null?void 0:w.gender_type})});return n!=null&&n.types&&n.types.length>0&&(p=p.filter(b=>n.types.includes(b.toiletGender))),{data:p,count:m||0}})}getRecentActivity(e=5){return T(this,null,function*(){const{data:r}=yield de.from("reports").select("*, users(nickname, email)").order("created_at",{ascending:!1}).limit(e),{data:n}=yield de.from("reviews").select("*, users(nickname, email), toilets(name)").order("created_at",{ascending:!1}).limit(e),a=(r||[]).map(l=>{const u=Array.isArray(l.users)?l.users[0]:l.users;return{id:l.id,toiletId:l.toilet_id,toiletName:l.toilet_name,reporterId:l.reporter_id,reason:l.reason,status:l.status,createdAt:l.created_at,reporterEmail:u==null?void 0:u.email,reporterNickname:u==null?void 0:u.nickname}}),s=(n||[]).map(l=>{var u;return je(J({},this.mapReview(l)),{toiletName:(u=l.toilets)==null?void 0:u.name})});return{reports:a,reviews:s}})}approveReport(e,r,n){return T(this,null,function*(){const{error:a}=yield de.from("reports").update({status:"resolved"}).eq("id",e);if(a)throw console.error("Error approving report:",a),a;const s=yield this.getCreditPolicy(),l=n!==void 0?n:s.reportSubmit;yield this.updateUserCredits(r,l),yield this.logCreditTransaction(r,l,"report_reward","report",e,"  "),yield this.updateActivityScore(r,1,"  "),yield this.createNotification(tr.CREDIT_AWARDED,r,"  ",`  !    ${l}  .`)})}getDailyReviewCount(e){return T(this,null,function*(){const r=new Date().toISOString().split("T")[0],{count:n,error:a}=yield de.from("reviews").select("id",{count:"exact"}).eq("user_id",e).gte("created_at",r);return n||0})}getDailyReportCount(e){return T(this,null,function*(){const r=new Date().toISOString().split("T")[0],{count:n,error:a}=yield de.from("reports").select("id",{count:"exact"}).eq("reporter_id",e).gte("created_at",r);return n||0})}checkRecentReview(e,r){return T(this,null,function*(){const n=new Date(Date.now()-864e5).toISOString(),{data:a}=yield de.from("reviews").select("id").eq("user_id",e).eq("toilet_id",r).gte("created_at",n).limit(1);return!!a&&a.length>0})}checkRecentReport(e,r){return T(this,null,function*(){const n=new Date(Date.now()-864e5).toISOString(),{data:a}=yield de.from("reports").select("id").eq("reporter_id",e).eq("toilet_id",r).gte("created_at",n).limit(1);return!!a&&a.length>0})}withdrawUser(e,r){return T(this,null,function*(){const{error:n}=yield de.from("users").update({status:"deleted",withdrawal_reason:r,deleted_at:new Date().toISOString()}).eq("id",e);if(n)throw console.error("Failed to withdraw user:",n),n;return!0})}getWithdrawnUsers(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("users").select("*").eq("status","deleted").order("deleted_at",{ascending:!1});return r?(console.error("Failed to fetch withdrawn users:",r),[]):(e||[]).map(n=>this.mapUser(n))})}deleteUserWithContentHandler(e,r,n,a){return T(this,null,function*(){const s=yield this.getContentHolderAccountId();if(r&&(yield de.from("toilets").update({created_by:s}).eq("created_by",e),yield de.from("reviews").update({user_id:s,user_name:" ()"}).eq("user_id",e)),n&&a)yield this.banUserPermanently(e,a,s);else{yield de.from("users").update({referrer_id:null}).eq("referrer_id",e);const{error:l}=yield de.from("users").delete().eq("id",e);if(l)throw l}})}banToilet(e,r,n){return T(this,null,function*(){const{data:a}=yield de.from("toilets").select("*").eq("id",e).single();if(!a)return;const{error:s}=yield de.from("banned_locations").insert({id:"ban_"+Date.now(),address:a.address,reason:r,banned_at:new Date().toISOString(),banned_by:n});yield this.deleteToilet(e)})}banUserPermanently(e,r,n){return T(this,null,function*(){const{data:a}=yield de.from("users").select("email").eq("id",e).single();a&&(yield de.from("banned_users").insert({id:"bu_"+Date.now(),email:a.email,reason:r,banned_by:n,banned_at:new Date().toISOString()}),yield de.from("users").update({referrer_id:null}).eq("referrer_id",e),yield de.from("users").delete().eq("id",e))})}getBannedUsers(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("banned_users").select("*").order("banned_at",{ascending:!1});return r?[]:e.map(n=>({id:n.id,email:n.email,reason:n.reason,bannedAt:n.banned_at,bannedBy:n.banned_by}))})}unbanUser(e){return T(this,null,function*(){yield de.from("banned_users").delete().eq("id",e)})}saveUser(e){return T(this,null,function*(){const{data:r}=yield de.from("banned_users").select("email").eq("email",e.email).maybeSingle();if(r)throw new Error("     .");const{error:n}=yield de.from("users").upsert({id:e.id,email:e.email,nickname:e.nickname,gender:e.gender,role:e.role,credits:e.credits,last_login:new Date().toISOString(),push_token:e.pushToken,notification_enabled:e.notificationEnabled,signup_provider:e.signupProvider,referrer_id:e.referrerId},{onConflict:"email"});n||this.incrementDailyStat("visitors")})}getUserById(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("users").select("*").eq("id",e).single();return n||!r?null:this.mapUser(r)})}getUserByEmail(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("users").select("*").eq("email",e).maybeSingle();return n||!r?null:this.mapUser(r)})}getAdminUsers(e,r,n){return T(this,null,function*(){let a=de.from("users").select("*",{count:"exact"});n!=null&&n.search&&(a=a.or(`email.ilike.%${n.search}%,nickname.ilike.%${n.search}%`)),n!=null&&n.gender&&n.gender!=="all"&&(a=a.eq("gender",n.gender)),n!=null&&n.role&&n.role!=="all"&&(a=a.eq("role",n.role)),n!=null&&n.level&&n.level!=="all"&&(a=a.eq("level",parseInt(n.level))),n!=null&&n.provider&&n.provider!=="all"&&(n.provider==="email"?a=a.or("signup_provider.eq.email,signup_provider.is.null"):a=a.eq("signup_provider",n.provider));const s=(e-1)*r,l=s+r-1,{data:u,error:d,count:h}=yield a.order("created_at",{ascending:!1}).range(s,l);return d?(console.error(d),{data:[],count:0}):{data:u.map(m=>this.mapUser(m)),count:h||0}})}getUsers(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("users").select("*");return r?[]:e.map(n=>({id:n.id,email:n.email,nickname:n.nickname,gender:n.gender,role:n.role,credits:n.credits,lastLogin:n.last_login,pushToken:n.push_token,notificationEnabled:n.notification_enabled,activityScore:n.activity_score,level:n.level,levelOverride:n.level_override,createdAt:n.created_at,status:n.status,nextLoginNotice:n.next_login_notice}))})}updateUserRole(e,r){return T(this,null,function*(){const{error:n}=yield de.from("users").update({role:r}).eq("id",e);if(n)throw n})}searchUsers(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("users").select("id").ilike("email",`%${e}%`).limit(20);return n?(console.error("Error searching users:",n),[]):r?r.map(a=>a.id):[]})}getSystemSetting(e,r){return T(this,null,function*(){const{data:n,error:a}=yield de.from("system_settings").select("value").eq("key",e).maybeSingle();return a||!n?r:n.value})}setSystemSetting(e,r,n){return T(this,null,function*(){var l;const{data:{session:a}}=yield de.auth.getSession();console.log("[Debug] setSystemSetting: Session:",(l=a==null?void 0:a.user)==null?void 0:l.id,"Key:",e);const s=yield this.getAdminAccountId();yield de.from("system_settings").upsert({key:e,value:r,description:n,updated_at:new Date().toISOString(),updated_by:s})})}calculateLevel(e){return e>=400?6:e>=200?5:e>=100?4:e>=60?3:e>=30?2:e>=10?1:0}getAdminAccountId(){return T(this,null,function*(){const{data:e}=yield de.from("users").select("id").eq("role","admin").limit(1).single();return e?e.id:"00000000-0000-0000-0000-000000000000"})}getContentHolderAccountId(){return T(this,null,function*(){const e="temp@temp.com",{data:r}=yield de.from("users").select("id").eq("email",e).single();if(r)return r.id;const n="temp_"+Date.now(),{error:a}=yield de.from("users").insert({id:n,email:e,nickname:" ()",role:"admin",credits:999999,created_at:new Date().toISOString(),status:"active"});return a?(console.error("Failed to create content holder account:",a),this.getAdminAccountId()):n})}clearLoginNotice(e){return T(this,null,function*(){yield de.from("users").update({next_login_notice:null}).eq("id",e)})}updateActivityScore(e,r,n){return T(this,null,function*(){const{data:a}=yield de.from("users").select("activity_score, level, level_override, next_login_notice").eq("id",e).maybeSingle();if(!a)return;const s=a.activity_score||0,l=Math.max(0,s+r),u=a.level||0;let d=this.calculateLevel(l);a.level_override&&(d=u);const h={activity_score:l,level:d};if(!a.level_override&&d!==u){let m=d>u?"level_up":"level_down",p="",b="";const y=["","","","","","",""],_=y[d],w=y[u];if(m==="level_up"){const j=yield this.getSystemSetting("level_up_reward","10"),k=parseInt(j,10)||10;yield this.updateUserCredits(e,k),yield this.logCreditTransaction(e,k,"level_up_reward","user",e,`  (${_})`),p=` ${_}  !`,b=(yield this.getSystemSetting("msg_level_up","!    [old] [new]  !   [reward] !")).replace("[old]",w).replace("[new]",_).replace("[reward]",String(k))}else p=` ${_}  `,b=`    [${w}] [${_}]  . `;h.next_login_notice={type:m==="level_up"?tr.LEVEL_UP:"level_down",title:p,message:b},m==="level_up"&&this.createNotification(tr.LEVEL_UP,e,p,b).then(j=>this.sendPushNotification(j))}yield de.from("users").update(h).eq("id",e),r!==0&&(yield this.logCreditTransaction(e,r,"score_change","score_log",e,`${n} (${r>0?"+":""}${r})`))})}toggleReviewReaction(e,r,n){return T(this,null,function*(){const{data:a}=yield de.from("review_reactions").select("id, type").eq("review_id",e).eq("user_id",r).single();if(a)if(a.type===n){yield de.from("review_reactions").delete().eq("id",a.id),n==="like"&&(yield this.incrementReviewLikeCount(e,-1));const{data:s}=yield de.from("reviews").select("user_id").eq("id",e).single();s&&(yield this.updateActivityScore(s.user_id,-.1," "))}else yield de.from("review_reactions").update({type:n}).eq("id",a.id),n==="like"&&(yield this.incrementReviewLikeCount(e,1));else if(yield de.from("review_reactions").insert({review_id:e,user_id:r,type:n}),n==="like"){yield this.incrementReviewLikeCount(e,1);const{data:s}=yield de.from("reviews").select("user_id").eq("id",e).single();s&&(yield this.updateActivityScore(s.user_id,.05,"  "))}})}incrementReviewLikeCount(e,r){return T(this,null,function*(){const{data:n}=yield de.from("reviews").select("like_count").eq("id",e).single();n&&(yield de.from("reviews").update({like_count:(n.like_count||0)+r}).eq("id",e))})}updateUserCredits(e,r){return T(this,null,function*(){const{data:n}=yield de.from("users").select("credits").eq("id",e).maybeSingle();if(n){const a=(n.credits||0)+r;yield de.from("users").update({credits:a}).eq("id",e)}})}logCreditTransaction(e,r,n,a,s,l){return T(this,null,function*(){const{data:{user:u}}=yield de.auth.getUser();console.log(` Logging Credit Transaction: [${n}] ${r}Cr (Ref: ${a}/${s}) | User: ${e} / Auth: ${u==null?void 0:u.id}`);try{const{error:d}=yield de.rpc("log_credit_transaction_rpc",{p_user_id:e,p_amount:Math.floor(r),p_type:n,p_related_type:a||null,p_related_id:s||null,p_description:l||null});if(d){console.error(" Failed to log credit transaction (RPC):",d.message,d.details,d.hint);const{error:h}=yield de.from("credit_logs").insert({user_id:e,amount:r,type:n,related_type:a,related_id:s,description:l,created_at:new Date().toISOString()});if(h)throw h}else console.log(` Credit Transaction Logged Successfully: [${n}]`)}catch(d){console.error(" Transaction Error (Check RLS or Network):",d)}})}deleteUser(e){return T(this,null,function*(){yield this.deleteUserWithContentHandler(e,!0,!1)})}savePushToken(e,r){return T(this,null,function*(){console.log(`[db] Saving Push Token for ${e}: ${r.substring(0,10)}...`);const{error:n}=yield de.from("users").update({push_token:r,notification_enabled:!0}).eq("id",e);n?console.error("[db] Failed to save push token:",n):console.log("[db] Push token saved successfully.")})}getUserPushToken(e){return T(this,null,function*(){const{data:r}=yield de.from("users").select("push_token").eq("id",e).single();return(r==null?void 0:r.push_token)||null})}createNotification(e,r,n,a,s){return T(this,null,function*(){const l={};s&&Object.entries(s).forEach(([h,m])=>{l[h]=String(m)});const u={id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e,user_id:r,title:n,message:a,data:l,is_read:!1,sent_at:new Date().toISOString(),delivery_status:"pending"},{error:d}=yield de.from("notifications").insert(u);return d&&console.error("Error creating notification",d),{id:u.id,type:u.type,userId:u.user_id,title:u.title,message:u.message,data:u.data,read:u.is_read,sentAt:u.sent_at,deliveryStatus:u.delivery_status}})}sendPushNotification(e){return T(this,null,function*(){try{const{data:r,error:n}=yield de.functions.invoke("push-notification",{body:{notification_id:e.id}});if(n)throw console.error("Functions Invoke Error:",n),n;return console.log("FCM Edge Response:",r),r!=null&&r.inAppOnly&&console.log(" Delivered as in-app only (no push token)"),{success:r&&r.success===!0,pushSent:r&&r.success===!0&&!r.inAppOnly}}catch(r){if(console.error("Push Notification Failed:",r),r.context)try{const n=yield r.context.text();console.error("FCM Edge Error Details:",n)}catch(n){console.error("Could not read error response body",n)}return yield de.from("notifications").update({delivery_status:"failed"}).eq("id",e.id),{success:!1,pushSent:!1}}})}getAllNotifications(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("notifications").select("*").order("sent_at",{ascending:!1});return r?[]:e.map(n=>({id:n.id,type:n.type,userId:n.user_id,title:n.title,message:n.message,data:n.data,read:n.is_read,sentAt:n.sent_at,deliveryStatus:n.delivery_status}))})}getUserNotifications(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("notifications").select("*").eq("user_id",e).order("sent_at",{ascending:!1});return r?r.map(a=>({id:a.id,type:a.type,userId:a.user_id,title:a.title,message:a.message,data:a.data,read:a.is_read,sentAt:a.sent_at,deliveryStatus:a.delivery_status})):[]})}markNotificationAsRead(e){return T(this,null,function*(){yield de.from("notifications").update({is_read:!0}).eq("id",e)})}markAllNotificationsAsRead(e){return T(this,null,function*(){yield de.from("notifications").update({is_read:!0}).eq("user_id",e)})}deleteAllNotifications(e){return T(this,null,function*(){yield de.from("notifications").delete().eq("user_id",e)})}deleteNotifications(e){return T(this,null,function*(){if(!e||e.length===0)return;console.log("[db] Attempting to delete notifications:",e);const{error:r,count:n}=yield de.from("notifications").delete({count:"estimated"}).in("id",e);if(console.log("[db] Delete result - count:",n,"error:",r),r)throw r})}getUnreadNotificationCountToday(e){return T(this,null,function*(){const r=new Date;r.setHours(0,0,0,0);const{count:n,error:a}=yield de.from("notifications").select("id",{count:"exact"}).eq("user_id",e).eq("is_read",!1).gte("sent_at",r.toISOString());return a?(console.error("Error fetching unread count:",a),0):n||0})}cleanupExpiredNotifications(e){return T(this,null,function*(){const r=new Date;r.setDate(r.getDate()-1);const{error:n}=yield de.from("notifications").delete().eq("user_id",e).in("type",[tr.FAVORITE_UPDATE,tr.CREDIT_AWARDED,tr.TOILET_REPORTED,tr.NEARBY_TOILET,tr.REVIEW_ADDED,tr.LEVEL_CHANGE,tr.SCORE_CHANGE,tr.REPORT_RESULT,tr.MILESTONE_REACHED,tr.LEVEL_UP]).lt("sent_at",r.toISOString());n&&console.error("Error cleaning up notifications:",n)})}getDashboardStats(){return T(this,null,function*(){const{count:e}=yield de.from("users").select("*",{count:"exact",head:!0}),{count:r}=yield de.from("toilets").select("*",{count:"exact",head:!0}),{count:n}=yield de.from("reports").select("*",{count:"exact",head:!0}),{count:a}=yield de.from("reviews").select("*",{count:"exact",head:!0}),{count:s}=yield de.from("reports").select("*",{count:"exact",head:!0}).eq("status","pending");return{totalUsers:e||0,totalToilets:r||0,totalReports:n||0,totalReviews:a||0,pendingReports:s||0,todayAdViews:0}})}getAdConfig(){return T(this,null,function*(){if(this.adConfigCache)return this.adConfigCache;const{data:e}=yield de.from("app_config").select("value").eq("key","ad_config").single();if(e&&e.value)return this.adConfigCache=e.value,e.value;const r={interstitialSource:"admob",bannerSource:"admob",testMode:!0,bannersEnabled:!0,youtubeUrls:["","","","",""],customBanners:[],adMobIds:{banner:"",interstitial:"",reward:"",rewardInterstitial:"",appOpen:"",native:""}};return this.adConfigCache=r,r})}saveAdConfig(e){return T(this,null,function*(){const{error:r}=yield de.from("app_config").upsert({key:"ad_config",value:e});if(r)throw r;this.adConfigCache=e})}resetAdConfig(){return T(this,null,function*(){const{error:e}=yield de.from("app_config").delete().eq("key","ad_config");if(e)throw e;this.adConfigCache=null})}getVersionPolicy(){return T(this,null,function*(){const{data:e}=yield de.from("app_config").select("value").eq("key","version_policy").maybeSingle(),r={android:{latestVersion:"1.0.0",minVersion:"1.0.0",storeUrl:"market://details?id=com.toiletshare.app",updateMessage:`  .
      .`},ios:{latestVersion:"1.0.0",minVersion:"1.0.0",storeUrl:"https://apps.apple.com/app/id...",updateMessage:"  ."}};return e&&e.value?J(J({},r),e.value):r})}saveVersionPolicy(e){return T(this,null,function*(){const{error:r}=yield de.from("app_config").upsert({key:"version_policy",value:e});if(r)throw r})}getTodayStats(){return T(this,null,function*(){return this.getDailyStats(new Date().toISOString().split("T")[0])})}getDailyStats(e){return T(this,null,function*(){const{data:r}=yield de.from("daily_stats").select("*").eq("date",e).maybeSingle();return r?{date:r.date,newUsers:r.new_users,visitors:r.visitors,newToilets:r.new_toilets,newReviews:r.new_reviews,adViewsCompleted:r.ad_views,newReports:r.new_reports}:{date:e,newUsers:0,visitors:0,newToilets:0,newReviews:0,adViewsCompleted:0,newReports:0}})}getStatsForLastNDays(e){return T(this,null,function*(){const r=new Date,n=new Date;n.setDate(r.getDate()-e+1);const a=n.toISOString().split("T")[0],s=r.toISOString().split("T")[0];return this.getStatsForDateRange(a,s)})}getStatsForDateRange(e,r){return T(this,null,function*(){const n=[],{data:a}=yield de.from("daily_stats").select("*").gte("date",e).lte("date",r),s=new Map((a==null?void 0:a.map(d=>[d.date,d]))||[]),l=new Date(e),u=new Date(r);for(let d=new Date(l);d<=u;d.setDate(d.getDate()+1)){const h=d.toISOString().split("T")[0],m=s.get(h);m?n.push({date:h,newUsers:m.new_users,visitors:m.visitors,newToilets:m.new_toilets,newReviews:m.new_reviews,adViewsCompleted:m.ad_views,newReports:m.new_reports}):n.push({date:h,newUsers:0,visitors:0,newToilets:0,newReviews:0,adViewsCompleted:0,newReports:0})}return n})}recordNewUser(){return T(this,null,function*(){yield this.incrementDailyStat("newUsers")})}recordVisit(e){return T(this,null,function*(){yield this.incrementDailyStat("visitors"),e==="mobile"?yield this.incrementDailyStat("visitors_mobile"):e==="tablet"?yield this.incrementDailyStat("visitors_tablet"):yield this.incrementDailyStat("visitors_pc")})}incrementDailyStat(e,r=1){return T(this,null,function*(){const n=new Date().toISOString().split("T")[0],s={newUsers:"new_users",visitors:"visitors",newToilets:"new_toilets",newReviews:"new_reviews",adViewsCompleted:"ad_views",newReports:"new_reports",ad_views_charge:"ad_views_charge",ad_views_unlock:"ad_views_unlock",ad_views_review:"ad_views_review",visitors_mobile:"visitors_mobile",visitors_tablet:"visitors_tablet",visitors_pc:"visitors_pc"}[e];if(!s)return console.error("[db] Invalid stat field:",e),!1;const{error:l}=yield de.rpc("increment_daily_stat",{p_date:n,p_field:s,p_amount:r});return l?(console.error("[db] Error incrementing daily stat (RPC):",l),!1):!0})}getCreditPolicy(){return T(this,null,function*(){const{data:e}=yield de.from("app_config").select("value").eq("key","credit_policy").single();return e?e.value:th})}saveCreditPolicy(e){return T(this,null,function*(){yield de.from("app_config").upsert({key:"credit_policy",value:e})})}getUploadHistories(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("upload_history").select("*").order("uploaded_at",{ascending:!1});return r?[]:e.map(n=>({id:n.id,fileName:n.file_name,uploadedAt:n.uploaded_at,totalCount:n.total_count,successCount:n.success_count,addedCount:n.added_count,updatedCount:n.updated_count,failCount:n.fail_count,uploadedToiletIds:n.uploaded_toilet_ids,uploadedBy:n.uploaded_by,logs:n.logs}))})}saveUploadHistory(e){return T(this,null,function*(){yield de.from("upload_history").insert({id:e.id,file_name:e.fileName,uploaded_at:e.uploadedAt,total_count:e.totalCount,success_count:e.successCount,added_count:e.addedCount,updated_count:e.updatedCount,fail_count:e.failCount,uploaded_toilet_ids:e.uploadedToiletIds,uploaded_by:e.uploadedBy,logs:e.logs})})}deleteUploadHistory(e,r){return T(this,null,function*(){const{data:n}=yield de.from("upload_history").select("uploaded_toilet_ids").eq("id",e).single();if(n&&n.uploaded_toilet_ids&&Array.isArray(n.uploaded_toilet_ids)){const a=n.uploaded_toilet_ids,s=a.length,l=50;for(let u=0;u<s;u+=l){const d=a.slice(u,u+l);yield de.from("toilets").delete().in("id",d),r&&r(Math.min(u+l,s),s)}}yield de.from("upload_history").delete().eq("id",e)})}getDataStats(){return T(this,null,function*(){const{count:e}=yield de.from("toilets").select("*",{count:"exact",head:!0}),{count:r}=yield de.from("reviews").select("*",{count:"exact",head:!0}),{count:n}=yield de.from("users").select("*",{count:"exact",head:!0});return{toilets:e||0,reviews:r||0,users:n||0}})}clearAllData(){return T(this,null,function*(){yield de.from("notifications").delete().neq("id","0"),yield de.from("reports").delete().neq("id","0"),yield de.from("reviews").delete().neq("id","0"),yield de.from("upload_history").delete().neq("id","0"),yield de.from("toilets").delete().neq("id","0"),yield de.from("daily_stats").delete().neq("date","1970-01-01"),yield de.from("users").delete().neq("id","admin")})}downloadBackup(){return T(this,null,function*(){const{data:e}=yield de.from("toilets").select("*"),{data:r}=yield de.from("reviews").select("*"),{data:n}=yield de.from("users").select("*"),a={toilets:e||[],reviews:r||[],users:n||[],version:"1.0",exportedAt:new Date().toISOString()};return JSON.stringify(a,null,2)})}importData(e){return T(this,null,function*(){try{const r=JSON.parse(e);if(!r.toilets&&!r.reviews&&!r.users)return{success:!1,message:"   ."};if(r.users&&r.users.length>0){const n=r.users.map(s=>({id:s.id,email:s.email,nickname:s.nickname,gender:s.gender,role:s.role,credits:s.credits,last_login:s.lastLogin||s.last_login,push_token:s.pushToken||s.push_token,notification_enabled:s.notificationEnabled!==void 0?s.notificationEnabled:s.notification_enabled})),{error:a}=yield de.from("users").upsert(n);a&&console.error("Users import error:",a)}if(r.toilets&&r.toilets.length>0){const n=r.toilets.map(s=>({id:s.id,name:s.name,address:s.address,lat:s.lat,lng:s.lng,location:`POINT(${s.lng} ${s.lat})`,type:s.type,gender_type:s.genderType||s.gender_type,floor:s.floor,has_password:s.hasPassword||s.has_password,password:s.password,cleanliness:s.cleanliness,has_bidet:s.hasBidet||s.has_bidet,has_paper:s.hasPaper||s.has_paper,stall_count:s.stallCount||s.stall_count,crowd_level:s.crowdLevel||s.crowd_level,is_unlocked:s.isUnlocked||s.is_unlocked,note:s.note,created_by:s.createdBy||s.created_by,is_private:s.isPrivate||s.is_private,created_at:s.createdAt||s.created_at||new Date().toISOString()})),{error:a}=yield de.from("toilets").upsert(n);a&&console.error("Toilets import error:",a)}if(r.reviews&&r.reviews.length>0){const n=r.reviews.map(s=>({id:s.id,toilet_id:s.toiletId||s.toilet_id,user_id:s.userId||s.user_id,user_name:s.userName||s.user_name,rating:s.rating,content:s.content,created_at:s.createdAt||s.created_at||new Date().toISOString()})),{error:a}=yield de.from("reviews").upsert(n);a&&console.error("Reviews import error:",a)}return{success:!0,message:"  ."}}catch(r){return console.error(r),{success:!1,message:"   : "+r.message}}})}generateSampleData(){return T(this,null,function*(){const e=[],r=37.3595704,n=127.105399;for(let s=0;s<50;s++){const l=r+(Math.random()-.5)*.1,u=n+(Math.random()-.5)*.1;e.push({id:`sample_${Date.now()}_${s}`,name:`  ${s+1}`,address:"   ",lat:l,lng:u,location:`POINT(${u} ${l})`,type:"public",gender_type:"UNISEX",is_unlocked:!0,cleanliness:3,created_at:new Date().toISOString()})}const{error:a}=yield de.from("toilets").upsert(e);return a?{success:!1,message:"   : "+a.message}:{success:!0,message:"  50 ."}})}generateSeoulData(){return T(this,null,function*(){return{success:!0,message:"      (API  )."}})}bulkAddToilets(e){return T(this,null,function*(){let r=0,n=0,a=0;const s=e.map(m=>m.id),{data:l}=yield de.from("toilets").select("id").in("id",s),u=new Set(l==null?void 0:l.map(m=>m.id)),d=e.map(m=>{const p=`POINT(${m.lng} ${m.lat})`;return{id:m.id,name:m.name,address:m.address,lat:m.lat,lng:m.lng,location:p,type:m.type,gender_type:m.genderType,floor:m.floor,has_password:m.hasPassword,password:m.password,cleanliness:m.cleanliness,has_bidet:m.hasBidet,has_paper:m.hasPaper,stall_count:m.stallCount,crowd_level:m.crowdLevel,is_unlocked:m.isUnlocked,note:m.note,created_by:m.createdBy,is_private:m.isPrivate,source:m.source}}),{error:h}=yield de.from("toilets").upsert(d);if(h)return console.error("Bulk upload error:",h),{added:0,updated:0,failed:e.length};for(const m of e)u.has(m.id)?n++:r++;if(r>0){const m=new Date().toISOString().split("T")[0],{data:p}=yield de.from("daily_stats").select("new_toilets").eq("date",m).single(),b=(p==null?void 0:p.new_toilets)||0;yield de.from("daily_stats").upsert({date:m,new_toilets:b+r},{onConflict:"date"})}return{added:r,updated:n,failed:a}})}bulkDeleteToilets(e){return T(this,null,function*(){if(!e||e.length===0)return{success:!0,count:0};const{error:r,count:n}=yield de.from("toilets").delete({count:"exact"}).in("id",e);return r?(console.error("Error deleting toilets:",r),{success:!1,count:0}):{success:!0,count:n||0}})}getUserToilets(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("toilets").select("*, reviews (rating), users!toilets_created_by_fkey (nickname, email, level)").eq("created_by",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching user toilets:",n),[]):r.map(a=>this.mapToilet(a))})}getBookmarks(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("bookmarks").select("toilet_id").eq("user_id",e);return n?(console.error("Error fetching bookmarks:",n),[]):r.map(a=>a.toilet_id)})}toggleBookmark(e,r){return T(this,null,function*(){const{data:n}=yield de.from("bookmarks").select("toilet_id").eq("user_id",e).eq("toilet_id",r).maybeSingle();return n?(yield de.from("bookmarks").delete().eq("user_id",e).eq("toilet_id",r),!1):(yield de.from("bookmarks").insert({user_id:e,toilet_id:r}),!0)})}addLoginNotice(e,r){return T(this,null,function*(){const a=J({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var p=Math.random()*16|0,b=m=="x"?p:p&3|8;return b.toString(16)}),createdAt:Date.now()},r),{data:s,error:l}=yield de.from("users").select("login_notices").eq("id",e).single();if(l){console.error("[LoginNotice] Failed to fetch user:",l);return}const d=[...s.login_notices||[],a],{error:h}=yield de.from("users").update({login_notices:d}).eq("id",e);h&&console.error("[LoginNotice] Failed to update DB:",h)})}removeLoginNotice(e,r){return T(this,null,function*(){const{data:n,error:a}=yield de.from("users").select("login_notices").eq("id",e).single();if(a)return;const l=(n.login_notices||[]).filter(u=>u.id!==r);yield de.from("users").update({login_notices:l}).eq("id",e)})}processReferral(e,r){return T(this,null,function*(){if(e===r)return;const{data:n}=yield de.from("users").select("referrer_id").eq("id",r).single();if(n!=null&&n.referrer_id){console.log("Referral already processed for this user.");return}try{const s=(yield this.getCreditPolicy()).referralReward||20;yield de.from("users").update({referrer_id:e}).eq("id",r),yield this.updateUserCredits(e,s),yield this.logCreditTransaction(e,s,"signup","user",r,"  "),yield this.updateActivityScore(e,3,"  "),yield this.addLoginNotice(e,{type:"referral_success",title:"  ! ",message:`    ${s}C  3 .`,data:{amount:s}})}catch(a){console.error("Referral processing failed:",a)}})}deductUnlockCost(e,r,n){return T(this,null,function*(){try{return yield this.updateUserCredits(e,-n),yield this.logCreditTransaction(e,-n,"toilet_unlock","toilet",r,"  "),!0}catch(a){return console.error("Failed to deduct unlock cost",a),!1}})}processUnlockReward(e,r){return T(this,null,function*(){try{const{data:n,error:a}=yield de.from("toilets").select("created_by, name").eq("id",e).single();if(a||!n||!n.created_by)return;const s=n.created_by;if(s===r)return;const u=(yield this.getCreditPolicy()).ownerUnlockReward;u>0&&(yield this.updateUserCredits(s,u),yield this.logCreditTransaction(s,u,"toilet_unlock","toilet",e,` (${n.name})  `))}catch(n){console.error("Failed to process unlock reward",n)}})}recordAdView(e="charge"){return T(this,null,function*(){yield this.incrementDailyStat("adViewsCompleted");let r=null;e==="charge"?r="ad_views_charge":e==="unlock"?r="ad_views_unlock":e==="review"&&(r="ad_views_review"),r&&(yield this.incrementDailyStat(r))})}getDailyTrends(e=30){return T(this,null,function*(){const r=new Date,n=new Date;n.setDate(r.getDate()-e);const{data:a}=yield de.from("daily_stats").select("*").gte("date",n.toISOString().split("T")[0]).order("date",{ascending:!0});return a||[]})}checkIsOnLand(e,r){return T(this,null,function*(){try{const{data:n,error:a}=yield de.rpc("check_is_on_land",{lat:e,lng:r});return a?(console.error("Error checking land boundary:",a),e>=33&&e<=43&&r>=124&&r<=132):!!n}catch(n){return console.error("Exception checking land boundary:",n),!0}})}getDetailedUserStats(e=30){return T(this,null,function*(){const r=new Date,n=new Date;n.setDate(r.getDate()-30);const{data:a}=yield de.from("daily_stats").select("date, new_users").gte("date",n.toISOString().split("T")[0]).order("date",{ascending:!0}),{data:s}=yield de.from("users").select("signup_provider, gender"),l={google:0,naver:0,kakao:0,email:0,unknown:0},u={male:0,female:0,unknown:0};return s==null||s.forEach(d=>{d.signup_provider==="google"?l.google++:d.signup_provider==="naver"?l.naver++:d.signup_provider==="kakao"?l.kakao++:d.signup_provider==="email"?l.email++:l.unknown++,d.gender==="MALE"?u.male++:d.gender==="FEMALE"?u.female++:u.unknown++}),{trend:a||[],provider:l,gender:u}})}getVisitorStats(){return T(this,null,function*(){const e=new Date,r=new Date;r.setDate(e.getDate()-30);const{data:n}=yield de.from("daily_stats").select("date, visitors, visitors_mobile, visitors_tablet, visitors_pc").gte("date",r.toISOString().split("T")[0]).order("date",{ascending:!0});return{trend:n||[]}})}getDetailedAdStats(){return T(this,null,function*(){const e=new Date,r=new Date;r.setDate(e.getDate()-30);const{data:n,error:a}=yield de.from("daily_stats").select("date, ad_views").gte("date",r.toISOString().split("T")[0]).order("date",{ascending:!0});return a?(console.error("Failed to fetch detailed ad stats",a),{trend:[]}):{trend:n||[]}})}getCreditStats(e=30){return T(this,null,function*(){const r=new Date;r.setDate(r.getDate()-e);const{data:n,error:a}=yield de.rpc("get_credit_stats_summary_rpc",{days:e});if(a)return console.error("Failed to fetch credit stats (RPC)",a),[];console.log(` CreditStats Summary Fetch: Found ${n==null?void 0:n.length} summary rows`);const s=new Map;for(let l=0;l<e;l++){const u=new Date;u.setDate(u.getDate()-l);const d=u.toISOString().split("T")[0];s.set(d,{date:d,earned:0,spent:0,net:0,earnedDetail:{},spentDetail:{}})}return n==null||n.forEach(l=>{const u=l.log_date;if(s.has(u)){const d=s.get(u),h=Number(l.total_amount),m=l.log_type||"other";if(h>0)d.earned+=h,d.earnedDetail[m]=(d.earnedDetail[m]||0)+h;else{const p=Math.abs(h);d.spent+=p,d.spentDetail[m]=(d.spentDetail[m]||0)+p}d.net=d.earned-d.spent}}),Array.from(s.values()).sort((l,u)=>l.date.localeCompare(u.date))})}getAdStatsBreakdown(e=30){return T(this,null,function*(){const r=new Date,n=new Date;n.setDate(r.getDate()-e);const{data:a,error:s}=yield de.from("daily_stats").select("date, ad_views_charge, ad_views_unlock, ad_views_review").gte("date",n.toISOString().split("T")[0]).order("date",{ascending:!0});if(s)return console.error("Failed to fetch ad stats breakdown",s),[];const l=new Map;for(let u=0;u<e;u++){const d=new Date;d.setDate(d.getDate()-u);const h=d.toISOString().split("T")[0];l.set(h,{date:h,myPage:0,unlock:0,review:0})}return a==null||a.forEach(u=>{l.has(u.date)&&l.set(u.date,{date:u.date,myPage:u.ad_views_charge||0,unlock:u.ad_views_unlock||0,review:u.ad_views_review||0})}),Array.from(l.values()).sort((u,d)=>u.date.localeCompare(d.date))})}getRegionalStats(){return T(this,null,function*(){const{data:e,error:r}=yield de.rpc("get_regional_stats");return r?[]:e||[]})}getToiletStatsRaw(){return T(this,null,function*(){let e=[],r=!0,n=0;const a=1e3;for(;r;){const{data:s,error:l}=yield de.from("toilets").select("created_at, source, created_by, gender_type, has_password, view_count, users!toilets_created_by_fkey(role)").range(n*a,(n+1)*a-1);if(s?(e=e.concat(s),s.length<a&&(r=!1),n++):r=!1,n>20)break}return e})}bulkSaveStaging(e){return T(this,null,function*(){if(!e||e.length===0)return{success:0,error:0};const{error:r}=yield de.from("toilets_bulk").insert(e);return r?(console.error("Failed to save to staging:",r),{success:0,error:e.length}):{success:e.length,error:0}})}getBulkItems(e){return T(this,null,function*(){let r=de.from("toilets_bulk").select("*").order("created_at",{ascending:!1});e?r=r.eq("upload_id",e):r=r.in("status",["review_needed","rejected"]).limit(500);const{data:n,error:a}=yield r;return a?(console.error("Failed to fetch bulk items:",a),[]):n||[]})}updateBulkItemStatus(e,r,n,a){return T(this,null,function*(){const s={status:r};n&&a&&(s.lat=n,s.lng=a);const{error:l}=yield de.from("toilets_bulk").update(s).eq("id",e);return!l})}updateBulkItemContent(e,r){return T(this,null,function*(){const{error:n}=yield de.from("toilets_bulk").update(r).eq("id",e);return!n})}deleteBulkItem(e){return T(this,null,function*(){const{error:r}=yield de.from("toilets_bulk").delete().eq("id",e);return!r})}cleanUpBulkStaging(e){return T(this,null,function*(){let r=de.from("toilets_bulk").delete();e?r=r.eq("upload_id",e):r=r.eq("status","done");const{error:n}=yield r;return n?(console.error("Failed to cleanup staging:",n),!1):!0})}incrementToiletView(e){return T(this,null,function*(){let r=null,n=null,a=null;const{data:s,error:l}=yield de.rpc("increment_toilet_view",{t_id:e});if(l){console.error("Failed to increment view count via RPC:",l);const{data:h}=yield de.from("toilets").select("view_count, name, created_by").eq("id",e).single();if(!h)return;r=(h.view_count||0)+1,a=h.name,n=h.created_by,yield de.from("toilets").update({view_count:r}).eq("id",e)}else{r=s;const{data:h}=yield de.from("toilets").select("name, created_by").eq("id",e).single();h&&(a=h.name,n=h.created_by)}if(r===null||!n||!a)return;const u=yield this.getSystemSetting("milestone_threshold","10"),d=parseInt(u,10)||10;if(r%d===0&&r>0){const m=(yield this.getSystemSetting("msg_milestone_reached","! [name]  [count]   !")).replace("[name]",a).replace("[count]",String(r)),p=yield this.createNotification(tr.MILESTONE_REACHED,n,"   !",m,{toiletId:e});yield this.sendPushNotification(p)}})}giveUserPoints(e,r,n){return T(this,null,function*(){yield this.updateUserCredits(e,r);const a=yield this.getAdminAccountId();yield this.logCreditTransaction(e,r,"admin_adjust","admin",a,n);const l=(yield this.getSystemSetting("msg_point_gift"," [amount]  ! (: [reason])")).replace("[amount]",String(r)).replace("[reason]",n),u=yield this.createNotification(tr.POINT_GIFT,e,"   ",l,{creditAmount:String(r)});yield this.sendPushNotification(u)})}getAppNotices(e){return T(this,null,function*(){const{data:r,error:n}=yield de.from("app_notices").select("*").eq("is_active",!0).order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(n)return console.error("Failed to fetch app notices:",n),{notices:[],hiddenIds:new Set};let a=new Set;if(e){const{data:l}=yield de.from("user_hidden_notices").select("notice_id").eq("user_id",e);l&&l.forEach(u=>a.add(u.notice_id))}return{notices:r.map(l=>({id:l.id,title:l.title,content:l.content,type:l.type,isActive:l.is_active,priority:l.priority,authorId:l.author_id,createdAt:l.created_at,updatedAt:l.updated_at})),hiddenIds:a}})}getAllNoticesAdmin(){return T(this,null,function*(){const{data:e,error:r}=yield de.from("app_notices").select("*").order("created_at",{ascending:!1});return r?[]:e.map(n=>({id:n.id,title:n.title,content:n.content,type:n.type,isActive:n.is_active,priority:n.priority,authorId:n.author_id,createdAt:n.created_at,updatedAt:n.updated_at}))})}createAppNotice(e,r){return T(this,null,function*(){var s;let n=r;if(!n){const l=yield this.getCurrentUser();n=l==null?void 0:l.id}if(!n)throw new Error("Not logged in");const{error:a}=yield de.from("app_notices").insert({title:e.title,content:e.content,type:e.type||"notice",priority:e.priority||0,is_active:(s=e.isActive)!=null?s:!0,author_id:n});if(a)throw a})}updateAppNotice(e,r){return T(this,null,function*(){const{error:n}=yield de.from("app_notices").update({title:r.title,content:r.content,type:r.type,priority:r.priority,is_active:r.isActive,updated_at:new Date().toISOString()}).eq("id",e);if(n)throw n})}deleteAppNotice(e){return T(this,null,function*(){const{error:r}=yield de.from("app_notices").delete().eq("id",e);if(r)throw r})}hideAppNotice(e,r){return T(this,null,function*(){const{error:n}=yield de.from("user_hidden_notices").insert({user_id:e,notice_id:r});n&&console.error("Failed to hide notice",n)})}}const oe=new r1e,x6="AIzaSyDqIqhEmKO1l8yWyTwOlNDG_I_KJ_GKOm4",Bp="qseek77@gmail.com",v6="d5a9498cedf6ffb73e6d6ca18ac82abf",n1e="service_k3ap3ex",a1e="template_ag9on2o",s1e="qSoMXcdWKL0wG-YVh",i1e=zs("CapacitorNaverLogin",{web:()=>Ni(()=>import("./web-BWGqjqMx.js"),[],import.meta.url).then(t=>new t.CapacitorNaverLoginWeb)}),V3=zs("KakaoLoginPlugin",{web:()=>Ni(()=>import("./web-CFXIn51T.js"),[],import.meta.url).then(t=>new t.KakaoLoginPluginWeb)}),nc=zs("PushNotifications",{}),w6=t=>{if(!t)return"";const e=t.split("@")[0];if(e.length<=3)return e+"*****";const r=e.substring(0,3),n="*".repeat(e.length-3);return r+n},G3=(t,e=!1)=>{if(!t)return"";if(typeof t=="object"&&t.nickname)return t.nickname;const r=typeof t=="object"?t.email:t;return r?e?r.split("@")[0]:w6(r):""},cd=(t,e,r,n)=>{const s=Mg(r-t),l=Mg(n-e),u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(Mg(t))*Math.cos(Mg(r))*Math.sin(l/2)*Math.sin(l/2);return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},Mg=t=>t*(Math.PI/180),W3=(t,e)=>{const r=t.split(".").map(Number),n=e.split(".").map(Number);for(let a=0;a<Math.max(r.length,n.length);a++){const s=r[a]||0,l=n[a]||0;if(s>l)return 1;if(s<l)return-1}return 0},zp=t=>t>=1e3?`${(t/1e3).toFixed(1)}km`:`${Math.round(t)}m`,o1e=(t,e,r=1)=>{const n='<circle cx="12" cy="7" r="2.5" fill="white" stroke="white" stroke-width="0.5"/><path d="M7 12 C7 10 17 10 17 12 L17 18 C17 19 16 20 15 20 L14 20 L14 23 C14 24 13 24 13 23 L13 20 L11 20 L11 23 C11 24 10 24 10 23 L10 20 L9 20 C8 20 7 19 7 18 Z" fill="none" stroke="white" stroke-width="1.5" />',a='<circle cx="12" cy="7" r="2.5" fill="white" stroke="white" stroke-width="0.5"/><path d="M12 10 L8 20 L16 20 Z" fill="none" stroke="white" stroke-width="1.5" stroke-linejoin="round" /><line x1="12" y1="20" x2="12" y2="23" stroke="white" stroke-width="1.5" />';let s="";t===ft.MALE?s=`<g transform="translate(6.8, 5) scale(1.1)">${n}</g>`:t===ft.FEMALE?s=`<g transform="translate(6.8, 5) scale(1.1)">${a}</g>`:s=`<g transform="translate(0, 6) scale(0.9)">${n}</g><g transform="translate(14, 6) scale(0.9)">${a}</g><line x1="20" y1="10" x2="20" y2="24" stroke="white" stroke-width="1" opacity="0.5" />`;const l=`<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" opacity="${r}"><defs><filter id="shadow" x="-20%" y="-20%" width="140%" height="140%"><feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.3"/></filter></defs><g filter="url(#shadow)"><path d="M20 40 C20 40 5 25 5 17.5 C5 9.2 11.7 2.5 20 2.5 C28.3 2.5 35 9.2 35 17.5 C35 25 20 40 20 40 Z" fill="${e}" stroke="white" stroke-width="1.5"/>${s}</g></svg>`;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(l.trim())},qw=(t,e,r)=>{const n=e===Be.GUEST;t.source==="user"||t.type;const a=t.hasPassword,s=t.genderType,l=t.creatorRole===Be.ADMIN||t.creatorRole===Be.VIP,d=(t.source==="admin"||t.createdBy==="admin"||l)&&!a;if(n&&!d)return s===ft.MALE?"/images/pins/Non_member_man_pin.png":s===ft.FEMALE?"/images/pins/Non-member_woman__pin.png":"/images/pins/Non-member_uni__pin.png";let h="uni";s===ft.MALE?h="man":s===ft.FEMALE&&(h="woman");const m=a?"_lock":"",p=r?"_near":"";return!m&&!p?`/images/pins/${h}__pin.png`:`/images/pins/${h}${p}${m}_pin.png`},Y3=t=>{if(!t)return"-";const e=new Date(t);return isNaN(e.getTime())?"-":e.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})},rh=t=>{const r=Math.floor((new Date().getTime()-t.getTime())/1e3);if(r<60)return" ";const n=Math.floor(r/60);if(n<60)return`${n} `;const a=Math.floor(n/60);if(a<24)return`${a} `;const s=Math.floor(a/24);return s<7?`${s} `:t.toLocaleDateString("ko-KR",{month:"short",day:"numeric"})},X3=({className:t})=>i.jsx("img",{src:"/images/app/ddong-icon.png",alt:"Logo",className:t}),j6=({type:t,className:e})=>{const r=t==="MALE"?"/images/icons/Man_boxicon.png":t==="FEMALE"?"/images/icons/Woman_boxicon.png":"/images/icons/uni_boxicon.png";return i.jsx("img",{src:r,alt:t,className:e})};var Z3;(function(t){t.General="General",t.ParentalGuidance="ParentalGuidance",t.Teen="Teen",t.MatureAudience="MatureAudience"})(Z3||(Z3={}));var J3;(function(t){t.SizeChanged="bannerAdSizeChanged",t.Loaded="bannerAdLoaded",t.FailedToLoad="bannerAdFailedToLoad",t.Opened="bannerAdOpened",t.Closed="bannerAdClosed",t.AdImpression="bannerAdImpression"})(J3||(J3={}));var Qu;(function(t){t.TOP_CENTER="TOP_CENTER",t.CENTER="CENTER",t.BOTTOM_CENTER="BOTTOM_CENTER"})(Qu||(Qu={}));var Bw;(function(t){t.BANNER="BANNER",t.FULL_BANNER="FULL_BANNER",t.LARGE_BANNER="LARGE_BANNER",t.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",t.LEADERBOARD="LEADERBOARD",t.ADAPTIVE_BANNER="ADAPTIVE_BANNER",t.SMART_BANNER="SMART_BANNER"})(Bw||(Bw={}));var Q3;(function(t){t.Loaded="interstitialAdLoaded",t.FailedToLoad="interstitialAdFailedToLoad",t.Showed="interstitialAdShowed",t.FailedToShow="interstitialAdFailedToShow",t.Dismissed="interstitialAdDismissed"})(Q3||(Q3={}));var eT;(function(t){t.Loaded="onRewardedInterstitialAdLoaded",t.FailedToLoad="onRewardedInterstitialAdFailedToLoad",t.Showed="onRewardedInterstitialAdShowed",t.FailedToShow="onRewardedInterstitialAdFailedToShow",t.Dismissed="onRewardedInterstitialAdDismissed",t.Rewarded="onRewardedInterstitialAdReward"})(eT||(eT={}));var Fp;(function(t){t.Loaded="onRewardedVideoAdLoaded",t.FailedToLoad="onRewardedVideoAdFailedToLoad",t.Showed="onRewardedVideoAdShowed",t.FailedToShow="onRewardedVideoAdFailedToShow",t.Dismissed="onRewardedVideoAdDismissed",t.Rewarded="onRewardedVideoAdReward"})(Fp||(Fp={}));var tT;(function(t){t.NOT_REQUIRED="NOT_REQUIRED",t.OBTAINED="OBTAINED",t.REQUIRED="REQUIRED",t.UNKNOWN="UNKNOWN"})(tT||(tT={}));var rT;(function(t){t[t.DISABLED=0]="DISABLED",t[t.EEA=1]="EEA",t[t.NOT_EEA=2]="NOT_EEA"})(rT||(rT={}));const Ss=zs("AdMob",{web:()=>Ni(()=>import("./web-DsE0BZkK.js"),[],import.meta.url).then(t=>new t.AdMobWeb)}),l1e=!1,Ru={BANNER:"ca-app-pub-3940256099942544/6300978111",INTERSTITIAL:"ca-app-pub-3940256099942544/1033173712",REWARD:"ca-app-pub-3940256099942544/5224354917",REWARD_INTERSTITIAL:"ca-app-pub-3940256099942544/5354046379",APP_OPEN:"ca-app-pub-3940256099942544/3419835294",NATIVE:"ca-app-pub-3940256099942544/2247696110"};class c1e{constructor(){this.isInitialized=!1,this.initPromise=null}initialize(e){return T(this,null,function*(){if(!this.isInitialized)return this.initPromise?this.initPromise:(this.initPromise=T(this,null,function*(){try{yield Ss.initialize({initializeForTesting:e!=null?e:l1e}),this.isInitialized=!0,console.log("AdMob initialized")}catch(r){console.error("AdMob init failed",r)}}),this.initPromise)})}getAdId(e){return T(this,null,function*(){var s;const r=yield oe.getAdConfig(),n=r.testMode;let a="";if(n)switch(e){case"banner":a=Ru.BANNER;break;case"interstitial":a=Ru.INTERSTITIAL;break;case"reward":a=Ru.REWARD;break;case"rewardInterstitial":a=Ru.REWARD_INTERSTITIAL;break;case"appOpen":a=Ru.APP_OPEN;break;case"native":a=Ru.NATIVE;break}else a=((s=r.adMobIds)==null?void 0:s[e])||"";return{id:a,isTest:n}})}showBanner(e,r){return T(this,null,function*(){try{const{id:n,isTest:a}=yield this.getAdId("banner");if(!n)return;yield this.initialize(a),yield Ss.showBanner({adId:n,adSize:Bw.ADAPTIVE_BANNER,position:e,margin:(r==null?void 0:r.margin)||0,isTesting:a,npa:!0})}catch(n){console.error("Show Banner failed",n)}})}showBottomBanner(){return T(this,null,function*(){return this.showBanner(Qu.BOTTOM_CENTER,{margin:0})})}hideBanner(){return T(this,null,function*(){try{yield Ss.hideBanner()}catch(e){}})}removeBanner(){return T(this,null,function*(){try{yield Ss.removeBanner()}catch(e){}})}prepareInterstitial(){return T(this,null,function*(){try{const{id:e,isTest:r}=yield this.getAdId("interstitial");if(!e)return;yield this.initialize(r),yield Ss.prepareInterstitial({adId:e,isTesting:r,npa:!0})}catch(e){console.error("Prepare Interstitial Failed",e)}})}showInterstitial(){return T(this,null,function*(){try{const{id:e,isTest:r}=yield this.getAdId("interstitial");return e?(yield this.initialize(r),yield Ss.prepareInterstitial({adId:e,isTesting:r}),yield Ss.showInterstitial(),!0):!1}catch(e){return console.error("Show Interstitial Failed",e),!1}})}prepareRewardVideo(){return T(this,null,function*(){})}showRewardVideo(){return T(this,null,function*(){try{const{id:e,isTest:r}=yield this.getAdId("reward");return e?en.getPlatform()==="web"?(console.log(" Web Simulation: Reward Video (Testing Check:",r,")"),yield new Promise(n=>setTimeout(n,1e3)),confirm(`[Web Test]   ? (: ${r?"":""})`)?{type:"coin",amount:10}:null):new Promise(n=>T(this,null,function*(){let a=null,s,l;s=yield Ss.addListener(Fp.Rewarded,u=>{a=u}),l=yield Ss.addListener(Fp.Dismissed,()=>{s&&s.remove(),l&&l.remove(),n(a)});try{yield this.initialize(r),yield Ss.prepareRewardVideoAd({adId:e,isTesting:r,npa:!0}),yield Ss.showRewardVideoAd()}catch(u){console.error("Show Reward failed",u),s&&s.remove(),l&&l.remove(),n(null)}})):null}catch(e){return console.error(e),null}})}}const yc=new c1e;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d1e=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),nT=t=>{const e=d1e(t);return e.charAt(0).toUpperCase()+e.slice(1)},N6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),f1e=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=x.forwardRef((h,d)=>{var m=h,{color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l}=m,u=Su(m,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return x.createElement("svg",J(J(je(J({ref:d},h1e),{width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:N6("lucide",a)}),!s&&!f1e(u)&&{"aria-hidden":"true"}),u),[...l.map(([p,b])=>x.createElement(p,b)),...Array.isArray(s)?s:[s]])});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const r=x.forwardRef((l,s)=>{var u=l,{className:n}=u,a=Su(u,["className"]);return x.createElement(m1e,J({ref:s,iconNode:e,className:N6(`lucide-${u1e(nT(t))}`,`lucide-${t}`,n)},a))});return r.displayName=nT(t),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],p1e=qe("apple",g1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1e=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ki=qe("arrow-left",b1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ao=qe("arrow-right",y1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hp=qe("award",_1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zw=qe("ban",x1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1e=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],so=qe("bell",v1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1e=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],j1e=qe("book-open",w1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],aT=qe("building-2",N1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Aj=qe("calendar",k1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],k6=qe("camera",S1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S6=qe("chart-column",E1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],sT=qe("check-check",A1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fs=qe("check",T1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],C1e=qe("chevron-down",O1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ud=qe("chevron-right",$1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fh=qe("chevron-left",P1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D1e=qe("chevron-up",R1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tj=qe("circle-alert",L1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kc=qe("circle-check-big",I1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gf=qe("circle-check",M1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bh=qe("circle-play",U1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E6=qe("circle-question-mark",q1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],A6=qe("circle-x",B1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kp=qe("coins",z1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],hh=qe("crosshair",F1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1e=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],iT=qe("crown",H1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V1e=qe("database",K1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],W1e=qe("delete",G1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1e=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],X1e=qe("door-closed",Y1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Oj=qe("download",Z1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],T6=qe("external-link",J1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eje=qe("eye-off",Q1e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tje=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mh=qe("eye",tje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rje=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wl=qe("file-text",rje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nje=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],O6=qe("flag",nje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aje=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],sje=qe("footprints",aje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ije=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oje=qe("funnel",ije);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lje=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tb=qe("gift",lje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cje=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oT=qe("globe",cje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uje=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],dje=qe("heart",uje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fje=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hje=qe("house",fje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mje=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gje=qe("image",mje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pje=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vp=qe("info",pje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bje=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yje=qe("layout-grid",bje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _je=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xje=qe("list",_je);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vje=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ht=qe("loader-circle",vje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wje=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],jje=qe("lock-open",wje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nje=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jl=qe("lock",Nje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kje=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C6=qe("log-out",kje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sje=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gs=qe("map-pin",Sje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eje=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Fw=qe("map",Eje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aje=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],wx=qe("megaphone",Aje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tje=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$6=qe("menu",Tje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oje=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],Cj=qe("message-square-quote",Oje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cje=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P6=qe("message-square",Cje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $je=[["path",{d:"M5 12h14",key:"1ays0h"}]],Hw=qe("minus",$je);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pje=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Rje=qe("moon",Pje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dje=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Lje=qe("pause",Dje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ije=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Gp=qe("pen-tool",Ije);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mje=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$j=qe("pen",Mje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uje=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],lT=qe("play",Uje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qje=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_c=qe("plus",qje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bje=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wp=qe("refresh-cw",Bje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zje=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Fje=qe("rotate-ccw",zje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hje=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pj=qe("save",Hje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kje=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Vje=qe("scroll-text",Kje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gje=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nl=qe("search",Gje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wje=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Kw=qe("send",Wje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yje=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R6=qe("settings",Yje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xje=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],D6=qe("share-2",Xje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zje=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],L6=qe("shield-alert",Zje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jje=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rj=qe("shield",Jje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qje=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Dj=qe("smartphone",Qje);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eNe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],I6=qe("square-pen",eNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tNe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$r=qe("star",tNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rNe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nNe=qe("sun",rNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aNe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],M6=qe("thumbs-up",aNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sNe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kr=qe("trash-2",sNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iNe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],oNe=qe("trending-down",iNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lNe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dd=qe("trending-up",lNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cNe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],io=qe("triangle-alert",cNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uNe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yl=qe("upload",uNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dNe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vw=qe("user-plus",dNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fNe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],hNe=qe("user-x",fNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mNe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],to=qe("user",mNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gNe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zh=qe("users",gNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pNe=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],bNe=qe("waves",pNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yNe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xt=qe("x",yNe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ne=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xNe=qe("zap",_Ne),U6=({isOpen:t,onClose:e,onReward:r,adType:n="reward",triggerType:a="unlock"})=>{const[s,l]=x.useState(!0),[u,d]=x.useState(!1),[h,m]=x.useState(!1),[p,b]=x.useState(15),[y,_]=x.useState(15),[w,j]=x.useState(!1),[k,E]=x.useState([]),[S,P]=x.useState(null),C=x.useRef(15),I=x.useRef(15),$=x.useRef(null),B=x.useRef(null),H=x.useRef([]);x.useEffect(()=>{if(t)l(!0),d(!1),m(!1),j(!1),E([]),H.current=[],$.current=null,D();else if($.current){try{$.current.destroy()}catch(V){}$.current=null}},[t]),x.useEffect(()=>{let V;return u&&w&&y>0?V=setInterval(()=>{_(Z=>{const U=Z-1;return I.current=U,U})},1e3):u&&y<=0&&m(!0),()=>clearInterval(V)},[u,w,y]);const se=V=>{if(!V)return null;const Z=V.trim();if(Z.length===0)return null;if(/^[a-zA-Z0-9_-]{11}$/.test(Z))return Z;const U=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,K=Z.match(U);if(K&&K[2].length===11)return K[2];const W=/^.*(youtube.com\/shorts\/)([^#&?]*).*/,X=Z.match(W);return X&&X[2].length===11?X[2]:null},D=()=>T(null,null,function*(){try{const V=yield oe.getAdConfig();P(V);let Z=15;if(a==="unlock"?Z=V.durationUnlock||15:a==="point"?Z=V.durationPoint||15:a==="navigation"&&(Z=V.durationNavigation||5),b(Z),_(Z),C.current=Z,I.current=Z,(V.interstitialSource||"admob")==="youtube"){const K=V.youtubeUrls||[],W=[];if(K.forEach(X=>{const Q=se(X);Q&&W.push(Q)}),W.length>0){const X=[...W].sort(()=>Math.random()-.5);E(X),H.current=X,d(!0),l(!1)}else R(V.testMode)}else R(V.testMode)}catch(V){console.error("Ad Decision Failed",V),e()}}),R=V=>T(null,null,function*(){try{n==="reward"?(yield yc.showRewardVideo())&&r&&r():yield yc.showInterstitial()}catch(Z){console.error("AdMob Playback Failed:",Z)}finally{e()}}),L=()=>{r&&r(),e()};return x.useEffect(()=>{if(!u||k.length===0)return;let V;const Z=()=>{var W;if(B.current)if(window.YT)U(k);else{const X=document.createElement("script");X.src="https://www.youtube.com/iframe_api";const Q=document.getElementsByTagName("script")[0];(W=Q.parentNode)==null||W.insertBefore(X,Q),window.onYouTubeIframeAPIReady=()=>{U(k)}}},U=W=>{$.current||($.current=new window.YT.Player("youtube-player-container",{height:"100%",width:"100%",playerVars:{autoplay:1,controls:0,disablekb:1,fs:0,modestbranding:1,playsinline:1,rel:0,showinfo:0,iv_load_policy:3,origin:window.location.origin},events:{onReady:X=>{X.target.loadPlaylist({playlist:W,index:0,startSeconds:0}),X.target.setLoop(!0)},onStateChange:X=>{X.data===1?(j(!0),V&&clearTimeout(V)):X.data===0?console.log("Video Ended. Loop should continue."):j(!1)},onError:X=>{console.error("YT Player Error",X)}}}))};Z();const K=p*1e3+15e3;return V=setTimeout(()=>{console.warn("Ad Safety Timer Triggered"),m(!0)},K),()=>clearTimeout(V)},[u,k]),t?s?i.jsx("div",{className:"fixed inset-0 z-[3000] bg-black/90 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"text-white text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary-500/30 border-t-primary-500 rounded-full animate-spin mx-auto mb-4 shadow-[0_0_15px_rgba(59,130,246,0.5)]"}),i.jsx("p",{className:"text-sm font-medium text-white/70 animate-pulse",children:" ..."})]})}):u?i.jsx("div",{className:"fixed inset-0 z-[3000] bg-black flex flex-col items-center justify-center font-sans",children:i.jsxs("div",{className:"w-full h-full max-w-md bg-black relative flex flex-col items-center justify-center overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-start z-[60]",children:[i.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10 flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-white/90 text-[11px] font-bold tracking-tight uppercase",children:"Sponsored"})]}),h?i.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full transition-all active:scale-95 shadow-lg shadow-green-500/30 animate-in slide-in-from-top-4 duration-300 pointer-events-auto cursor-pointer",children:[i.jsx("span",{className:"text-sm font-black",children:n==="reward"?" ":""}),i.jsx("div",{className:"w-px h-3 bg-white/30 mx-1"}),i.jsx(Xt,{className:"w-5 h-5"})]}):i.jsxs("div",{className:"bg-black/60 backdrop-blur-md px-4 py-2 rounded-full border border-white/20 flex items-center gap-2",children:[i.jsx("span",{className:"text-white text-sm font-black tabular-nums",children:y}),i.jsx("div",{className:"w-px h-3 bg-white/20"}),i.jsx("span",{className:"text-white/70 text-xs font-medium",children:w?" ...":"/ ..."})]})]}),i.jsx("div",{className:"w-full h-full flex items-center justify-center relative",children:i.jsxs("div",{ref:B,className:"w-full aspect-[9/16] bg-black relative overflow-hidden flex items-center justify-center",children:[i.jsx("div",{className:"w-full h-full absolute inset-0 transform scale-[1.35] origin-center pointer-events-none",children:i.jsx("div",{id:"youtube-player-container",className:"w-full h-full pointer-events-auto"})}),!w&&!h&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-[5] pointer-events-none",children:i.jsx("div",{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),!h&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-white/10 z-50",children:i.jsx("div",{className:"h-full bg-primary-500 transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${(C.current-y)/C.current*100}%`}})}),i.jsx("div",{className:"absolute inset-0 z-10 bg-transparent"})]})})]})}):null:null};function vNe({open:t,onClose:e}){const{t:r}=nn();return t?i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 ring-1 ring-border/50 relative max-h-[85vh] overflow-y-auto no-scrollbar",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/5 hover:bg-black/10 dark:bg-white/5 dark:hover:bg-white/10 rounded-full transition-colors z-10",children:i.jsx(Xt,{className:"w-5 h-5 text-text-muted"})}),i.jsx("div",{className:"pt-8"}),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("h2",{className:"text-2xl font-black text-text-main dark:text-text-light mb-2 tracking-tight",dangerouslySetInnerHTML:{__html:r("welcome_title"," <br />! ")}}),i.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-bold mb-4",children:r("welcome_subtitle",'"     ."')}),i.jsxs("div",{className:"text-text-muted text-sm leading-relaxed mb-8 space-y-1",children:[i.jsx("p",{dangerouslySetInnerHTML:{__html:r("welcome_bonus",'  <span className="text-urgency font-bold">50 </span> .')}}),i.jsx("p",{children:r("welcome_msg_1","   ,")}),i.jsx("p",{children:r("welcome_msg_2","    ~")})]}),i.jsx("button",{onClick:e,className:"w-full py-4 bg-primary hover:bg-primary-500 text-white rounded-2xl font-bold text-lg transition-all transform active:scale-95 flex items-center justify-center gap-2",children:i.jsx("span",{children:r("welcome_btn","  ")})}),i.jsx("div",{className:"h-4"})]}),en.isNativePlatform()&&i.jsx("div",{className:"pb-10 mb-2 text-center",children:i.jsx("p",{className:"text-[10px] text-gray-300 dark:text-gray-600 font-medium",children:"Powered by Q"})})]})}):null}const rb=({position:t="bottom",className:e="",maxHeight:r,minRatio:n,maxRatio:a,isInline:s=!1,margin:l=0,type:u="BANNER"})=>{const[d,h]=x.useState(!1),[m,p]=x.useState(null),[b,y]=x.useState("admob");return x.useEffect(()=>{T(null,null,function*(){const w=yield oe.getAdConfig();if(w.bannersEnabled===!1){h(!1);return}if(y(w.bannerSource),h(!0),w.bannerSource==="custom"){const j=w.customBanners.filter(k=>(k.type||"BANNER")===u);if(j.length>0){const k=j[Math.floor(Math.random()*j.length)];p(k)}else w.customBanners.length===0?y("admob"):h(!1)}})},[u]),x.useEffect(()=>{if(!d||b!=="admob"){b==="custom"&&yc.hideBanner();return}return T(null,null,function*(){t==="top"?Qu.TOP_CENTER:Qu.BOTTOM_CENTER,u==="BANNER"&&(t==="bottom"?yc.showBottomBanner():yc.showBanner(Qu.TOP_CENTER,{margin:l}))}),()=>{}},[d,b,t,l,u]),d&&b==="custom"&&m?i.jsxs("a",{href:m.targetUrl,target:"_blank",rel:"noreferrer",className:`block overflow-hidden relative ${e}`,style:{height:r?`${r}px`:void 0},children:[i.jsx("img",{src:m.imageUrl,alt:"Advertisement",className:"w-full h-full object-cover"}),i.jsx("span",{className:"absolute top-0 right-0 bg-black/20 text-[9px] text-white px-1",children:"AD"})]}):null},wNe=({type:t,storeUrl:e,message:r,onClose:n})=>{const a=()=>{window.open(e,"_system")};return i.jsx("div",{className:"fixed inset-0 bg-black/80 z-[99999] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:`p-8 pb-6 flex flex-col items-center text-center ${t==="force"?"bg-red-50":"bg-blue-50"}`,children:[i.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center mb-6 shadow-sm ${t==="force"?"bg-white text-red-500":"bg-white text-blue-500"}`,children:t==="force"?i.jsx(io,{className:"w-10 h-10"}):i.jsx(Dj,{className:"w-10 h-10"})}),i.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:t==="force"?"  ":"  "}),i.jsx("p",{className:"text-gray-600 font-medium",children:t==="force"?"    .":"   !"})]}),i.jsxs("div",{className:"p-8 pt-6",children:[i.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 mb-8 text-center",children:i.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed text-sm",children:r})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:a,className:`w-full py-4 text-white rounded-xl font-bold text-lg shadow-lg hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 ${t==="force"?"bg-red-600 hover:bg-red-700 shadow-red-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}`,children:["  ",i.jsx(ao,{className:"w-5 h-5"})]}),t==="optional"&&i.jsx("button",{onClick:n,className:"w-full py-4 text-gray-500 font-bold text-sm hover:text-gray-700 transition-colors",children:" "})]})]})]})})},jNe=({isMenuOpen:t,setIsMenuOpen:e,activeSection:r,setActiveSection:n,subSection:a,setSubSection:s})=>{const l=[{id:"dashboard",icon:S6,label:"",subItems:null},{id:"users",icon:zh,label:" ",subItems:[{id:"user-list",label:" "},{id:"user-stats",label:" "},{id:"visitor-stats",label:" "},{id:"banned-users",label:"  "},{id:"withdrawn-users",label:"  "}]},{id:"toilets",icon:gs,label:" ",subItems:[{id:"toilet-map",label:"  "},{id:"toilet-chart",label:" "},{id:"toilet-bulk",label:" "},{id:"toilet-bulk-conversion",label:" "},{id:"toilet-list",label:" "}]},{id:"ads",icon:Bh,label:" ",subItems:[{id:"ad-config",label:" "},{id:"ad-performance",label:" "}]},{id:"reports",icon:io,label:" ",subItems:null},{id:"reviews",icon:$r,label:" ",subItems:null},{id:"notifications",icon:so,label:" ",subItems:[{id:"auto-notifications",label:"  "},{id:"push-notifications",label:"  "},{id:"notices",label:" "}]},{id:"version",icon:Dj,label:"  ",subItems:null},{id:"credit-management",icon:Kp,label:" ",subItems:[{id:"policy-settings",label:" "},{id:"credit-stats",label:" "}]},{id:"data",icon:R6,label:" ",subItems:null}],u=(d,h)=>{h?window.location.hash=`#/admin?section=${d}&sub=${h}`:window.location.hash=`#/admin?section=${d}`};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`fixed inset-y-0 right-0 w-64 bg-white shadow-2xl z-50 transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:[i.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-900 text-white",children:[i.jsx("span",{className:"font-bold",children:" "}),i.jsx("button",{onClick:()=>e(!1),children:i.jsx(Xt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-2 space-y-1 overflow-y-auto h-[calc(100vh-120px)]",children:[l.map(d=>i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>{if(d.subItems)if(r===d.id){if(!a){const h=d.subItems[0].id;u(d.id,h)}}else{const h=d.subItems[0].id;u(d.id,h)}else u(d.id),s(""),e(!1)},className:`w-full flex items-center justify-between gap-3 p-3 rounded-xl font-medium transition-colors ${r===d.id?"bg-amber-100 text-amber-800":"hover:bg-gray-50 text-gray-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(d.icon,{className:"w-5 h-5"}),i.jsx("span",{children:d.label})]}),d.subItems&&i.jsx(ud,{className:`w-4 h-4 transition-transform ${r===d.id?"rotate-90":""}`})]}),d.subItems&&r===d.id&&i.jsx("div",{className:"ml-8 mt-1 space-y-1",children:d.subItems.map(h=>i.jsx("button",{onClick:()=>{h.id==="toilet-bulk-conversion"?u(d.id,"bulk-conversion"):u(d.id,h.id),e(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${a===h.id?"bg-amber-50 text-amber-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:h.label},h.id))})]},d.id)),i.jsx("div",{className:"border-t border-gray-100 my-2 pt-2",children:i.jsxs("button",{onClick:()=>window.location.hash="#/my",className:"w-full flex items-center gap-3 p-3 text-gray-500 hover:bg-gray-50 rounded-xl",children:[i.jsx(C6,{className:"w-5 h-5"})," "]})})]})]}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>e(!1)})]})};function q6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=q6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=q6(t))&&(n&&(n+=" "),n+=e);return n}var NNe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lj(t){if(typeof t!="string")return!1;var e=NNe;return e.includes(t)}var kNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SNe=new Set(kNe);function B6(t){return typeof t!="string"?!1:SNe.has(t)}function z6(t){return typeof t=="string"&&t.startsWith("data-")}function da(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(B6(r)||z6(r))&&(e[r]=t[r]);return e}function Sc(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return da(e)}return typeof t=="object"&&!Array.isArray(t)?da(t):null}function aa(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(B6(r)||z6(r)||Lj(r))&&(e[r]=t[r]);return e}function ENe(t){return t==null?null:x.isValidElement(t)?aa(t.props):typeof t=="object"&&!Array.isArray(t)?aa(t):null}var ANe=["children","width","height","viewBox","className","style","title","desc"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(null,arguments)}function TNe(t,e){if(t==null)return{};var r,n,a=ONe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function ONe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ij=x.forwardRef((t,e)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:h}=t,m=TNe(t,ANe),p=s||{width:n,height:a,x:0,y:0},b=qt("recharts-surface",l);return x.createElement("svg",Gw({},aa(m),{className:b,width:n,height:a,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),x.createElement("title",null,d),x.createElement("desc",null,h),r)}),CNe=["children","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(null,arguments)}function $Ne(t,e){if(t==null)return{};var r,n,a=PNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function PNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Vr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,a=$Ne(t,CNe),s=qt("recharts-layer",n);return x.createElement("g",Ww({className:s},aa(a),{ref:e}),r)}),Mj=H$(),F6=x.createContext(null),RNe=()=>x.useContext(F6);function pr(t){return function(){return t}}const H6=Math.cos,Yp=Math.sin,Fs=Math.sqrt,Xp=Math.PI,nb=2*Xp,Yw=Math.PI,Xw=2*Yw,lc=1e-6,DNe=Xw-lc;function K6(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function LNe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return K6;const r=ku(10,e);return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class INe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?K6:LNe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-e,h=a-r,m=l-e,p=u-r,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(b>lc)if(!(Math.abs(p*d-h*m)>lc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-l,_=a-u,w=d*d+h*h,j=y*y+_*_,k=Math.sqrt(w),E=Math.sqrt(b),S=s*Math.tan((Yw-Math.acos((w+b-j)/(2*k*E)))/2),P=S/E,C=S/k;Math.abs(P-1)>lc&&this._append`L${e+P*m},${r+P*p}`,this._append`A${s},${s},0,0,${+(p*y>m*_)},${this._x1=e+C*d},${this._y1=r+C*h}`}}arc(e,r,n,a,s,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),h=e+u,m=r+d,p=1^l,b=l?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>lc||Math.abs(this._y1-m)>lc)&&this._append`L${h},${m}`,n&&(b<0&&(b=b%Xw+Xw),b>DNe?this._append`A${n},${n},0,1,${p},${e-u},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:b>lc&&this._append`A${n},${n},0,${+(b>=Yw)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Uj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new INe(e)}function qj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V6(t){this._context=t}V6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ab(t){return new V6(t)}function G6(t){return t[0]}function W6(t){return t[1]}function Y6(t,e){var r=pr(!0),n=null,a=ab,s=null,l=Uj(u);t=typeof t=="function"?t:t===void 0?G6:pr(t),e=typeof e=="function"?e:e===void 0?W6:pr(e);function u(d){var h,m=(d=qj(d)).length,p,b=!1,y;for(n==null&&(s=a(y=l())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,h,d),+e(p,h,d));if(y)return s=null,y+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:pr(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:pr(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:pr(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Ug(t,e,r){var n=null,a=pr(!0),s=null,l=ab,u=null,d=Uj(h);t=typeof t=="function"?t:t===void 0?G6:pr(+t),e=typeof e=="function"?e:pr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?W6:pr(+r);function h(p){var b,y,_,w=(p=qj(p)).length,j,k=!1,E,S=new Array(w),P=new Array(w);for(s==null&&(u=l(E=d())),b=0;b<=w;++b){if(!(b<w&&a(j=p[b],b,p))===k)if(k=!k)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=b-1;_>=y;--_)u.point(S[_],P[_]);u.lineEnd(),u.areaEnd()}k&&(S[b]=+t(j,b,p),P[b]=+e(j,b,p),u.point(n?+n(j,b,p):S[b],r?+r(j,b,p):P[b]))}if(E)return u=null,E+""||null}function m(){return Y6().defined(a).curve(l).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:pr(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:pr(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:pr(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:pr(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:pr(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:pr(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(r)},h.lineX1=function(){return m().x(n).y(e)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:pr(!!p),h):a},h.curve=function(p){return arguments.length?(l=p,s!=null&&(u=l(s)),h):l},h.context=function(p){return arguments.length?(p==null?s=u=null:u=l(s=p),h):s},h}class X6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function MNe(t){return new X6(t,!0)}function UNe(t){return new X6(t,!1)}const Bj={draw(t,e){const r=Fs(e/Xp);t.moveTo(r,0),t.arc(0,0,r,0,nb)}},qNe={draw(t,e){const r=Fs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Z6=Fs(1/3),BNe=Z6*2,zNe={draw(t,e){const r=Fs(e/BNe),n=r*Z6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},FNe={draw(t,e){const r=Fs(e),n=-r/2;t.rect(n,n,r,r)}},HNe=.8908130915292852,J6=Yp(Xp/10)/Yp(7*Xp/10),KNe=Yp(nb/10)*J6,VNe=-H6(nb/10)*J6,GNe={draw(t,e){const r=Fs(e*HNe),n=KNe*r,a=VNe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const l=nb*s/5,u=H6(l),d=Yp(l);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},jx=Fs(3),WNe={draw(t,e){const r=-Fs(e/(jx*3));t.moveTo(0,r*2),t.lineTo(-jx*r,-r),t.lineTo(jx*r,-r),t.closePath()}},ns=-.5,as=Fs(3)/2,Zw=1/Fs(12),YNe=(Zw/2+1)*3,XNe={draw(t,e){const r=Fs(e/YNe),n=r/2,a=r*Zw,s=n,l=r*Zw+r,u=-s,d=l;t.moveTo(n,a),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(ns*n-as*a,as*n+ns*a),t.lineTo(ns*s-as*l,as*s+ns*l),t.lineTo(ns*u-as*d,as*u+ns*d),t.lineTo(ns*n+as*a,ns*a-as*n),t.lineTo(ns*s+as*l,ns*l-as*s),t.lineTo(ns*u+as*d,ns*d-as*u),t.closePath()}};function ZNe(t,e){let r=null,n=Uj(a);t=typeof t=="function"?t:pr(t||Bj),e=typeof e=="function"?e:pr(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:pr(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:pr(+s),a):e},a.context=function(s){return arguments.length?(r=s==null?null:s,a):r},a}function Zp(){}function Jp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Q6(t){this._context=t}Q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JNe(t){return new Q6(t)}function eR(t){this._context=t}eR.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QNe(t){return new eR(t)}function tR(t){this._context=t}tR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e2e(t){return new tR(t)}function rR(t){this._context=t}rR.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function t2e(t){return new rR(t)}function cT(t){return t<0?-1:1}function uT(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(cT(s)+cT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function dT(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Nx(t,e,r){var n=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,a+u*e,s-u,l-u*r,s,l)}function Qp(t){this._context=t}Qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nx(this,this._t0,dT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nx(this,dT(this,r=uT(this,t,e)),r);break;default:Nx(this,this._t0,r=uT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nR(t){this._context=new aR(t)}(nR.prototype=Object.create(Qp.prototype)).point=function(t,e){Qp.prototype.point.call(this,e,t)};function aR(t){this._context=t}aR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function r2e(t){return new Qp(t)}function n2e(t){return new nR(t)}function sR(t){this._context=t}sR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=fT(t),a=fT(e),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fT(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function a2e(t){return new sR(t)}function sb(t,e){this._context=t,this._t=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function s2e(t){return new sb(t,.5)}function i2e(t){return new sb(t,0)}function o2e(t){return new sb(t,1)}function fd(t,e){if((l=t.length)>1)for(var r=1,n,a,s=t[e[0]],l,u=s.length;r<l;++r)for(a=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Jw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function l2e(t,e){return t[e]}function c2e(t){const e=[];return e.key=t,e}function u2e(){var t=pr([]),e=Jw,r=fd,n=l2e;function a(s){var l=Array.from(t.apply(this,arguments),c2e),u,d=l.length,h=-1,m;for(const p of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+n(p,l[u].key,h,s)]).data=p;for(u=0,m=qj(e(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:pr(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:pr(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?Jw:typeof s=="function"?s:pr(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s==null?fd:s,a):r},a}function d2e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}fd(t,e)}}function f2e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=t[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}fd(t,e)}}function h2e(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,h=0;u<l;++u){for(var m=t[e[u]],p=m[n][1]||0,b=m[n-1][1]||0,y=(p-b)/2,_=0;_<u;++_){var w=t[e[_]],j=w[n][1]||0,k=w[n-1][1]||0;y+=j-k}d+=p,h+=y*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,fd(t,e)}}var kx={},Sx={},hT;function m2e(){return hT||(hT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Sx)),Sx}var Ex={},mT;function iR(){return mT||(mT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Ex)),Ex}var Ax={},gT;function zj(){return gT||(gT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Ax)),Ax}var Tx={},Ox={},pT;function g2e(){return pT||(pT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(Ox)),Ox}var bT;function Fj(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g2e(),r=zj();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",h="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const p=a[u];h?p==="\\"&&u+1<l?(u++,d+=a[u]):p===h?h="":d+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,u++}return d&&s.push(d),s}t.toPath=n})(Tx)),Tx}var yT;function Hj(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m2e(),r=iR(),n=zj(),a=Fj();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?r.isDeepKey(d)?s(u,a.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?h:m}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?h:m}}}function l(u,d,h){if(d.length===0)return h;let m=u;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return h;m=m[d[p]]}return m===void 0?h:m}t.get=s})(kx)),kx}var Cx,_T;function p2e(){return _T||(_T=1,Cx=Hj().get),Cx}var b2e=p2e();const Ec=_s(b2e);var Dn=t=>t===0?0:t>0?1:-1,ps=t=>typeof t=="number"&&t!=+t,oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ge=t=>(typeof t=="number"||t instanceof Number)&&!ps(t),bi=t=>Ge(t)||typeof t=="string",y2e=0,gh=t=>{var e=++y2e;return"".concat(t||"").concat(e)},ra=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(e)&&typeof e!="string")return n;var s;if(oo(e)){if(r==null)return n;var l=e.indexOf("%");s=r*parseFloat(e.slice(0,l))/100}else s=+e;return ps(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},oR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function Yt(t,e,r){return Ge(t)&&Ge(e)?t+r*(e-t):e}function lR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Ec(n,e))===r)}var Sr=t=>t===null||typeof t=="undefined",Fh=t=>Sr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _2e(t){return t!=null}function Hh(){}var x2e=["type","size","sizeType"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(null,arguments)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){v2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v2e(t,e,r){return(e=w2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w2e(t){var e=j2e(t,"string");return typeof e=="symbol"?e:e+""}function j2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N2e(t,e){if(t==null)return{};var r,n,a=k2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function k2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cR={symbolCircle:Bj,symbolCross:qNe,symbolDiamond:zNe,symbolSquare:FNe,symbolStar:GNe,symbolTriangle:WNe,symbolWye:XNe},S2e=Math.PI/180,E2e=t=>{var e="symbol".concat(Fh(t));return cR[e]||Bj},A2e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*S2e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*ku(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T2e=(t,e)=>{cR["symbol".concat(Fh(t))]=e},Kj=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,a=N2e(t,x2e),s=vT(vT({},a),{},{type:e,size:r,sizeType:n}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=E2e(l),y=ZNe().type(b).size(A2e(r,n,l)),_=y();if(_!==null)return _},{className:d,cx:h,cy:m}=s,p=aa(s);return Ge(h)&&Ge(m)&&Ge(r)?x.createElement("path",Qw({},p,{className:qt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};Kj.registerSymbol=T2e;var uR=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Vj=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Lj(a)&&(n[a]=(s=>r[a](r,s)))}),n},O2e=(t,e,r)=>n=>(t(e,r,n),null),Kh=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(a=>{var s=t[a];Lj(a)&&typeof s=="function"&&(n||(n={}),n[a]=O2e(s,e,r))}),n};function wT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function C2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(r),!0).forEach(function(n){$2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $2e(t,e,r){return(e=P2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2e(t){var e=R2e(t,"string");return typeof e=="symbol"?e:e+""}function R2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e){var r=C2e({},t),n=e,a=Object.keys(e),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(null,arguments)}function jT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(r),!0).forEach(function(n){L2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L2e(t,e,r){return(e=I2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I2e(t){var e=M2e(t,"string");return typeof e=="symbol"?e:e+""}function M2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var os=32,U2e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function q2e(t){var{data:e,iconType:r,inactiveColor:n}=t,a=os/2,s=os/6,l=os/3,u=e.inactive?n:e.color,d=r!=null?r:e.type;if(d==="none")return null;if(d==="plainline"){var h;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:os,y2:a,className:"recharts-legend-icon"})}if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(os,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(os/8,"h").concat(os,"v").concat(os*3/4,"h").concat(-os,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var m=D2e({},e);return delete m.legendIcon,x.cloneElement(e.legendIcon,m)}return x.createElement(Kj,{fill:u,cx:a,cy:a,size:os,sizeType:"diameter",type:d})}function B2e(t){var{payload:e,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:os,height:os},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var b=m.formatter||a,y=qt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var _=m.inactive?s:m.color,w=b?b(m.value,m,p):m.value;return x.createElement("li",e0({className:y,style:d,key:"legend-item-".concat(p)},Kh(t,m,p)),x.createElement(Ij,{width:r,height:r,viewBox:u,style:h,"aria-label":"".concat(w," legend icon")},x.createElement(q2e,{data:m,iconType:l,inactiveColor:s})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}var z2e=t=>{var e=Gr(t,U2e),{payload:r,layout:n,align:a}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},x.createElement(B2e,e0({},e,{payload:r})))},$x={},Px={},NT;function F2e(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}t.uniqBy=e})(Px)),Px}var Rx={},kT;function dR(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Rx)),Rx}var Dx={},Lx={},Ix={},ST;function H2e(){return ST||(ST=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Ix)),Ix}var ET;function Gj(){return ET||(ET=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H2e();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Lx)),Lx}var Mx={},AT;function K2e(){return AT||(AT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Mx)),Mx}var TT;function V2e(){return TT||(TT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj(),r=K2e();function n(a){return r.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=n})(Dx)),Dx}var Ux={},qx={},OT;function G2e(){return OT||(OT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hj();function r(n){return function(a){return e.get(a,n)}}t.property=r})(qx)),qx}var Bx={},zx={},Fx={},Hx={},CT;function fR(){return CT||(CT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Hx)),Hx}var Kx={},$T;function hR(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Kx)),Kx}var Vx={},PT;function mR(){return PT||(PT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Vx)),Vx}var RT;function W2e(){return RT||(RT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fR(),r=hR(),n=mR();function a(m,p,b){return typeof b!="function"?a(m,p,()=>{}):s(m,p,function y(_,w,j,k,E,S){const P=b(_,w,j,k,E,S);return P!==void 0?!!P:s(_,w,y,S)},new Map)}function s(m,p,b,y){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,y);case"function":return Object.keys(p).length>0?s(m,J({},p),b,y):n.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:n.eq(m,p)}}function l(m,p,b,y){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,y);if(p instanceof Map)return u(m,p,b,y);if(p instanceof Set)return h(m,p,b,y);const _=Object.keys(p);if(m==null||r.isPrimitive(m))return _.length===0;if(_.length===0)return!0;if(y!=null&&y.has(p))return y.get(p)===m;y==null||y.set(p,m);try{for(let w=0;w<_.length;w++){const j=_[w];if(!r.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!b(m[j],p[j],j,m,p,y))return!1}return!0}finally{y==null||y.delete(p)}}function u(m,p,b,y){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[_,w]of p.entries()){const j=m.get(_);if(b(j,w,_,m,p,y)===!1)return!1}return!0}function d(m,p,b,y){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const _=new Set;for(let w=0;w<p.length;w++){const j=p[w];let k=!1;for(let E=0;E<m.length;E++){if(_.has(E))continue;const S=m[E];let P=!1;if(b(S,j,w,m,p,y)&&(P=!0),P){_.add(E),k=!0;break}}if(!k)return!1}return!0}function h(m,p,b,y){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,y):!1}t.isMatchWith=a,t.isSetMatch=h})(Fx)),Fx}var DT;function gR(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W2e();function r(n,a){return e.isMatchWith(n,a,()=>{})}t.isMatch=r})(zx)),zx}var Gx={},Wx={},Yx={},LT;function Y2e(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Yx)),Yx}var Xx={},IT;function pR(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Xx)),Xx}var Zx={},MT;function bR(){return MT||(MT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",_="[object Error]",w="[object DataView]",j="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]",P="[object BigUint64Array]",C="[object Int8Array]",I="[object Int16Array]",$="[object Int32Array]",B="[object BigInt64Array]",H="[object Float32Array]",se="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=B,t.bigUint64ArrayTag=P,t.booleanTag=a,t.dataViewTag=w,t.dateTag=u,t.errorTag=_,t.float32ArrayTag=H,t.float64ArrayTag=se,t.functionTag=p,t.int16ArrayTag=I,t.int32ArrayTag=$,t.int8ArrayTag=C,t.mapTag=d,t.numberTag=n,t.objectTag=y,t.regexpTag=e,t.setTag=h,t.stringTag=r,t.symbolTag=l,t.uint16ArrayTag=E,t.uint32ArrayTag=S,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=k})(Zx)),Zx}var Jx={},UT;function X2e(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(Jx)),Jx}var qT;function yR(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y2e(),r=pR(),n=bR(),a=hR(),s=X2e();function l(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,b,y=new Map,_=void 0){const w=_==null?void 0:_(m,p,b,y);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const j=new Array(m.length);y.set(m,j);for(let k=0;k<m.length;k++)j[k]=u(m[k],k,b,y,_);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;y.set(m,j);for(const[k,E]of m)j.set(k,u(E,k,b,y,_));return j}if(m instanceof Set){const j=new Set;y.set(m,j);for(const k of m)j.add(u(k,void 0,b,y,_));return j}if(typeof Buffer!="undefined"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,j);for(let k=0;k<m.length;k++)j[k]=u(m[k],k,b,y,_);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer!="undefined"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,j),d(j,m,b,y,_),j}if(typeof File!="undefined"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return y.set(m,j),d(j,m,b,y,_),j}if(typeof Blob!="undefined"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return y.set(m,j),d(j,m,b,y,_),j}if(m instanceof Error){const j=new m.constructor;return y.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,d(j,m,b,y,_),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return y.set(m,j),d(j,m,b,y,_),j}if(m instanceof Number){const j=new Number(m.valueOf());return y.set(m,j),d(j,m,b,y,_),j}if(m instanceof String){const j=new String(m.valueOf());return y.set(m,j),d(j,m,b,y,_),j}if(typeof m=="object"&&h(m)){const j=Object.create(Object.getPrototypeOf(m));return y.set(m,j),d(j,m,b,y,_),j}return m}function d(m,p,b=m,y,_){const w=[...Object.keys(p),...e.getSymbols(p)];for(let j=0;j<w.length;j++){const k=w[j],E=Object.getOwnPropertyDescriptor(m,k);(E==null||E.writable)&&(m[k]=u(p[k],k,b,y,_))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Wx)),Wx}var BT;function Z2e(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yR();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(Gx)),Gx}var zT;function J2e(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gR(),r=Z2e();function n(a){return a=r.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=n})(Bx)),Bx}var Qx={},ev={},tv={},FT;function Q2e(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yR(),r=bR();function n(a,s){return e.cloneDeepWith(a,(l,u,d,h)=>{const m=s==null?void 0:s(l,u,d,h);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(p,a),p}case r.argumentsTag:{const p={};return e.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(tv)),tv}var HT;function eke(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q2e();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(ev)),ev}var rv={},nv={},KT;function _R(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(nv)),nv}var av={},VT;function tke(){return VT||(VT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pR();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(av)),av}var GT;function rke(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iR(),r=_R(),n=tke(),a=Fj();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=a.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let m=0;m<d.length;m++){const p=d[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=s})(rv)),rv}var WT;function nke(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gR(),r=zj(),n=eke(),a=Hj(),s=rke();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(h){const m=a.get(h,u);return m===void 0?s.has(h,u):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(Qx)),Qx}var YT;function ake(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dR(),r=G2e(),n=J2e(),a=nke();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}t.iteratee=s})(Ux)),Ux}var XT;function ske(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F2e(),r=dR(),n=V2e(),a=ake();function s(l,u=r.identity){return n.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(u)):[]}t.uniqBy=s})($x)),$x}var sv,ZT;function ike(){return ZT||(ZT=1,sv=ske().uniqBy),sv}var oke=ike();const JT=_s(oke);function xR(t,e,r){return e===!0?JT(t,r):typeof e=="function"?JT(t,e):t}var iv={exports:{}},ov={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function lke(){if(QT)return ov;QT=1;var t=Sd(),e=Z$();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return ov.useSyncExternalStoreWithSelector=function(h,m,p,b,y){var _=s(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=u(function(){function k(I){if(!E){if(E=!0,S=I,I=b(I),y!==void 0&&w.hasValue){var $=w.value;if(y($,I))return P=$}return P=I}if($=P,n(S,I))return $;var B=b(I);return y!==void 0&&y($,B)?(S=I,$):(S=I,P=B)}var E=!1,S,P,C=p===void 0?null:p;return[function(){return k(m())},C===null?void 0:function(){return k(C())}]},[m,p,b,y]);var j=a(h,_[0],_[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},ov}var eO;function cke(){return eO||(eO=1,iv.exports=lke()),iv.exports}var uke=cke(),Wj=x.createContext(null),dke=t=>t,br=()=>{var t=x.useContext(Wj);return t?t.store.dispatch:dke},xp=()=>{},fke=()=>xp,hke=(t,e)=>t===e;function Ye(t){var e=x.useContext(Wj);return uke.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fke,e?e.store.getState:xp,e?e.store.getState:xp,e?t:xp,hke)}function mke(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gke(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pke(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var tO=t=>Array.isArray(t)?t:[t];function bke(t){const e=Array.isArray(t[0])?t[0]:t;return pke(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yke(t,e){const r=[],{length:n}=t;for(let a=0;a<n;a++)r.push(t[a].apply(null,e));return r}var _ke=class{constructor(t){this.value=t}deref(){return this.value}},xke=typeof WeakRef!="undefined"?WeakRef:_ke,vke=0,rO=1;function qg(){return{s:vke,v:void 0,o:null,p:null}}function vR(t,e={}){let r=qg();const{resultEqualityCheck:n}=e;let a,s=0;function l(){var p,b;let u=r;const{length:d}=arguments;for(let y=0,_=d;y<_;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const k=j.get(w);k===void 0?(u=qg(),j.set(w,u)):u=k}else{let j=u.p;j===null&&(u.p=j=new Map);const k=j.get(w);k===void 0?(u=qg(),j.set(w,u)):u=k}}const h=u;let m;if(u.s===rO)m=u.v;else if(m=t.apply(null,arguments),s++,n){const y=(b=(p=a==null?void 0:a.deref)==null?void 0:p.call(a))!=null?b:a;y!=null&&n(y,m)&&(m=y,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new xke(m):m}return h.s=rO,h.v=m,m}return l.clearCache=()=>{r=qg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function wke(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...a)=>{let s=0,l=0,u,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),mke(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m=J(J({},r),d),{memoize:p,memoizeOptions:b=[],argsMemoize:y=vR,argsMemoizeOptions:_=[]}=m,w=tO(b),j=tO(_),k=bke(a),E=p(function(){return s++,h.apply(null,arguments)},...w),S=y(function(){l++;const C=yke(k,arguments);return u=E.apply(null,C),u},...j);return Object.assign(S,{resultFunc:h,memoizedResultFunc:E,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var me=wke(vR),jke=Object.assign((t,e=me)=>{gke(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>jke}),lv={},cv={},uv={},nO;function Nke(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=e(n),u=e(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=r})(uv)),uv}var dv={},fv={},aO;function wR(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(fv)),fv}var sO;function kke(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(dv)),dv}var iO;function Ske(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nke(),r=kke(),n=Fj();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const h=(y,_)=>{let w=y;for(let j=0;j<_.length&&w!=null;++j)w=w[_[j]];return w},m=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:h(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?h(_,y):typeof _=="object"?_[y]:_,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:p.map(_=>m(_,y))})).slice().sort((y,_)=>{for(let w=0;w<p.length;w++){const j=e.compareValues(y.criteria[w],_.criteria[w],u[w]);if(j!==0)return j}return 0}).map(y=>y.original)}t.orderBy=a})(cv)),cv}var hv={},oO;function Eke(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&d<s?l(m,d+1):a.push(m)}};return l(r,0),a}t.flatten=e})(hv)),hv}var mv={},lO;function jR(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_R(),r=Gj(),n=fR(),a=mR();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}t.isIterateeCall=s})(mv)),mv}var cO;function Ake(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ske(),r=Eke(),n=jR();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,r.flatten(l),["asc"])}t.sortBy=a})(lv)),lv}var gv,uO;function Tke(){return uO||(uO=1,gv=Ake().sortBy),gv}var Oke=Tke();const ib=_s(Oke);var NR=t=>t.legend.settings,Cke=t=>t.legend.size,$ke=t=>t.legend.payload,Pke=me([$ke,NR],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?ib(n,r):n});function Rke(){return Ye(Pke)}var Bg=1;function kR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Bg||Math.abs(l.left-e.left)>Bg||Math.abs(l.top-e.top)>Bg||Math.abs(l.width-e.width)>Bg)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Kn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dke=typeof Symbol=="function"&&Symbol.observable||"@@observable",dO=Dke,pv=()=>Math.random().toString(36).substring(7).split("").join("."),Lke={INIT:`@@redux/INIT${pv()}`,REPLACE:`@@redux/REPLACE${pv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pv()}`},t0=Lke;function Yj(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function SR(t,e,r){if(typeof t!="function")throw new Error(Kn(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kn(0));if(typeof e=="function"&&typeof r=="undefined"&&(r=e,e=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(Kn(1));return r(SR)(t,e)}let n=t,a=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((j,k)=>{l.set(k,j)}))}function m(){if(d)throw new Error(Kn(3));return a}function p(j){if(typeof j!="function")throw new Error(Kn(4));if(d)throw new Error(Kn(5));let k=!0;h();const E=u++;return l.set(E,j),function(){if(k){if(d)throw new Error(Kn(6));k=!1,h(),l.delete(E),s=null}}}function b(j){if(!Yj(j))throw new Error(Kn(7));if(typeof j.type=="undefined")throw new Error(Kn(8));if(typeof j.type!="string")throw new Error(Kn(17));if(d)throw new Error(Kn(9));try{d=!0,a=n(a,j)}finally{d=!1}return(s=l).forEach(E=>{E()}),j}function y(j){if(typeof j!="function")throw new Error(Kn(10));n=j,b({type:t0.REPLACE})}function _(){const j=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Kn(11));function E(){const P=k;P.next&&P.next(m())}return E(),{unsubscribe:j(E)}},[dO](){return this}}}return b({type:t0.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:y,[dO]:_}}function Ike(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:t0.INIT})=="undefined")throw new Error(Kn(12));if(typeof r(void 0,{type:t0.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(Kn(13))})}function ER(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(r[l]=t[l])}const n=Object.keys(r);let a;try{Ike(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const h={};for(let m=0;m<n.length;m++){const p=n[m],b=r[p],y=l[p],_=b(y,u);if(typeof _=="undefined")throw u&&u.type,new Error(Kn(14));h[p]=_,d=d||_!==y}return d=d||n.length!==Object.keys(l).length,d?h:l}}function r0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Mke(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Kn(15))};const l={getState:a.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=r0(...u)(a.dispatch),je(J({},a),{dispatch:s})}}function AR(t){return Yj(t)&&"type"in t&&typeof t.type=="string"}var TR=Symbol.for("immer-nothing"),fO=Symbol.for("immer-draftable"),fa=Symbol.for("immer-state");function Rs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object,hd=Ka.getPrototypeOf,n0="constructor",ob="prototype",e1="configurable",a0="enumerable",vp="writable",ph="value",lo=t=>!!t&&!!t[fa];function qs(t){var e;return t?OR(t)||lb(t)||!!t[fO]||!!((e=t[n0])!=null&&e[fO])||cb(t)||ub(t):!1}var Uke=Ka[ob][n0].toString(),hO=new WeakMap;function OR(t){if(!t||!Xj(t))return!1;const e=hd(t);if(e===null||e===Ka[ob])return!0;const r=Ka.hasOwnProperty.call(e,n0)&&e[n0];if(r===Object)return!0;if(!qu(r))return!1;let n=hO.get(r);return n===void 0&&(n=Function.toString.call(r),hO.set(r,n)),n===Uke}function Vh(t,e,r=!0){Gh(t)===0?(r?Reflect.ownKeys(t):Ka.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function Gh(t){const e=t[fa];return e?e.type_:lb(t)?1:cb(t)?2:ub(t)?3:0}var mO=(t,e,r=Gh(t))=>r===2?t.has(e):Ka[ob].hasOwnProperty.call(t,e),t1=(t,e,r=Gh(t))=>r===2?t.get(e):t[e],s0=(t,e,r,n=Gh(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function qke(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var lb=Array.isArray,cb=t=>t instanceof Map,ub=t=>t instanceof Set,Xj=t=>typeof t=="object",qu=t=>typeof t=="function",bv=t=>typeof t=="boolean",Xi=t=>t.copy_||t.base_,Zj=t=>t.modified_?t.copy_:t.base_;function r1(t,e){if(cb(t))return new Map(t);if(ub(t))return new Set(t);if(lb(t))return Array[ob].slice.call(t);const r=OR(t);if(e===!0||e==="class_only"&&!r){const n=Ka.getOwnPropertyDescriptors(t);delete n[fa];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[vp]===!1&&(u[vp]=!0,u[e1]=!0),(u.get||u.set)&&(n[l]={[e1]:!0,[vp]:!0,[a0]:u[a0],[ph]:t[l]})}return Ka.create(hd(t),n)}else{const n=hd(t);if(n!==null&&r)return J({},t);const a=Ka.create(n);return Ka.assign(a,t)}}function Jj(t,e=!1){return db(t)||lo(t)||!qs(t)||(Gh(t)>1&&Ka.defineProperties(t,{set:zg,add:zg,clear:zg,delete:zg}),Ka.freeze(t),e&&Vh(t,(r,n)=>{Jj(n,!0)},!1)),t}function Bke(){Rs(2)}var zg={[ph]:Bke};function db(t){return t===null||!Xj(t)?!0:Ka.isFrozen(t)}var i0="MapSet",n1="Patches",CR={};function md(t){const e=CR[t];return e||Rs(0,t),e}var zke=t=>!!CR[t],bh,$R=()=>bh,Fke=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zke(i0)?md(i0):void 0});function gO(t,e){e&&(t.patchPlugin_=md(n1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function a1(t){s1(t),t.drafts_.forEach(Hke),t.drafts_=null}function s1(t){t===bh&&(bh=t.parent_)}var pO=t=>bh=Fke(bh,t);function Hke(t){const e=t[fa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[fa].modified_&&(a1(e),Rs(4)),qs(t)&&(t=yO(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(r[fa].base_,t,e)}else t=yO(e,r);return Kke(e,t,!0),a1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==TR?t:void 0}function yO(t,e){if(db(e))return e;const r=e[fa];if(!r)return Qj(e,t.handledSet_,t);if(!fb(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);DR(r,t)}return r.copy_}function Kke(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Jj(e,r)}function PR(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var fb=(t,e)=>t.scope_===e,Vke=[];function RR(t,e,r,n){var u;const a=Xi(t),s=t.type_;if(n!==void 0&&t1(a,n,s)===e){s0(a,n,r,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;Vh(a,(h,m)=>{if(lo(m)){const p=d.get(m)||[];p.push(h),d.set(m,p)}})}const l=(u=t.draftLocations_.get(e))!=null?u:Vke;for(const d of l)s0(a,d,r,s)}function Gke(t,e,r){t.callbacks_.push(function(a){var u,d;const s=e;if(!s||!fb(s,a))return;(u=a.mapSetPlugin_)==null||u.fixSetContents(s);const l=Zj(s);RR(t,(d=s.draft_)!=null?d:s,l,r),DR(s,a)})}function DR(t,e){var n,a;if(t.modified_&&!t.finalized_&&(t.type_===3||((a=(n=t.assigned_)==null?void 0:n.size)!=null?a:0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(t);l&&s.generatePatches_(t,l,e)}PR(t)}}function Wke(t,e,r){const{scope_:n}=t;if(lo(r)){const a=r[fa];fb(a,n)&&a.callbacks_.push(function(){wp(t);const l=Zj(a);RR(t,r,l,e)})}else qs(r)&&t.callbacks_.push(function(){var l;const s=Xi(t);t1(s,e,t.type_)===r&&n.drafts_.length>1&&((l=t.assigned_.get(e))!=null?l:!1)===!0&&t.copy_&&Qj(t1(t.copy_,e,t.type_),n.handledSet_,n)})}function Qj(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||lo(t)||e.has(t)||!qs(t)||db(t)||(e.add(t),Vh(t,(n,a)=>{if(lo(a)){const s=a[fa];if(fb(s,r)){const l=Zj(s);s0(t,n,l,t.type_),PR(s)}}else qs(a)&&Qj(a,e,r)})),t}function Yke(t,e){const r=lb(t),n={type_:r?1:0,scope_:e?e.scope_:$R(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=eN;r&&(a=[n],s=yh);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var eN={get(t,e){if(e===fa)return t;const r=Xi(t);if(!mO(r,e,t.type_))return Xke(t,r,e);const n=r[e];if(t.finalized_||!qs(n))return n;if(n===yv(t.base_,e)){wp(t);const a=t.type_===1?+e:e,s=o1(t.scope_,n,t,a);return t.copy_[a]=s}return n},has(t,e){return e in Xi(t)},ownKeys(t){return Reflect.ownKeys(Xi(t))},set(t,e,r){const n=LR(Xi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=yv(Xi(t),e),s=a==null?void 0:a[fa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(qke(r,a)&&(r!==void 0||mO(t.base_,e,t.type_)))return!0;wp(t),i1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),Wke(t,e,r)),!0},deleteProperty(t,e){return wp(t),yv(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),i1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Xi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[vp]:!0,[e1]:t.type_!==1||e!=="length",[a0]:n[a0],[ph]:r[e]}},defineProperty(){Rs(11)},getPrototypeOf(t){return hd(t.base_)},setPrototypeOf(){Rs(12)}},yh={};Vh(eN,(t,e)=>{yh[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}});yh.deleteProperty=function(t,e){return yh.set.call(this,t,e,void 0)};yh.set=function(t,e,r){return eN.set.call(this,t[0],e,r,t[0])};function yv(t,e){const r=t[fa];return(r?Xi(r):t)[e]}function Xke(t,e,r){var a;const n=LR(e,r);return n?ph in n?n[ph]:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function LR(t,e){if(!(e in t))return;let r=hd(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=hd(r)}}function i1(t){t.modified_||(t.modified_=!0,t.parent_&&i1(t.parent_))}function wp(t){t.copy_||(t.assigned_=new Map,t.copy_=r1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Zke=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(qu(r)&&!qu(n)){const l=n;n=r;const u=this;return function(h=l,...m){return u.produce(h,p=>n.call(this,p,...m))}}qu(n)||Rs(6),a!==void 0&&!qu(a)&&Rs(7);let s;if(qs(r)){const l=pO(this),u=o1(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?a1(l):s1(l)}return gO(l,a),bO(s,l)}else if(!r||!Xj(r)){if(s=n(r),s===void 0&&(s=r),s===TR&&(s=void 0),this.autoFreeze_&&Jj(s,!0),a){const l=[],u=[];md(n1).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Rs(1,r)},this.produceWithPatches=(r,n)=>{if(qu(r))return(u,...d)=>this.produceWithPatches(u,h=>r(h,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},bv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),bv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),bv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qs(e)||Rs(8),lo(e)&&(e=Ms(e));const r=pO(this),n=o1(r,e,void 0);return n[fa].isManual_=!0,s1(r),n}finishDraft(e,r){const n=e&&e[fa];(!n||!n.isManual_)&&Rs(9);const{scope_:a}=n;return gO(a,r),bO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const a=md(n1).applyPatches_;return lo(e)?a(e,r):this.produce(e,s=>a(s,r))}};function o1(t,e,r,n){var u,d;const[a,s]=cb(e)?md(i0).proxyMap_(e,r):ub(e)?md(i0).proxySet_(e,r):Yke(e,r);return((u=r==null?void 0:r.scope_)!=null?u:$R()).drafts_.push(a),s.callbacks_=(d=r==null?void 0:r.callbacks_)!=null?d:[],s.key_=n,r&&n!==void 0?Gke(r,s,n):s.callbacks_.push(function(m){var b;(b=m.mapSetPlugin_)==null||b.fixSetContents(s);const{patchPlugin_:p}=m;s.modified_&&p&&p.generatePatches_(s,[],m)}),a}function Ms(t){return lo(t)||Rs(10,t),IR(t)}function IR(t){if(!qs(t)||db(t))return t;const e=t[fa];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=r1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=r1(t,!0);return Vh(r,(a,s)=>{s0(r,a,IR(s))},n),e&&(e.finalized_=!1),r}var Jke=new Zke,MR=Jke.produce;function UR(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var Qke=UR(),eSe=UR,tSe=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?r0:r0.apply(null,arguments)};function bs(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(Va(0));return J(J({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>AR(n)&&n.type===t,r}var qR=class Wf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wf.prototype)}static get[Symbol.species](){return Wf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wf(...e[0].concat(this)):new Wf(...e.concat(this))}};function _O(t){return qs(t)?MR(t,()=>{}):t}function Fg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function rSe(t){return typeof t=="boolean"}var nSe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e!=null?e:{};let l=new qR;return r&&(rSe(r)?l.push(Qke):l.push(eSe(r.extraArgument))),l},BR="RTK_autoBatch",Cr=()=>t=>({payload:t,meta:{[BR]:!0}}),xO=t=>e=>{setTimeout(e,t)},zR=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:xO(10):t.type==="callback"?t.queueNotification:xO(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>a&&m(),b=n.subscribe(p);return u.add(m),()=>{b(),u.delete(m)}},dispatch(m){var p;try{return a=!((p=m==null?void 0:m.meta)!=null&&p[BR]),s=!a,s&&(l||(l=!0,d(h))),n.dispatch(m)}finally{a=!0}}})},aSe=t=>function(r){const{autoBatch:n=!0}=r!=null?r:{};let a=new qR(t);return n&&a.push(zR(typeof n=="object"?n:void 0)),a};function sSe(t){const e=nSe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof r=="function")u=r;else if(Yj(r))u=ER(r);else throw new Error(Va(1));let d;typeof n=="function"?d=n(e):d=e();let h=r0;a&&(h=tSe(J({trace:!1},typeof a=="object"&&a)));const m=Mke(...d),p=aSe(m);let b=typeof l=="function"?l(p):p();const y=h(...b);return SR(u,s,y)}function FR(t){const e={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Va(28));if(u in e)throw new Error(Va(29));return e[u]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function iSe(t){return typeof t=="function"}function oSe(t,e){let[r,n,a]=FR(e),s;if(iSe(t))s=()=>_O(t());else{const u=_O(t);s=()=>u}function l(u=s(),d){let h=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,p)=>{if(p)if(lo(m)){const y=p(m,d);return y===void 0?m:y}else{if(qs(m))return MR(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},u)}return l.getInitialState=s,l}var lSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cSe=(t=21)=>{let e="",r=t;for(;r--;)e+=lSe[Math.random()*64|0];return e},uSe=Symbol.for("rtk-slice-createasyncthunk");function dSe(t,e){return`${t}/${e}`}function fSe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[uSe];return function(a){const{name:s,reducerPath:l=s}=a;if(!s)throw new Error(Va(11));const u=(typeof a.reducers=="function"?a.reducers(mSe()):a.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(P,C){const I=typeof P=="string"?P:P.type;if(!I)throw new Error(Va(12));if(I in h.sliceCaseReducersByType)throw new Error(Va(13));return h.sliceCaseReducersByType[I]=C,m},addMatcher(P,C){return h.sliceMatchers.push({matcher:P,reducer:C}),m},exposeAction(P,C){return h.actionCreators[P]=C,m},exposeCaseReducer(P,C){return h.sliceCaseReducersByName[P]=C,m}};d.forEach(P=>{const C=u[P],I={reducerName:P,type:dSe(s,P),createNotation:typeof a.reducers=="function"};pSe(C)?ySe(I,C,m,e):gSe(I,C,m)});function p(){const[P={},C=[],I=void 0]=typeof a.extraReducers=="function"?FR(a.extraReducers):[a.extraReducers],$=J(J({},P),h.sliceCaseReducersByType);return oSe(a.initialState,B=>{for(let H in $)B.addCase(H,$[H]);for(let H of h.sliceMatchers)B.addMatcher(H.matcher,H.reducer);for(let H of C)B.addMatcher(H.matcher,H.reducer);I&&B.addDefaultCase(I)})}const b=P=>P,y=new Map,_=new WeakMap;let w;function j(P,C){return w||(w=p()),w(P,C)}function k(){return w||(w=p()),w.getInitialState()}function E(P,C=!1){function I(B){let H=B[P];return typeof H=="undefined"&&C&&(H=Fg(_,I,k)),H}function $(B=b){const H=Fg(y,C,()=>new WeakMap);return Fg(H,B,()=>{var D;const se={};for(const[R,L]of Object.entries((D=a.selectors)!=null?D:{}))se[R]=hSe(L,B,()=>Fg(_,B,k),C);return se})}return{reducerPath:P,getSelectors:$,get selectors(){return $(I)},selectSlice:I}}const S=je(J({name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:k},E(l)),{injectInto(P,$={}){var B=$,{reducerPath:C}=B,I=Su(B,["reducerPath"]);const H=C!=null?C:l;return P.inject({reducerPath:H,reducer:j},I),J(J({},S),E(H,!0))}});return S}}function hSe(t,e,r,n){function a(s,...l){let u=e(s);return typeof u=="undefined"&&n&&(u=r()),t(u,...l)}return a.unwrapped=t,a}var Ea=fSe();function mSe(){function t(e,r){return J({_reducerDefinitionType:"asyncThunk",payloadCreator:e},r)}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function gSe({type:t,reducerName:e,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!bSe(n))throw new Error(Va(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?bs(t,l):bs(t))}function pSe(t){return t._reducerDefinitionType==="asyncThunk"}function bSe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ySe({type:t,reducerName:e},r,n,a){if(!a)throw new Error(Va(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:m}=r,p=a(t,s,m);n.exposeAction(e,p),l&&n.addCase(p.fulfilled,l),u&&n.addCase(p.pending,u),d&&n.addCase(p.rejected,d),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:l||Hg,pending:u||Hg,rejected:d||Hg,settled:h||Hg})}function Hg(){}var _Se="task",HR="listener",KR="completed",tN="cancelled",xSe=`task-${tN}`,vSe=`task-${KR}`,l1=`${HR}-${tN}`,wSe=`${HR}-${KR}`,hb=class{constructor(t){Ke(this,"name","TaskAbortError");Ke(this,"message");this.code=t,this.message=`${_Se} ${tN} (reason: ${t})`}},rN=(t,e)=>{if(typeof t!="function")throw new TypeError(Va(32))},o0=()=>{},VR=(t,e=o0)=>(t.catch(e),t),GR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),xc=t=>{if(t.aborted)throw new hb(t.reason)};function WR(t,e){let r=o0;return new Promise((n,a)=>{const s=()=>a(new hb(t.reason));if(t.aborted){s();return}r=GR(t,s),e.finally(()=>r()).then(n,a)}).finally(()=>{r=o0})}var jSe=(t,e)=>T(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield t()}}catch(r){return{status:r instanceof hb?"cancelled":"rejected",error:r}}finally{e==null||e()}}),l0=t=>e=>VR(WR(t,e).then(r=>(xc(t),r))),YR=t=>{const e=l0(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:ed}=Object,vO={},mb="listenerMiddleware",NSe=(t,e)=>{const r=n=>GR(t,()=>n.abort(t.reason));return(n,a)=>{rN(n);const s=new AbortController;r(s);const l=jSe(()=>T(null,null,function*(){xc(t),xc(s.signal);const u=yield n({pause:l0(s.signal),delay:YR(s.signal),signal:s.signal});return xc(s.signal),u}),()=>s.abort(vSe));return a!=null&&a.autoJoin&&e.push(l.catch(o0)),{result:l0(t)(l),cancel(){s.abort(xSe)}}}},kSe=(t,e)=>{const r=(n,a)=>T(null,null,function*(){xc(e);let s=()=>{};const u=[new Promise((d,h)=>{let m=t({predicate:n,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),h()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=yield WR(e,Promise.race(u));return xc(e),d}finally{s()}});return(n,a)=>VR(r(n,a))},XR=t=>{let{type:e,actionCreator:r,matcher:n,predicate:a,effect:s}=t;if(e)a=bs(e).match;else if(r)e=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Va(21));return rN(s),{predicate:a,type:e,effect:s}},ZR=ed(t=>{const{type:e,predicate:r,effect:n}=XR(t);return{id:cSe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Va(22))}}},{withTypes:()=>ZR}),wO=(t,e)=>{const{type:r,effect:n,predicate:a}=XR(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},c1=t=>{t.pending.forEach(e=>{e.abort(l1)})},SSe=(t,e)=>()=>{for(const r of e.keys())c1(r);t.clear()},jO=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},JR=ed(bs(`${mb}/add`),{withTypes:()=>JR}),ESe=bs(`${mb}/removeAll`),QR=ed(bs(`${mb}/remove`),{withTypes:()=>QR}),ASe=(...t)=>{console.error(`${mb}/error`,...t)},Wh=(t={})=>{const e=new Map,r=new Map,n=y=>{var w;const _=(w=r.get(y))!=null?w:0;r.set(y,_+1)},a=y=>{var w;const _=(w=r.get(y))!=null?w:1;_===1?r.delete(y):r.set(y,_-1)},{extra:s,onError:l=ASe}=t;rN(l);const u=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),_=>{y.unsubscribe(),_!=null&&_.cancelActive&&c1(y)}),d=y=>{var w;const _=(w=wO(e,y))!=null?w:ZR(y);return u(_)};ed(d,{withTypes:()=>d});const h=y=>{const _=wO(e,y);return _&&(_.unsubscribe(),y.cancelActive&&c1(_)),!!_};ed(h,{withTypes:()=>h});const m=(y,_,w,j)=>T(null,null,function*(){const k=new AbortController,E=kSe(d,k.signal),S=[];try{y.pending.add(k),n(y),yield Promise.resolve(y.effect(_,ed({},w,{getOriginalState:j,condition:(P,C)=>E(P,C).then(Boolean),take:E,delay:YR(k.signal),pause:l0(k.signal),extra:s,signal:k.signal,fork:NSe(k.signal,S),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,C,I)=>{P!==k&&(P.abort(l1),I.delete(P))})},cancel:()=>{k.abort(l1),y.pending.delete(k)},throwIfCancelled:()=>{xc(k.signal)}})))}catch(P){P instanceof hb||jO(l,P,{raisedBy:"effect"})}finally{yield Promise.all(S),k.abort(wSe),a(y),y.pending.delete(k)}}),p=SSe(e,r);return{middleware:y=>_=>w=>{if(!AR(w))return _(w);if(JR.match(w))return d(w.payload);if(ESe.match(w)){p();return}if(QR.match(w))return h(w.payload);let j=y.getState();const k=()=>{if(j===vO)throw new Error(Va(23));return j};let E;try{if(E=_(w),e.size>0){const S=y.getState(),P=Array.from(e.values());for(const C of P){let I=!1;try{I=C.predicate(w,S,j)}catch($){I=!1,jO(l,$,{raisedBy:"predicate"})}I&&m(C,w,y,k)}}}finally{j=vO}return E},startListening:d,stopListening:h,clearListeners:p}};function Va(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eD=Ea({name:"chartLayout",initialState:TSe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,a,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:OSe,setLayout:CSe,setChartSize:$Se,setScale:PSe}=eD.actions,RSe=eD.reducer;function tD(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){DSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DSe(t,e,r){return(e=LSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LSe(t){var e=ISe(t,"string");return typeof e=="symbol"?e:e+""}function ISe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nr(t,e,r){return Sr(t)||Sr(e)?r:bi(e)?Ec(t,e,r):typeof e=="function"?e(t):r}var MSe=(t,e,r)=>{if(e&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ge(t[s]))return Gu(Gu({},t),{},{[s]:t[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ge(t[l]))return Gu(Gu({},t),{},{[l]:t[l]+(a||0)})}return t},Si=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",rD=(t,e,r,n)=>{if(n)return t.map(u=>u.coordinate);var a,s,l=t.map(u=>(u.coordinate===e&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(e),s||l.push(r),l},nD=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:b,axisType:y}=t;if(!l)return null;var _=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/_:0;if(w=y==="angleAxis"&&s&&s.length>=2?Dn(s[0]-s[1])*2*w:w,p||b){var j=(p||b||[]).map((k,E)=>{var S=n?n.indexOf(k):k;return{coordinate:l(S)+w,value:k,offset:w,index:E}});return j.filter(k=>!ps(k.coordinate))}return d&&h?h.map((k,E)=>({coordinate:l(k)+w,value:k,index:E,offset:w})):l.ticks&&m!=null?l.ticks(m).map((k,E)=>({coordinate:l(k)+w,value:k,offset:w,index:E})):l.domain().map((k,E)=>({coordinate:l(k)+w,value:n?n[k]:k,index:E,offset:w}))},kO=1e-4,USe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),a=Math.min(n[0],n[1])-kO,s=Math.max(n[0],n[1])+kO,l=t(e[0]),u=t(e[r-1]);(l<a||l>s||u<a||u>s)&&t.domain([e[0],e[r-1]])}},qSe=(t,e)=>{if(!e||e.length!==2||!Ge(e[0])||!Ge(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ge(t[0])||t[0]<r)&&(a[0]=r),(!Ge(t[1])||t[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},BSe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var a=0,s=0,l=0;l<e;++l){var u=ps(t[l][r][1])?t[l][r][0]:t[l][r][1];u>=0?(t[l][r][0]=a,t[l][r][1]=a+u,a=t[l][r][1]):(t[l][r][0]=s,t[l][r][1]=s+u,s=t[l][r][1])}},zSe=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var a=0,s=0;s<e;++s){var l=ps(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},FSe={sign:BSe,expand:d2e,none:fd,silhouette:f2e,wiggle:h2e,positive:zSe},HSe=(t,e,r)=>{var n=FSe[r],a=u2e().keys(e).value((s,l)=>Number(nr(s,l,0))).order(Jw).offset(n);return a(t)};function aD(t){return t==null?void 0:String(t)}function c0(t){var{axis:e,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Sr(a[e.dataKey])){var u=lR(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=nr(a,Sr(l)?e.dataKey:l);return Sr(d)?null:e.scale(d)}var SO=t=>{var{axis:e,ticks:r,offset:n,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return r[l]?r[l].coordinate+n:null;var u=nr(s,e.dataKey,e.scale.domain()[l]);return Sr(u)?null:e.scale(u)-a/2+n},KSe=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},VSe=t=>{var e=t.flat(2).filter(Ge);return[Math.min(...e),Math.max(...e)]},GSe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],WSe=(t,e,r)=>{if(t!=null)return GSe(Object.keys(t).reduce((n,a)=>{var s=t[a],{stackedData:l}=s,u=l.reduce((d,h)=>{var m=tD(h,e,r),p=VSe(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},EO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kl=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var a=ib(e,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],h=a[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function TO(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:a,name:s}=t;return Gu(Gu({},e),{},{dataKey:r,payload:n,value:a,name:s})}function Ol(t,e){if(t)return String(t);if(typeof e=="string")return e}var YSe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},XSe=(t,e)=>e==="centric"?t.angle:t.radius,xo=t=>t.layout.width,vo=t=>t.layout.height,ZSe=t=>t.layout.scale,sD=t=>t.layout.margin,gb=me(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),pb=me(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),iD="data-recharts-item-index",oD="data-recharts-item-data-key",Yh=60;function OO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(r),!0).forEach(function(n){JSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JSe(t,e,r){return(e=QSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QSe(t){var e=eEe(t,"string");return typeof e=="symbol"?e:e+""}function eEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tEe=t=>t.brush.height;function rEe(t){var e=pb(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Yh;return r+a}return r},0)}function nEe(t){var e=pb(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Yh;return r+a}return r},0)}function aEe(t){var e=gb(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sEe(t){var e=gb(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var kn=me([xo,vo,sD,tEe,rEe,nEe,aEe,sEe,NR,Cke],(t,e,r,n,a,s,l,u,d,h)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},p={top:(r.top||0)+l,bottom:(r.bottom||0)+u},b=Kg(Kg({},p),m),y=b.bottom;b.bottom+=n,b=MSe(b,d,h);var _=t-b.left-b.right,w=e-b.top-b.bottom;return Kg(Kg({brushBottom:y},b),{},{width:Math.max(_,0),height:Math.max(w,0)})}),iEe=me(kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nN=me(xo,vo,(t,e)=>({x:0,y:0,width:t,height:e})),oEe=x.createContext(null),Ln=()=>x.useContext(oEe)!=null,bb=t=>t.brush,yb=me([bb,kn,sD],(t,e,r)=>({height:t.height,x:Ge(t.x)?t.x:e.left,y:Ge(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Ge(t.width)?t.width:e.width})),_v={},xv={},vv={},CO;function lEe(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},p=()=>{h&&m(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},n)},_=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{_(),l=void 0,u=null},j=()=>{m()},k=function(...E){if(a!=null&&a.aborted)return;l=this,u=E;const S=b==null;y(),d&&S&&m()};return k.schedule=y,k.cancel=w,k.flush=j,a==null||a.addEventListener("abort",w,{once:!0}),k}t.debounce=e})(vv)),vv}var $O;function cEe(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lEe();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let m,p=null;const b=e.debounce(function(...w){m=n.apply(this,w),p=null},a,{edges:h}),y=function(...w){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=n.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,w),m)},_=()=>(b.flush(),m);return y.cancel=b.cancel,y.flush=_,y}t.debounce=r})(xv)),xv}var PO;function uEe(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cEe();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(n,a,{leading:l,maxWait:a,trailing:u})}t.throttle=r})(_v)),_v}var wv,RO;function dEe(){return RO||(RO=1,wv=uEe().throttle),wv}var fEe=dEe();const hEe=_s(fEe);var u0=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console!="undefined"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},lD=(t,e,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=oo(n)?t:Number(n),d=oo(a)?e:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},mEe={width:0,height:0,overflow:"visible"},gEe={width:0,overflowX:"visible"},pEe={height:0,overflowY:"visible"},bEe={},yEe=t=>{var{width:e,height:r}=t,n=oo(e),a=oo(r);return n&&a?mEe:n?gEe:a?pEe:bEe};function _Ee(t){var{width:e,height:r,aspect:n}=t,a=e,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Er(t){return Number.isFinite(t)}function yi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(null,arguments)}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){xEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xEe(t,e,r){return(e=vEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vEe(t){var e=wEe(t,"string");return typeof e=="symbol"?e:e+""}function wEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cD=x.createContext({width:-1,height:-1});function jEe(t){return yi(t.width)&&yi(t.height)}function uD(t){var{children:e,width:r,height:n}=t,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return jEe(a)?x.createElement(cD.Provider,{value:a},e):null}var aN=()=>x.useContext(cD),NEe=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:m=0,id:p,className:b,onResize:y,style:_={}}=t,w=x.useRef(null),j=x.useRef();j.current=y,x.useImperativeHandle(e,()=>w.current);var[k,E]=x.useState({containerWidth:n.width,containerHeight:n.height}),S=x.useCallback((B,H)=>{E(se=>{var D=Math.round(B),R=Math.round(H);return se.containerWidth===D&&se.containerHeight===R?se:{containerWidth:D,containerHeight:R}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver=="undefined")return Hh;var B=R=>{var L,{width:V,height:Z}=R[0].contentRect;S(V,Z),(L=j.current)===null||L===void 0||L.call(j,V,Z)};m>0&&(B=hEe(B,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(B),{width:se,height:D}=w.current.getBoundingClientRect();return S(se,D),H.observe(w.current),()=>{H.disconnect()}},[S,m]);var{containerWidth:P,containerHeight:C}=k;u0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:$}=lD(P,C,{width:a,height:s,aspect:r,maxHeight:d});return u0(I!=null&&I>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,$,a,s,l,u,r),x.createElement("div",{id:p?"".concat(p):void 0,className:qt("recharts-responsive-container",b),style:LO(LO({},_),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:w},x.createElement("div",{style:yEe({width:a,height:s})},x.createElement(uD,{width:I,height:$},h)))}),ci=x.forwardRef((t,e)=>{var r=aN();if(yi(r.width)&&yi(r.height))return t.children;var{width:n,height:a}=_Ee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=lD(void 0,void 0,{width:n,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ge(s)&&Ge(l)?x.createElement(uD,{width:s,height:l},t.children):x.createElement(NEe,u1({},t,{width:n,height:a,ref:e}))});function dD(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var _b=()=>{var t,e=Ln(),r=Ye(iEe),n=Ye(yb),a=(t=Ye(bb))===null||t===void 0?void 0:t.padding;return!e||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},kEe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fD=()=>{var t;return(t=Ye(kn))!==null&&t!==void 0?t:kEe},sN=()=>Ye(xo),iN=()=>Ye(vo),SEe=()=>Ye(t=>t.layout.margin),Ot=t=>t.layout.layoutType,Lc=()=>Ye(Ot),EEe=()=>{var t=Lc();if(t==="horizontal"||t==="vertical")return t},AEe=()=>{var t=Lc();return t!==void 0},xb=t=>{var e=br(),r=Ln(),{width:n,height:a}=t,s=aN(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&yi(l)&&yi(u)&&e($Se({width:l,height:u}))},[e,r,l,u]),null},hD=Symbol.for("immer-nothing"),IO=Symbol.for("immer-draftable"),Ga=Symbol.for("immer-state");function Ds(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _h=Object.getPrototypeOf;function gd(t){return!!t&&!!t[Ga]}function Ac(t){var e;return t?mD(t)||Array.isArray(t)||!!t[IO]||!!((e=t.constructor)!=null&&e[IO])||Xh(t)||wb(t):!1}var TEe=Object.prototype.constructor.toString(),MO=new WeakMap;function mD(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=MO.get(r);return n===void 0&&(n=Function.toString.call(r),MO.set(r,n)),n===TEe}function d0(t,e,r=!0){vb(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function vb(t){const e=t[Ga];return e?e.type_:Array.isArray(t)?1:Xh(t)?2:wb(t)?3:0}function d1(t,e){return vb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gD(t,e,r){const n=vb(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function OEe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Xh(t){return t instanceof Map}function wb(t){return t instanceof Set}function cc(t){return t.copy_||t.base_}function f1(t,e){if(Xh(t))return new Map(t);if(wb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=mD(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Ga];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(_h(t),n)}else{const n=_h(t);if(n!==null&&r)return J({},t);const a=Object.create(n);return Object.assign(a,t)}}function oN(t,e=!1){return jb(t)||gd(t)||!Ac(t)||(vb(t)>1&&Object.defineProperties(t,{set:Vg,add:Vg,clear:Vg,delete:Vg}),Object.freeze(t),e&&Object.values(t).forEach(r=>oN(r,!0))),t}function CEe(){Ds(2)}var Vg={value:CEe};function jb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $Ee={};function Tc(t){const e=$Ee[t];return e||Ds(0,t),e}var xh;function pD(){return xh}function PEe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UO(t,e){e&&(Tc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function h1(t){m1(t),t.drafts_.forEach(REe),t.drafts_=null}function m1(t){t===xh&&(xh=t.parent_)}function qO(t){return xh=PEe(xh,t)}function REe(t){const e=t[Ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ga].modified_&&(h1(e),Ds(4)),Ac(t)&&(t=f0(e,t),e.parent_||h0(e,t)),e.patches_&&Tc("Patches").generateReplacementPatches_(r[Ga].base_,t,e.patches_,e.inversePatches_)):t=f0(e,r,[]),h1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hD?t:void 0}function f0(t,e,r){if(jb(e))return e;const n=t.immer_.shouldUseStrictIteration(),a=e[Ga];if(!a)return d0(e,(s,l)=>zO(t,a,e,s,l,r),n),e;if(a.scope_!==t)return e;if(!a.modified_)return h0(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),d0(l,(d,h)=>zO(t,a,s,d,h,r,u),n),h0(t,s,!1),r&&t.patches_&&Tc("Patches").generatePatches_(a,r,t.patches_,t.inversePatches_)}return a.copy_}function zO(t,e,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=jb(a);if(!(u&&!l)){if(gd(a)){const d=s&&e&&e.type_!==3&&!d1(e.assigned_,n)?s.concat(n):void 0,h=f0(t,a,d);if(gD(r,n,h),gd(h))t.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ac(a)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===a&&u)return;f0(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Xh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&h0(t,a)}}}function h0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&oN(e,r)}function DEe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:pD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=lN;r&&(a=[n],s=vh);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var lN={get(t,e){if(e===Ga)return t;const r=cc(t);if(!d1(r,e))return LEe(t,r,e);const n=r[e];return t.finalized_||!Ac(n)?n:n===jv(t.base_,e)?(Nv(t),t.copy_[e]=p1(n,t)):n},has(t,e){return e in cc(t)},ownKeys(t){return Reflect.ownKeys(cc(t))},set(t,e,r){const n=bD(cc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=jv(cc(t),e),s=a==null?void 0:a[Ga];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(OEe(r,a)&&(r!==void 0||d1(t.base_,e)))return!0;Nv(t),g1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Nv(t),g1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=cc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Ds(11)},getPrototypeOf(t){return _h(t.base_)},setPrototypeOf(){Ds(12)}},vh={};d0(lN,(t,e)=>{vh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vh.deleteProperty=function(t,e){return vh.set.call(this,t,e,void 0)};vh.set=function(t,e,r){return lN.set.call(this,t[0],e,r,t[0])};function jv(t,e){const r=t[Ga];return(r?cc(r):t)[e]}function LEe(t,e,r){var a;const n=bD(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function bD(t,e){if(!(e in t))return;let r=_h(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=_h(r)}}function g1(t){t.modified_||(t.modified_=!0,t.parent_&&g1(t.parent_))}function Nv(t){t.copy_||(t.copy_=f1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IEe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const l=this;return function(d=s,...h){return l.produce(d,m=>r.call(this,m,...h))}}typeof r!="function"&&Ds(6),n!==void 0&&typeof n!="function"&&Ds(7);let a;if(Ac(e)){const s=qO(this),l=p1(e,void 0);let u=!0;try{a=r(l),u=!1}finally{u?h1(s):m1(s)}return UO(s,n),BO(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===hD&&(a=void 0),this.autoFreeze_&&oN(a,!0),n){const s=[],l=[];Tc("Patches").generateReplacementPatches_(e,a,s,l),n(s,l)}return a}else Ds(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let n,a;return[this.produce(e,r,(l,u)=>{n=l,a=u}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ac(t)||Ds(8),gd(t)&&(t=MEe(t));const e=qO(this),r=p1(t,void 0);return r[Ga].isManual_=!0,m1(e),r}finishDraft(t,e){const r=t&&t[Ga];(!r||!r.isManual_)&&Ds(9);const{scope_:n}=r;return UO(n,e),BO(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Tc("Patches").applyPatches_;return gd(t)?n(t,e):this.produce(t,a=>n(a,e))}};function p1(t,e){const r=Xh(t)?Tc("MapSet").proxyMap_(t,e):wb(t)?Tc("MapSet").proxySet_(t,e):DEe(t,e);return(e?e.scope_:pD()).drafts_.push(r),r}function MEe(t){return gd(t)||Ds(10,t),yD(t)}function yD(t){if(!Ac(t)||jb(t))return t;const e=t[Ga];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=f1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=f1(t,!0);return d0(r,(a,s)=>{gD(r,a,yD(s))},n),e&&(e.finalized_=!1),r}var UEe=new IEe;UEe.produce;var qEe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_D=Ea({name:"legend",initialState:qEe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Cr()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ms(t).payload.indexOf(r);a>-1&&(t.payload[a]=n)},prepare:Cr()},removeLegendPayload:{reducer(t,e){var r=Ms(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Cr()}}}),{setLegendSize:FO,setLegendSettings:BEe,addLegendPayload:xD,replaceLegendPayload:vD,removeLegendPayload:wD}=_D.actions,zEe=_D.reducer,FEe=["contextPayload"];function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(null,arguments)}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){HEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HEe(t,e,r){return(e=KEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KEe(t){var e=VEe(t,"string");return typeof e=="symbol"?e:e+""}function VEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GEe(t,e){if(t==null)return{};var r,n,a=WEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function WEe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function YEe(t){return t.value}function XEe(t){var{contextPayload:e}=t,r=GEe(t,FEe),n=xR(e,t.payloadUniqBy,YEe),a=pd(pd({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,a):typeof t.content=="function"?x.createElement(t.content,a):x.createElement(z2e,a)}function ZEe(t,e,r,n,a,s){var{layout:l,align:u,verticalAlign:d}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((a||0)-s.height)/2}:m=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),pd(pd({},h),m)}function JEe(t){var e=br();return x.useEffect(()=>{e(BEe(t))},[e,t]),null}function QEe(t){var e=br();return x.useEffect(()=>(e(FO(t)),()=>{e(FO({width:0,height:0}))}),[e,t]),null}function eAe(t,e,r,n){return t==="vertical"&&Ge(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var tAe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _l(t){var e=Gr(t,tAe),r=Rke(),n=RNe(),a=SEe(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[h,m]=kR([r]),p=sN(),b=iN();if(p==null||b==null)return null;var y=p-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),_=eAe(e.layout,l,s,y),w=d?u:pd(pd({position:"absolute",width:(_==null?void 0:_.width)||s||"auto",height:(_==null?void 0:_.height)||l||"auto"},ZEe(u,e,a,p,b,h)),u),j=d!=null?d:n;if(j==null||r==null)return null;var k=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:m},x.createElement(JEe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&x.createElement(QEe,{width:h.width,height:h.height}),x.createElement(XEe,b1({},e,_,{margin:a,chartWidth:p,chartHeight:b,contextPayload:r})));return Mj.createPortal(k,j)}_l.displayName="Legend";function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y1.apply(null,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){rAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rAe(t,e,r){return(e=nAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nAe(t){var e=aAe(t,"string");return typeof e=="symbol"?e:e+""}function aAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sAe(t){return Array.isArray(t)&&bi(t[0])&&bi(t[1])?t.join(" ~ "):t}var iAe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,y=()=>{if(s&&s.length){var C={padding:0,margin:0},I=(u?ib(s,u):s).map(($,B)=>{if($.type==="none")return null;var H=$.formatter||l||sAe,{value:se,name:D}=$,R=se,L=D;if(H){var V=H(se,D,$,B,s);if(Array.isArray(V))[R,L]=V;else if(V!=null)R=V;else return null}var Z=kv({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Z},bi(L)?x.createElement("span",{className:"recharts-tooltip-item-name"},L):null,bi(L)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},R),x.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},_=kv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=kv({margin:0},a),j=!Sr(m),k=j?m:"",E=qt("recharts-default-tooltip",d),S=qt("recharts-tooltip-label",h);j&&p&&s!==void 0&&s!==null&&(k=p(m,s));var P=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",y1({className:E,style:_},P),x.createElement("p",{className:S,style:w},x.isValidElement(k)?k:"".concat(k)),y())},Df="recharts-tooltip-wrapper",oAe={visibility:"hidden"};function lAe(t){var{coordinate:e,translateX:r,translateY:n}=t;return qt(Df,{["".concat(Df,"-right")]:Ge(r)&&e&&Ge(e.x)&&r>=e.x,["".concat(Df,"-left")]:Ge(r)&&e&&Ge(e.x)&&r<e.x,["".concat(Df,"-bottom")]:Ge(n)&&e&&Ge(e.y)&&n>=e.y,["".concat(Df,"-top")]:Ge(n)&&e&&Ge(e.y)&&n<e.y})}function VO(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Ge(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),p=r[n]+a;if(e[n])return l[n]?m:p;var b=d[n];if(b==null)return 0;if(l[n]){var y=m,_=b;return y<_?Math.max(p,b):Math.max(m,b)}if(h==null)return 0;var w=p+u,j=b+h;return w>j?Math.max(m,b):Math.max(p,b)}function cAe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function uAe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,m,p;return l.height>0&&l.width>0&&r?(m=VO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=VO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=cAe({translateX:m,translateY:p,useTranslate3d:u})):h=oAe,{cssProperties:h,cssClasses:lAe({translateX:m,translateY:p,coordinate:r})}}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){_1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _1(t,e,r){return(e=dAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dAe(t){var e=fAe(t,"string");return typeof e=="symbol"?e:e+""}function fAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hAe extends x.PureComponent{constructor(){super(...arguments),_1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:m,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:_,lastBoundingBox:w,innerRef:j,hasPortalFromProps:k}=this.props,{cssClasses:E,cssProperties:S}=uAe({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),P=k?{}:Gg(Gg({transition:d&&e?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),C=Gg(Gg({},P),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},_);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:C,ref:j},s)}}var jD=()=>{var t;return(t=Ye(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(null,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){mAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mAe(t,e,r){return(e=gAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gAe(t){var e=pAe(t,"string");return typeof e=="symbol"?e:e+""}function pAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XO={curveBasisClosed:QNe,curveBasisOpen:e2e,curveBasis:JNe,curveBumpX:MNe,curveBumpY:UNe,curveLinearClosed:t2e,curveLinear:ab,curveMonotoneX:r2e,curveMonotoneY:n2e,curveNatural:a2e,curveStep:s2e,curveStepAfter:o2e,curveStepBefore:i2e},m0=t=>Er(t.x)&&Er(t.y),ZO=t=>t.base!=null&&m0(t.base)&&m0(t),Lf=t=>t.x,If=t=>t.y,bAe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Fh(t));return(r==="curveMonotone"||r==="curveBump")&&e?XO["".concat(r).concat(e==="vertical"?"Y":"X")]:XO[r]||ab},yAe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=t,l=bAe(e,a),u=s?r.filter(m0):r,d;if(Array.isArray(n)){var h=r.map((y,_)=>YO(YO({},y),{},{base:n[_]}));a==="vertical"?d=Ug().y(If).x1(Lf).x0(y=>y.base.x):d=Ug().x(Lf).y1(If).y0(y=>y.base.y);var m=d.defined(ZO).curve(l),p=s?h.filter(ZO):h;return m(p)}a==="vertical"&&Ge(n)?d=Ug().y(If).x1(Lf).x0(n):Ge(n)?d=Ug().x(Lf).y1(If).y0(n):d=Y6().x(Lf).y(If);var b=d.defined(m0).curve(l);return b(u)},td=t=>{var{className:e,points:r,path:n,pathRef:a}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?yAe(t):n;return x.createElement("path",x1({},da(t),Vj(t),{className:qt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},_Ae=["x","y","top","left","width","height","className"];function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(null,arguments)}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){vAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vAe(t,e,r){return(e=wAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wAe(t){var e=jAe(t,"string");return typeof e=="symbol"?e:e+""}function jAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NAe(t,e){if(t==null)return{};var r,n,a=kAe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function kAe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var SAe=(t,e,r,n,a,s)=>"M".concat(t,",").concat(a,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),EAe=t=>{var{x:e=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=t,d=NAe(t,_Ae),h=xAe({x:e,y:r,top:n,left:a,width:s,height:l},d);return!Ge(e)||!Ge(r)||!Ge(s)||!Ge(l)||!Ge(n)||!Ge(a)?null:x.createElement("path",v1({},aa(h),{className:qt("recharts-cross",u),d:SAe(e,r,s,l,n,a)}))};function AAe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){TAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TAe(t,e,r){return(e=OAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OAe(t){var e=CAe(t,"string");return typeof e=="symbol"?e:e+""}function CAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Ae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ND=(t,e,r)=>t.map(n=>"".concat($Ae(n)," ").concat(e,"ms ").concat(r)).join(","),PAe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(a=>n.includes(a))),wh=(t,e)=>Object.keys(e).reduce((r,n)=>e5(e5({},r),{},{[n]:t(n,e[n])}),{});function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){RAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RAe(t,e,r){return(e=DAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DAe(t){var e=LAe(t,"string");return typeof e=="symbol"?e:e+""}function LAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g0=(t,e,r)=>t+(e-t)*r,w1=t=>{var{from:e,to:r}=t;return e!==r},kD=(t,e,r)=>{var n=wh((a,s)=>{if(w1(s)){var[l,u]=t(s.from,s.to,s.velocity);return Nn(Nn({},s),{},{from:l,velocity:u})}return s},e);return r<1?wh((a,s)=>w1(s)?Nn(Nn({},s),{},{velocity:g0(s.velocity,n[a].velocity,r),from:g0(s.from,n[a].from,r)}):s,e):kD(t,n,r-1)};function IAe(t,e,r,n,a,s){var l,u=n.reduce((b,y)=>Nn(Nn({},b),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),d=()=>wh((b,y)=>y.from,u),h=()=>!Object.values(u).filter(w1).length,m=null,p=b=>{l||(l=b);var y=b-l,_=y/r.dt;u=kD(r,u,_),a(Nn(Nn(Nn({},t),e),d())),l=b,h()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function MAe(t,e,r,n,a,s,l){var u=null,d=a.reduce((p,b)=>Nn(Nn({},p),{},{[b]:[t[b],e[b]]}),{}),h,m=p=>{h||(h=p);var b=(p-h)/n,y=wh((w,j)=>g0(...j,r(b)),d);if(s(Nn(Nn(Nn({},t),e),y)),b<1)u=l.setTimeout(m);else{var _=wh((w,j)=>g0(...j,r(1)),d);s(Nn(Nn(Nn({},t),e),_))}};return()=>(u=l.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}const UAe=(t,e,r,n,a,s)=>{var l=PAe(t,e);return r==null?()=>(a(Nn(Nn({},t),e)),()=>{}):r.isStepper===!0?IAe(t,e,r,l,a,s):MAe(t,e,r,n,l,a,s)};var p0=1e-4,SD=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ED=(t,e)=>t.map((r,n)=>r*ku(e,n)).reduce((r,n)=>r+n),r5=(t,e)=>r=>{var n=SD(t,e);return ED(n,r)},qAe=(t,e)=>r=>{var n=SD(t,e),a=[...n.map((s,l)=>s*l).slice(1),0];return ED(a,r)},BAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},zAe=(t,e,r,n)=>{var a=r5(t,r),s=r5(e,n),l=qAe(t,r),u=h=>h>1?1:h<0?0:h,d=h=>{for(var m=h>1?1:h,p=m,b=0;b<8;++b){var y=a(p)-m,_=l(p);if(Math.abs(y-m)<p0||_<p0)return s(p);p=u(p-y/_)}return s(p)};return d.isStepper=!1,d},n5=function(){return zAe(...BAe(...arguments))},FAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=e,s=(l,u,d)=>{var h=-(l-u)*r,m=d*n,p=d+(h-m)*a/1e3,b=d*a/1e3+l;return Math.abs(b-u)<p0&&Math.abs(p)<p0?[u,0]:[b,p]};return s.isStepper=!0,s.dt=a,s},HAe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n5(t);case"spring":return FAe();default:if(t.split("(")[0]==="cubic-bezier")return n5(t)}return typeof t=="function"?t:null};function KAe(t){var e,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){a=t.setTimeout(s.bind(null,h),d);return}s(d),a=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,r(e)),typeof l=="object"&&(e=l,r(e)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>t}}class VAe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function GAe(){return KAe(new VAe)}var WAe=x.createContext(GAe);function YAe(t,e){var r=x.useContext(WAe);return x.useMemo(()=>e!=null?e:r(t),[t,e,r])}var XAe=()=>!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout),Td={devToolsEnabled:!1,isSsr:XAe()},ZAe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a5={t:0},Sv={t:1};function Od(t){var e=Gr(t,ZAe),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,m=r==="auto"?!Td.isSsr:r,p=YAe(e.animationId,e.animationManager),[b,y]=x.useState(m?a5:Sv),_=x.useRef(null);return x.useEffect(()=>{m||y(Sv)},[m]),x.useEffect(()=>{if(!m||!n)return Hh;var w=UAe(a5,Sv,HAe(s),a,y,p.getTimeoutController()),j=()=>{_.current=w()};return p.start([d,l,j,a,u]),()=>{p.stop(),_.current&&_.current(),u()}},[m,n,a,s,l,d,u,p]),h(b.t)}function Cd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(gh(e)),n=x.useRef(t);return n.current!==t&&(r.current=gh(e),n.current=t),r.current}var JAe=["radius"],QAe=["radius"];function s5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(r),!0).forEach(function(n){e3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e3e(t,e,r){return(e=t3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t3e(t){var e=r3e(t,"string");return typeof e=="symbol"?e:e+""}function r3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(null,arguments)}function o5(t,e){if(t==null)return{};var r,n,a=n3e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function n3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var l5=(t,e,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],p=0,b=4;p<b;p++)m[p]=a[p]>s?s:a[p];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(e)),h+="L ".concat(t+r-u*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(e+l*m[1])),h+="L ".concat(t+r,",").concat(e+n-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+r-u*m[2],",").concat(e+n)),h+="L ".concat(t+u*m[3],",").concat(e+n),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+n-l*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);h="M ".concat(t,",").concat(e+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+u*y,",").concat(e,`
            L `).concat(t+r-u*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+r,",").concat(e+l*y,`
            L `).concat(t+r,",").concat(e+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+r-u*y,",").concat(e+n,`
            L `).concat(t+u*y,",").concat(e+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t,",").concat(e+n-l*y," Z")}else h="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},c5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AD=t=>{var e=Gr(t,c5),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&a(K)}catch(W){}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:w}=e,j=x.useRef(u),k=x.useRef(d),E=x.useRef(s),S=x.useRef(l),P=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),C=Cd(P,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var I=qt("recharts-rectangle",m);if(!w){var $=aa(e),{radius:B}=$,H=o5($,JAe);return x.createElement("path",b0({},H,{radius:typeof h=="number"?h:void 0,className:I,d:l5(s,l,u,d,h)}))}var se=j.current,D=k.current,R=E.current,L=S.current,V="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),U=ND(["strokeDasharray"],b,typeof p=="string"?p:c5.animationEasing);return x.createElement(Od,{animationId:C,key:C,canBegin:n>0,duration:b,easing:p,isActive:w,begin:y},K=>{var W=Yt(se,u,K),X=Yt(D,d,K),Q=Yt(R,s,K),M=Yt(L,l,K);r.current&&(j.current=W,k.current=X,E.current=Q,S.current=M);var G;_?K>0?G={transition:U,strokeDasharray:Z}:G={strokeDasharray:V}:G={strokeDasharray:Z};var q=aa(e),{radius:ae}=q,ie=o5(q,QAe);return x.createElement("path",b0({},ie,{radius:typeof h=="number"?h:void 0,className:I,d:l5(Q,M,W,X,h),ref:r,style:i5(i5({},G),e.style)}))})};function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function d5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){a3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a3e(t,e,r){return(e=s3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3e(t){var e=i3e(t,"string");return typeof e=="symbol"?e:e+""}function i3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y0=Math.PI/180,o3e=t=>t*180/Math.PI,gn=(t,e,r,n)=>({x:t+Math.cos(-y0*n)*r,y:e+Math.sin(-y0*n)*r}),TD=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},l3e=(t,e)=>{var{x:r,y:n}=t,{x:a,y:s}=e;return Math.sqrt(ku(r-a,2)+ku(n-s,2))},c3e=(t,e)=>{var{x:r,y:n}=t,{cx:a,cy:s}=e,l=l3e({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:o3e(d),angleInRadian:d}},u3e=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:e-s*360,endAngle:r-s*360}},d3e=(t,e)=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return t+l*360},f3e=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:a,angle:s}=c3e({x:r,y:n},e),{innerRadius:l,outerRadius:u}=e;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:h}=u3e(e),m=s,p;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=d}return p?d5(d5({},e),{},{radius:a,angle:d3e(m,e)}):null};function OD(t){var{cx:e,cy:r,radius:n,startAngle:a,endAngle:s}=t,l=gn(e,r,n,a),u=gn(e,r,n,s);return{points:[l,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(null,arguments)}var h3e=(t,e)=>{var r=Dn(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Wg=t=>{var{cx:e,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+n,m=Math.asin(u/h)/y0,p=d?a:a+s*m,b=gn(e,r,h,p),y=gn(e,r,n,p),_=d?a-s*m:a,w=gn(e,r,h*Math.cos(m*y0),_);return{center:b,circleTangency:y,lineTangency:w,theta:m}},CD=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=t,u=h3e(s,l),d=s+u,h=gn(e,r,a,s),m=gn(e,r,a,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var b=gn(e,r,n,s),y=gn(e,r,n,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},m3e=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,m=Dn(h-d),{circleTangency:p,lineTangency:b,theta:y}=Wg({cx:e,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:_,lineTangency:w,theta:j}=Wg({cx:e,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(d-h):Math.abs(d-h)-y-j;if(k<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):CD({cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:h});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:P,theta:C}=Wg({cx:e,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:$,theta:B}=Wg({cx:e,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),H=u?Math.abs(d-h):Math.abs(d-h)-C-B;if(H<0&&s===0)return"".concat(E,"L").concat(e,",").concat(r,"Z");E+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(e,",").concat(r,"Z");return E},g3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$D=t=>{var e=Gr(t,g3e),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m,className:p}=e;if(s<a||h===m)return null;var b=qt("recharts-sector",p),y=s-a,_=ra(l,y,0,!0),w;return _>0&&Math.abs(h-m)<360?w=m3e({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):w=CD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),x.createElement("path",j1({},aa(e),{className:b,d:w}))};function p3e(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(uR(e)){if(t==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=e,d=gn(n,a,s,u),h=gn(n,a,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return OD(e)}}var Ev={},Av={},Tv={},f5;function b3e(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wR();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Tv)),Tv}var h5;function y3e(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3e();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Av)),Av}var m5;function _3e(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jR(),r=y3e();function n(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=a,a+=l;return d}t.range=n})(Ev)),Ev}var Ov,g5;function x3e(){return g5||(g5=1,Ov=_3e().range),Ov}var v3e=x3e();const PD=_s(v3e);function xl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w3e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cN(t){let e,r,n;t.length!==2?(e=xl,r=(u,d)=>xl(t(u),d),n=(u,d)=>t(u)-d):(e=t===xl||t===w3e?t:j3e,r=t,n=t);function a(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<0?h=p+1:m=p}while(h<m)}return h}function s(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;r(u[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(u,d,h=0,m=u.length){const p=a(u,d,h,m-1);return p>h&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:a,center:l,right:s}}function j3e(){return 0}function RD(t){return t===null?NaN:+t}function*N3e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const k3e=cN(xl),Zh=k3e.right;cN(RD).center;class p5 extends Map{constructor(e,r=A3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(b5(this,e))}has(e){return super.has(b5(this,e))}set(e,r){return super.set(S3e(this,e),r)}delete(e){return super.delete(E3e(this,e))}}function b5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function S3e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function E3e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function A3e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function T3e(t=xl){if(t===xl)return DD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function DD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const O3e=Math.sqrt(50),C3e=Math.sqrt(10),$3e=Math.sqrt(2);function _0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=O3e?10:s>=C3e?5:s>=$3e?2:1;let u,d,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=r&&r<2?_0(t,e,r*2):[u,d,h]}function N1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,l]=n?_0(e,t,r):_0(t,e,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(a+h)/-l;else for(let h=0;h<u;++h)d[h]=(a+h)*l;return d}function k1(t,e,r){return e=+e,t=+t,r=+r,_0(t,e,r)[2]}function S1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?k1(e,t,r):k1(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function y5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LD(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?DD:T3e(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),y=Math.max(r,Math.floor(e-h*p/d+b)),_=Math.min(n,Math.floor(e+(d-h)*p/d+b));LD(t,e,y,_,a)}const s=t[e];let l=r,u=n;for(Mf(t,r,e),a(t[n],s)>0&&Mf(t,r,n);l<u;){for(Mf(t,l,u),++l,--u;a(t[l],s)<0;)++l;for(;a(t[u],s)>0;)--u}a(t[r],s)===0?Mf(t,r,u):(++u,Mf(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Mf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function P3e(t,e,r){if(t=Float64Array.from(N3e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return _5(t);if(e>=1)return y5(t);var n,a=(n-1)*e,s=Math.floor(a),l=y5(LD(t,s).subarray(0,s+1)),u=_5(t.subarray(s+1));return l+(u-l)*(a-s)}}function R3e(t,e,r=RD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),l=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return l+(u-l)*(a-s)}}function D3e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function xs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const E1=Symbol("implicit");function uN(){var t=new p5,e=[],r=[],n=E1;function a(s){let l=t.get(s);if(l===void 0){if(n!==E1)return n;t.set(s,l=e.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new p5;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return uN(e,r).unknown(n)},xs.apply(a,arguments),a}function dN(){var t=uN().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,l,u=!1,d=0,h=0,m=.5;delete t.unknown;function p(){var b=e().length,y=a<n,_=y?a:n,w=y?n:a;s=(w-_)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),_+=(w-_-s*(b-d))*m,l=s*(1-d),u&&(_=Math.round(_),l=Math.round(l));var j=D3e(b).map(function(k){return _+s*k});return r(y?j.reverse():j)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([n,a]=b,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(b){return[n,a]=b,n=+n,a=+a,u=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,p()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,p()):h},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return dN(e(),[n,a]).round(u).paddingInner(d).paddingOuter(h).align(m)},xs.apply(p(),arguments)}function ID(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ID(e())},t}function L3e(){return ID(dN.apply(null,arguments).paddingInner(1))}function fN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function MD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jh(){}var jh=.7,x0=1/jh,rd="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I3e=/^#([0-9a-f]{3,8})$/,M3e=new RegExp(`^rgb\\(${rd},${rd},${rd}\\)$`),U3e=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),q3e=new RegExp(`^rgba\\(${rd},${rd},${rd},${Nh}\\)$`),B3e=new RegExp(`^rgba\\(${ui},${ui},${ui},${Nh}\\)$`),z3e=new RegExp(`^hsl\\(${Nh},${ui},${ui}\\)$`),F3e=new RegExp(`^hsla\\(${Nh},${ui},${ui},${Nh}\\)$`),x5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fN(Jh,kh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v5,formatHex:v5,formatHex8:H3e,formatHsl:K3e,formatRgb:w5,toString:w5});function v5(){return this.rgb().formatHex()}function H3e(){return this.rgb().formatHex8()}function K3e(){return UD(this).formatHsl()}function w5(){return this.rgb().formatRgb()}function kh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=I3e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?j5(e):r===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=M3e.exec(t))?new Sa(e[1],e[2],e[3],1):(e=U3e.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q3e.exec(t))?Yg(e[1],e[2],e[3],e[4]):(e=B3e.exec(t))?Yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z3e.exec(t))?S5(e[1],e[2]/100,e[3]/100,1):(e=F3e.exec(t))?S5(e[1],e[2]/100,e[3]/100,e[4]):x5.hasOwnProperty(t)?j5(x5[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function j5(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function Yg(t,e,r,n){return n<=0&&(t=e=r=NaN),new Sa(t,e,r,n)}function V3e(t){return t instanceof Jh||(t=kh(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function A1(t,e,r,n){return arguments.length===1?V3e(t):new Sa(t,e,r,n==null?1:n)}function Sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}fN(Sa,A1,MD(Jh,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(vc(this.r),vc(this.g),vc(this.b),v0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N5,formatHex:N5,formatHex8:G3e,formatRgb:k5,toString:k5}));function N5(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}`}function G3e(){return`#${gc(this.r)}${gc(this.g)}${gc(this.b)}${gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function k5(){const t=v0(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function v0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gc(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function S5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ls(t,e,r,n)}function UD(t){if(t instanceof Ls)return new Ls(t.h,t.s,t.l,t.opacity);if(t instanceof Jh||(t=kh(t)),!t)return new Ls;if(t instanceof Ls)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(e===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-e)/u+2:l=(e-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Ls(l,u,d,t.opacity)}function W3e(t,e,r,n){return arguments.length===1?UD(t):new Ls(t,e,r,n==null?1:n)}function Ls(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}fN(Ls,W3e,MD(Jh,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new Ls(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new Ls(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Sa(Cv(t>=240?t-240:t+120,a,n),Cv(t,a,n),Cv(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ls(E5(this.h),Xg(this.s),Xg(this.l),v0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=v0(this.opacity);return`${t===1?"hsl(":"hsla("}${E5(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function E5(t){return t=(t||0)%360,t<0?t+360:t}function Xg(t){return Math.max(0,Math.min(1,t||0))}function Cv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hN=t=>()=>t;function Y3e(t,e){return function(r){return t+r*e}}function X3e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Z3e(t){return(t=+t)==1?qD:function(e,r){return r-e?X3e(e,r,t):hN(isNaN(e)?r:e)}}function qD(t,e){var r=e-t;return r?Y3e(t,r):hN(isNaN(t)?e:t)}const A5=(function t(e){var r=Z3e(e);function n(a,s){var l=r((a=A1(a)).r,(s=A1(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),h=qD(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=h(m),a+""}}return n.gamma=t,n})(1);function J3e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function Q3e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eTe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=$d(t[l],e[l]);for(;l<r;++l)s[l]=e[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function tTe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function w0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function rTe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=$d(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var T1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$v=new RegExp(T1.source,"g");function nTe(t){return function(){return t}}function aTe(t){return function(e){return t(e)+""}}function sTe(t,e){var r=T1.lastIndex=$v.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(n=T1.exec(t))&&(a=$v.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:w0(n,a)})),r=$v.lastIndex;return r<e.length&&(s=e.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?aTe(d[0].x):nTe(e):(e=d.length,function(h){for(var m=0,p;m<e;++m)u[(p=d[m]).i]=p.x(h);return u.join("")})}function $d(t,e){var r=typeof e,n;return e==null||r==="boolean"?hN(e):(r==="number"?w0:r==="string"?(n=kh(e))?(e=n,A5):sTe:e instanceof kh?A5:e instanceof Date?tTe:Q3e(e)?J3e:Array.isArray(e)?eTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rTe:w0)(t,e)}function mN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function iTe(t,e){e===void 0&&(e=t,t=$d);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function oTe(t){return function(){return t}}function j0(t){return+t}var T5=[0,1];function ua(t){return t}function O1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:oTe(isNaN(e)?NaN:.5)}function lTe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function cTe(t,e,r){var n=t[0],a=t[1],s=e[0],l=e[1];return a<n?(n=O1(a,n),s=r(l,s)):(n=O1(n,a),s=r(s,l)),function(u){return s(n(u))}}function uTe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=O1(t[l],t[l+1]),s[l]=r(e[l],e[l+1]);return function(u){var d=Zh(t,u,1,n)-1;return s[d](a[d](u))}}function Qh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nb(){var t=T5,e=T5,r=$d,n,a,s,l=ua,u,d,h;function m(){var b=Math.min(t.length,e.length);return l!==ua&&(l=lTe(t[0],t[b-1])),u=b>2?uTe:cTe,d=h=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(n),e,r)))(n(l(b)))}return p.invert=function(b){return l(a((h||(h=u(e,t.map(n),w0)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,j0),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),r=mN,m()},p.clamp=function(b){return arguments.length?(l=b?!0:ua,m()):l!==ua},p.interpolate=function(b){return arguments.length?(r=b,m()):r},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,y){return n=b,a=y,m()}}function gN(){return Nb()(ua,ua)}function dTe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function N0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bd(t){return t=N0(Math.abs(t)),t?t[1]:NaN}function fTe(t,e){return function(r,n){for(var a=r.length,s=[],l=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function hTe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var mTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sh(t){if(!(e=mTe.exec(t)))throw new Error("invalid format: "+t);var e;return new pN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sh.prototype=pN.prototype;function pN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gTe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var BD;function pTe(t,e){var r=N0(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(BD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+N0(t,Math.max(0,e+s-1))[0]}function O5(t,e){var r=N0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const C5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dTe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>O5(t*100,e),r:O5,s:pTe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $5(t){return t}var P5=Array.prototype.map,R5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bTe(t){var e=t.grouping===void 0||t.thousands===void 0?$5:fTe(P5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$5:hTe(P5.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Sh(p);var b=p.fill,y=p.align,_=p.sign,w=p.symbol,j=p.zero,k=p.width,E=p.comma,S=p.precision,P=p.trim,C=p.type;C==="n"?(E=!0,C="g"):C5[C]||(S===void 0&&(S=12),P=!0,C="g"),(j||b==="0"&&y==="=")&&(j=!0,b="0",y="=");var I=w==="$"?r:w==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=w==="$"?n:/[%p]/.test(C)?l:"",B=C5[C],H=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function se(D){var R=I,L=$,V,Z,U;if(C==="c")L=B(D)+L,D="";else{D=+D;var K=D<0||1/D<0;if(D=isNaN(D)?d:B(Math.abs(D),S),P&&(D=gTe(D)),K&&+D==0&&_!=="+"&&(K=!1),R=(K?_==="("?_:u:_==="-"||_==="("?"":_)+R,L=(C==="s"?R5[8+BD/3]:"")+L+(K&&_==="("?")":""),H){for(V=-1,Z=D.length;++V<Z;)if(U=D.charCodeAt(V),48>U||U>57){L=(U===46?a+D.slice(V+1):D.slice(V))+L,D=D.slice(0,V);break}}}E&&!j&&(D=e(D,1/0));var W=R.length+D.length+L.length,X=W<k?new Array(k-W+1).join(b):"";switch(E&&j&&(D=e(X+D,X.length?k-L.length:1/0),X=""),y){case"<":D=R+D+L+X;break;case"=":D=R+X+D+L;break;case"^":D=X.slice(0,W=X.length>>1)+R+D+L+X.slice(W);break;default:D=X+R+D+L;break}return s(D)}return se.toString=function(){return p+""},se}function m(p,b){var y=h((p=Sh(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(bd(b)/3)))*3,w=Math.pow(10,-_),j=R5[8+_/3];return function(k){return y(w*k)+j}}return{format:h,formatPrefix:m}}var Zg,bN,zD;yTe({thousands:",",grouping:[3],currency:["$",""]});function yTe(t){return Zg=bTe(t),bN=Zg.format,zD=Zg.formatPrefix,Zg}function _Te(t){return Math.max(0,-bd(Math.abs(t)))}function xTe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(e)/3)))*3-bd(Math.abs(t)))}function vTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bd(e)-bd(t))+1}function FD(t,e,r,n){var a=S1(t,e,r),s;switch(n=Sh(n==null?",f":n),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=xTe(a,l))&&(n.precision=s),zD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vTe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_Te(a))&&(n.precision=s-(n.type==="%")*2);break}}return bN(n)}function Cl(t){var e=t.domain;return t.ticks=function(r){var n=e();return N1(n[0],n[n.length-1],r==null?10:r)},t.tickFormat=function(r,n){var a=e();return FD(a[0],a[a.length-1],r==null?10:r,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,l=n[a],u=n[s],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=a,a=s,s=h);m-- >0;){if(h=k1(l,u,r),h===d)return n[a]=l,n[s]=u,e(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function HD(){var t=gN();return t.copy=function(){return Qh(t,HD())},xs.apply(t,arguments),Cl(t)}function KD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,j0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return KD(t).unknown(e)},t=arguments.length?Array.from(t,j0):[0,1],Cl(r)}function VD(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),t[r]=e.floor(a),t[n]=e.ceil(s),t}function D5(t){return Math.log(t)}function L5(t){return Math.exp(t)}function wTe(t){return-Math.log(-t)}function jTe(t){return-Math.exp(-t)}function NTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kTe(t){return t===10?NTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function STe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function I5(t){return(e,r)=>-t(-e,r)}function yN(t){const e=t(D5,L5),r=e.domain;let n=10,a,s;function l(){return a=STe(n),s=kTe(n),r()[0]<0?(a=I5(a),s=I5(s),t(wTe,jTe)):t(D5,L5),e}return e.base=function(u){return arguments.length?(n=+u,l()):n},e.domain=function(u){return arguments.length?(r(u),l()):r()},e.ticks=u=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let b=a(h),y=a(m),_,w;const j=u==null?10:+u;let k=[];if(!(n%1)&&y-b<j){if(b=Math.floor(b),y=Math.ceil(y),h>0){for(;b<=y;++b)for(_=1;_<n;++_)if(w=b<0?_/s(-b):_*s(b),!(w<h)){if(w>m)break;k.push(w)}}else for(;b<=y;++b)for(_=n-1;_>=1;--_)if(w=b>0?_/s(-b):_*s(b),!(w<h)){if(w>m)break;k.push(w)}k.length*2<j&&(k=N1(h,m,j))}else k=N1(b,y,Math.min(y-b,j)).map(s);return p?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Sh(d)).precision==null&&(d.trim=!0),d=bN(d)),u===1/0)return d;const h=Math.max(1,n*u/e.ticks().length);return m=>{let p=m/s(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},e.nice=()=>r(VD(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function GD(){const t=yN(Nb()).domain([1,10]);return t.copy=()=>Qh(t,GD()).base(t.base()),xs.apply(t,arguments),t}function M5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function U5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _N(t){var e=1,r=t(M5(e),U5(e));return r.constant=function(n){return arguments.length?t(M5(e=+n),U5(e)):e},Cl(r)}function WD(){var t=_N(Nb());return t.copy=function(){return Qh(t,WD()).constant(t.constant())},xs.apply(t,arguments)}function q5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ETe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ATe(t){return t<0?-t*t:t*t}function xN(t){var e=t(ua,ua),r=1;function n(){return r===1?t(ua,ua):r===.5?t(ETe,ATe):t(q5(r),q5(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Cl(e)}function vN(){var t=xN(Nb());return t.copy=function(){return Qh(t,vN()).exponent(t.exponent())},xs.apply(t,arguments),t}function TTe(){return vN.apply(null,arguments).exponent(.5)}function B5(t){return Math.sign(t)*t*t}function OTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YD(){var t=gN(),e=[0,1],r=!1,n;function a(s){var l=OTe(t(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return t.invert(B5(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,j0)).map(B5)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return YD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},xs.apply(a,arguments),Cl(a)}function XD(){var t=[],e=[],r=[],n;function a(){var l=0,u=Math.max(1,e.length);for(r=new Array(u-1);++l<u;)r[l-1]=R3e(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:e[Zh(r,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(xl),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return XD().domain(t).range(e).unknown(n)},xs.apply(s,arguments)}function ZD(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Zh(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return ZD().domain([t,e]).range(a).unknown(s)},xs.apply(Cl(l),arguments)}function JD(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Zh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return JD().domain(t).range(e).unknown(r)},xs.apply(a,arguments)}const Pv=new Date,Rv=new Date;function Sn(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},a.filter=s=>Sn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),r&&(a.count=(s,l)=>(Pv.setTime(+s),Rv.setTime(+l),t(Pv),t(Rv),Math.floor(r(Pv,Rv))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const k0=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);k0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):k0);k0.range;const Qi=1e3,hs=Qi*60,eo=hs*60,co=eo*24,wN=co*7,z5=co*30,Dv=co*365,pc=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCSeconds());pc.range;const jN=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getMinutes());jN.range;const NN=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCMinutes());NN.range;const kN=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi-t.getMinutes()*hs)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getHours());kN.range;const SN=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getUTCHours());SN.range;const em=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hs)/co,t=>t.getDate()-1);em.range;const kb=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>t.getUTCDate()-1);kb.range;const QD=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/co,t=>Math.floor(t/co));QD.range;function Ic(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*hs)/wN)}const Sb=Ic(0),S0=Ic(1),CTe=Ic(2),$Te=Ic(3),yd=Ic(4),PTe=Ic(5),RTe=Ic(6);Sb.range;S0.range;CTe.range;$Te.range;yd.range;PTe.range;RTe.range;function Mc(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/wN)}const Eb=Mc(0),E0=Mc(1),DTe=Mc(2),LTe=Mc(3),_d=Mc(4),ITe=Mc(5),MTe=Mc(6);Eb.range;E0.range;DTe.range;LTe.range;_d.range;ITe.range;MTe.range;const EN=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EN.range;const AN=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AN.range;const uo=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});uo.range;const fo=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});fo.range;function eL(t,e,r,n,a,s){const l=[[pc,1,Qi],[pc,5,5*Qi],[pc,15,15*Qi],[pc,30,30*Qi],[s,1,hs],[s,5,5*hs],[s,15,15*hs],[s,30,30*hs],[a,1,eo],[a,3,3*eo],[a,6,6*eo],[a,12,12*eo],[n,1,co],[n,2,2*co],[r,1,wN],[e,1,z5],[e,3,3*z5],[t,1,Dv]];function u(h,m,p){const b=m<h;b&&([h,m]=[m,h]);const y=p&&typeof p.range=="function"?p:d(h,m,p),_=y?y.range(h,+m+1):[];return b?_.reverse():_}function d(h,m,p){const b=Math.abs(m-h)/p,y=cN(([,,j])=>j).right(l,b);if(y===l.length)return t.every(S1(h/Dv,m/Dv,p));if(y===0)return k0.every(Math.max(S1(h,m,p),1));const[_,w]=l[b/l[y-1][2]<l[y][2]/b?y-1:y];return _.every(w)}return[u,d]}const[UTe,qTe]=eL(fo,AN,Eb,QD,SN,NN),[BTe,zTe]=eL(uo,EN,Sb,em,kN,jN);function Lv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function FTe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=qf(a),m=Bf(a),p=qf(s),b=Bf(s),y=qf(l),_=Bf(l),w=qf(u),j=Bf(u),k=qf(d),E=Bf(d),S={a:K,A:W,b:X,B:Q,c:null,d:W5,e:W5,f:fOe,g:wOe,G:NOe,H:cOe,I:uOe,j:dOe,L:tL,m:hOe,M:mOe,p:M,q:G,Q:Z5,s:J5,S:gOe,u:pOe,U:bOe,V:yOe,w:_Oe,W:xOe,x:null,X:null,y:vOe,Y:jOe,Z:kOe,"%":X5},P={a:q,A:ae,b:ie,B:be,c:null,d:Y5,e:Y5,f:TOe,g:UOe,G:BOe,H:SOe,I:EOe,j:AOe,L:nL,m:OOe,M:COe,p:te,q:he,Q:Z5,s:J5,S:$Oe,u:POe,U:ROe,V:DOe,w:LOe,W:IOe,x:null,X:null,y:MOe,Y:qOe,Z:zOe,"%":X5},C={a:se,A:D,b:R,B:L,c:V,d:V5,e:V5,f:sOe,g:K5,G:H5,H:G5,I:G5,j:tOe,L:aOe,m:eOe,M:rOe,p:H,q:QTe,Q:oOe,s:lOe,S:nOe,u:WTe,U:YTe,V:XTe,w:GTe,W:ZTe,x:Z,X:U,y:K5,Y:H5,Z:JTe,"%":iOe};S.x=I(r,S),S.X=I(n,S),S.c=I(e,S),P.x=I(r,P),P.X=I(n,P),P.c=I(e,P);function I(Y,we){return function(Ce){var ce=[],ue=-1,Ie=0,Ve=Y.length,Ze,ve,Re;for(Ce instanceof Date||(Ce=new Date(+Ce));++ue<Ve;)Y.charCodeAt(ue)===37&&(ce.push(Y.slice(Ie,ue)),(ve=F5[Ze=Y.charAt(++ue)])!=null?Ze=Y.charAt(++ue):ve=Ze==="e"?" ":"0",(Re=we[Ze])&&(Ze=Re(Ce,ve)),ce.push(Ze),Ie=ue+1);return ce.push(Y.slice(Ie,ue)),ce.join("")}}function $(Y,we){return function(Ce){var ce=Uf(1900,void 0,1),ue=B(ce,Y,Ce+="",0),Ie,Ve;if(ue!=Ce.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(we&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=Iv(Uf(ce.y,0,1)),Ve=Ie.getUTCDay(),Ie=Ve>4||Ve===0?E0.ceil(Ie):E0(Ie),Ie=kb.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=Lv(Uf(ce.y,0,1)),Ve=Ie.getDay(),Ie=Ve>4||Ve===0?S0.ceil(Ie):S0(Ie),Ie=em.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ve="Z"in ce?Iv(Uf(ce.y,0,1)).getUTCDay():Lv(Uf(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ve+5)%7:ce.w+ce.U*7-(Ve+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Iv(ce)):Lv(ce)}}function B(Y,we,Ce,ce){for(var ue=0,Ie=we.length,Ve=Ce.length,Ze,ve;ue<Ie;){if(ce>=Ve)return-1;if(Ze=we.charCodeAt(ue++),Ze===37){if(Ze=we.charAt(ue++),ve=C[Ze in F5?we.charAt(ue++):Ze],!ve||(ce=ve(Y,Ce,ce))<0)return-1}else if(Ze!=Ce.charCodeAt(ce++))return-1}return ce}function H(Y,we,Ce){var ce=h.exec(we.slice(Ce));return ce?(Y.p=m.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function se(Y,we,Ce){var ce=y.exec(we.slice(Ce));return ce?(Y.w=_.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function D(Y,we,Ce){var ce=p.exec(we.slice(Ce));return ce?(Y.w=b.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function R(Y,we,Ce){var ce=k.exec(we.slice(Ce));return ce?(Y.m=E.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function L(Y,we,Ce){var ce=w.exec(we.slice(Ce));return ce?(Y.m=j.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function V(Y,we,Ce){return B(Y,e,we,Ce)}function Z(Y,we,Ce){return B(Y,r,we,Ce)}function U(Y,we,Ce){return B(Y,n,we,Ce)}function K(Y){return l[Y.getDay()]}function W(Y){return s[Y.getDay()]}function X(Y){return d[Y.getMonth()]}function Q(Y){return u[Y.getMonth()]}function M(Y){return a[+(Y.getHours()>=12)]}function G(Y){return 1+~~(Y.getMonth()/3)}function q(Y){return l[Y.getUTCDay()]}function ae(Y){return s[Y.getUTCDay()]}function ie(Y){return d[Y.getUTCMonth()]}function be(Y){return u[Y.getUTCMonth()]}function te(Y){return a[+(Y.getUTCHours()>=12)]}function he(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var we=I(Y+="",S);return we.toString=function(){return Y},we},parse:function(Y){var we=$(Y+="",!1);return we.toString=function(){return Y},we},utcFormat:function(Y){var we=I(Y+="",P);return we.toString=function(){return Y},we},utcParse:function(Y){var we=$(Y+="",!0);return we.toString=function(){return Y},we}}}var F5={"-":"",_:" ",0:"0"},In=/^\s*\d+/,HTe=/^%/,KTe=/[\\^$*+?|[\]().{}]/g;function Ft(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function VTe(t){return t.replace(KTe,"\\$&")}function qf(t){return new RegExp("^(?:"+t.map(VTe).join("|")+")","i")}function Bf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function GTe(t,e,r){var n=In.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function WTe(t,e,r){var n=In.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function YTe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function XTe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ZTe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function H5(t,e,r){var n=In.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function K5(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JTe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QTe(t,e,r){var n=In.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function eOe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function V5(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function tOe(t,e,r){var n=In.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function G5(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function rOe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function nOe(t,e,r){var n=In.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function aOe(t,e,r){var n=In.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function sOe(t,e,r){var n=In.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iOe(t,e,r){var n=HTe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function oOe(t,e,r){var n=In.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function lOe(t,e,r){var n=In.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function W5(t,e){return Ft(t.getDate(),e,2)}function cOe(t,e){return Ft(t.getHours(),e,2)}function uOe(t,e){return Ft(t.getHours()%12||12,e,2)}function dOe(t,e){return Ft(1+em.count(uo(t),t),e,3)}function tL(t,e){return Ft(t.getMilliseconds(),e,3)}function fOe(t,e){return tL(t,e)+"000"}function hOe(t,e){return Ft(t.getMonth()+1,e,2)}function mOe(t,e){return Ft(t.getMinutes(),e,2)}function gOe(t,e){return Ft(t.getSeconds(),e,2)}function pOe(t){var e=t.getDay();return e===0?7:e}function bOe(t,e){return Ft(Sb.count(uo(t)-1,t),e,2)}function rL(t){var e=t.getDay();return e>=4||e===0?yd(t):yd.ceil(t)}function yOe(t,e){return t=rL(t),Ft(yd.count(uo(t),t)+(uo(t).getDay()===4),e,2)}function _Oe(t){return t.getDay()}function xOe(t,e){return Ft(S0.count(uo(t)-1,t),e,2)}function vOe(t,e){return Ft(t.getFullYear()%100,e,2)}function wOe(t,e){return t=rL(t),Ft(t.getFullYear()%100,e,2)}function jOe(t,e){return Ft(t.getFullYear()%1e4,e,4)}function NOe(t,e){var r=t.getDay();return t=r>=4||r===0?yd(t):yd.ceil(t),Ft(t.getFullYear()%1e4,e,4)}function kOe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ft(e/60|0,"0",2)+Ft(e%60,"0",2)}function Y5(t,e){return Ft(t.getUTCDate(),e,2)}function SOe(t,e){return Ft(t.getUTCHours(),e,2)}function EOe(t,e){return Ft(t.getUTCHours()%12||12,e,2)}function AOe(t,e){return Ft(1+kb.count(fo(t),t),e,3)}function nL(t,e){return Ft(t.getUTCMilliseconds(),e,3)}function TOe(t,e){return nL(t,e)+"000"}function OOe(t,e){return Ft(t.getUTCMonth()+1,e,2)}function COe(t,e){return Ft(t.getUTCMinutes(),e,2)}function $Oe(t,e){return Ft(t.getUTCSeconds(),e,2)}function POe(t){var e=t.getUTCDay();return e===0?7:e}function ROe(t,e){return Ft(Eb.count(fo(t)-1,t),e,2)}function aL(t){var e=t.getUTCDay();return e>=4||e===0?_d(t):_d.ceil(t)}function DOe(t,e){return t=aL(t),Ft(_d.count(fo(t),t)+(fo(t).getUTCDay()===4),e,2)}function LOe(t){return t.getUTCDay()}function IOe(t,e){return Ft(E0.count(fo(t)-1,t),e,2)}function MOe(t,e){return Ft(t.getUTCFullYear()%100,e,2)}function UOe(t,e){return t=aL(t),Ft(t.getUTCFullYear()%100,e,2)}function qOe(t,e){return Ft(t.getUTCFullYear()%1e4,e,4)}function BOe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_d(t):_d.ceil(t),Ft(t.getUTCFullYear()%1e4,e,4)}function zOe(){return"+0000"}function X5(){return"%"}function Z5(t){return+t}function J5(t){return Math.floor(+t/1e3)}var Du,sL,iL;FOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FOe(t){return Du=FTe(t),sL=Du.format,Du.parse,iL=Du.utcFormat,Du.utcParse,Du}function HOe(t){return new Date(t)}function KOe(t){return t instanceof Date?+t:+new Date(+t)}function TN(t,e,r,n,a,s,l,u,d,h){var m=gN(),p=m.invert,b=m.domain,y=h(".%L"),_=h(":%S"),w=h("%I:%M"),j=h("%I %p"),k=h("%a %d"),E=h("%b %d"),S=h("%B"),P=h("%Y");function C(I){return(d(I)<I?y:u(I)<I?_:l(I)<I?w:s(I)<I?j:n(I)<I?a(I)<I?k:E:r(I)<I?S:P)(I)}return m.invert=function(I){return new Date(p(I))},m.domain=function(I){return arguments.length?b(Array.from(I,KOe)):b().map(HOe)},m.ticks=function(I){var $=b();return t($[0],$[$.length-1],I==null?10:I)},m.tickFormat=function(I,$){return $==null?C:h($)},m.nice=function(I){var $=b();return(!I||typeof I.range!="function")&&(I=e($[0],$[$.length-1],I==null?10:I)),I?b(VD($,I)):m},m.copy=function(){return Qh(m,TN(t,e,r,n,a,s,l,u,d,h))},m}function VOe(){return xs.apply(TN(BTe,zTe,uo,EN,Sb,em,kN,jN,pc,sL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GOe(){return xs.apply(TN(UTe,qTe,fo,AN,Eb,kb,SN,NN,pc,iL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ab(){var t=0,e=1,r,n,a,s,l=ua,u=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(a===0?.5:(p=(s(p)-r)*a,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(b){var y,_;return arguments.length?([y,_]=b,l=p(y,_),h):[l(0),l(1)]}}return h.range=m($d),h.rangeRound=m(mN),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return s=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),h}}function $l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oL(){var t=Cl(Ab()(ua));return t.copy=function(){return $l(t,oL())},wo.apply(t,arguments)}function lL(){var t=yN(Ab()).domain([1,10]);return t.copy=function(){return $l(t,lL()).base(t.base())},wo.apply(t,arguments)}function cL(){var t=_N(Ab());return t.copy=function(){return $l(t,cL()).constant(t.constant())},wo.apply(t,arguments)}function ON(){var t=xN(Ab());return t.copy=function(){return $l(t,ON()).exponent(t.exponent())},wo.apply(t,arguments)}function WOe(){return ON.apply(null,arguments).exponent(.5)}function uL(){var t=[],e=ua;function r(n){if(n!=null&&!isNaN(n=+n))return e((Zh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(xl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>P3e(t,s/n))},r.copy=function(){return uL(e).domain(t)},wo.apply(r,arguments)}function Tb(){var t=0,e=.5,r=1,n=1,a,s,l,u,d,h=ua,m,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+m(w))-s)*(n*w<n*s?u:d),h(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,r]=w,a=m(t=+t),s=m(e=+e),l=m(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[t,e,r]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(h=w,y):h};function _(w){return function(j){var k,E,S;return arguments.length?([k,E,S]=j,h=iTe(w,[k,E,S]),y):[h(0),h(.5),h(1)]}}return y.range=_($d),y.rangeRound=_(mN),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return m=w,a=w(t),s=w(e),l=w(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function dL(){var t=Cl(Tb()(ua));return t.copy=function(){return $l(t,dL())},wo.apply(t,arguments)}function fL(){var t=yN(Tb()).domain([.1,1,10]);return t.copy=function(){return $l(t,fL()).base(t.base())},wo.apply(t,arguments)}function hL(){var t=_N(Tb());return t.copy=function(){return $l(t,hL()).constant(t.constant())},wo.apply(t,arguments)}function CN(){var t=xN(Tb());return t.copy=function(){return $l(t,CN()).exponent(t.exponent())},wo.apply(t,arguments)}function YOe(){return CN.apply(null,arguments).exponent(.5)}const Yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dN,scaleDiverging:dL,scaleDivergingLog:fL,scaleDivergingPow:CN,scaleDivergingSqrt:YOe,scaleDivergingSymlog:hL,scaleIdentity:KD,scaleImplicit:E1,scaleLinear:HD,scaleLog:GD,scaleOrdinal:uN,scalePoint:L3e,scalePow:vN,scaleQuantile:XD,scaleQuantize:ZD,scaleRadial:YD,scaleSequential:oL,scaleSequentialLog:lL,scaleSequentialPow:ON,scaleSequentialQuantile:uL,scaleSequentialSqrt:WOe,scaleSequentialSymlog:cL,scaleSqrt:TTe,scaleSymlog:WD,scaleThreshold:JD,scaleTime:VOe,scaleUtc:GOe,tickFormat:FD},Symbol.toStringTag,{value:"Module"}));var Pl=t=>t.chartData,$N=me([Pl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),tm=(t,e,r,n)=>n?$N(t):Pl(t);function Sl(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Er(e)&&Er(r))return!0}return!1}function Q5(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function mL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,a,s;if(Er(r))a=r;else if(typeof r=="function")return;if(Er(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Sl(l))return l}}function XOe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Sl(n))return Q5(n,e,r)}catch(y){}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,u;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ge(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[0]))}catch(y){}else if(typeof a=="string"&&EO.test(a)){var d=EO.exec(a);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ge(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e==null?void 0:e[1]))}catch(y){}else if(typeof s=="string"&&AO.test(s)){var m=AO.exec(s);if(m==null||e==null)u=void 0;else{var p=+m[1];u=e[1]+p}}else u=e==null?void 0:e[1];var b=[l,u];if(Sl(b))return e==null?b:Q5(b,e,r)}}}var Pd=1e9,ZOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RN,Pr=!0,ys="[DecimalError] ",wc=ys+"Invalid argument: ",PN=ys+"Exponent out of range: ",Rd=Math.floor,uc=Math.pow,JOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,Rn=1e7,Nr=7,gL=9007199254740991,A0=Rd(gL/Nr),Xe={};Xe.absoluteValue=Xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xe.comparedTo=Xe.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(t){return ro(this,new this.constructor(t))};Xe.dividedToIntegerBy=Xe.idiv=function(t){var e=this,r=e.constructor;return fr(ro(e,new r(t),0,1),r.precision)};Xe.equals=Xe.eq=function(t){return!this.cmp(t)};Xe.exponent=function(){return pn(this)};Xe.greaterThan=Xe.gt=function(t){return this.cmp(t)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(t){return this.cmp(t)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(t){return this.cmp(t)<0};Xe.lessThanOrEqualTo=Xe.lte=function(t){return this.cmp(t)<1};Xe.logarithm=Xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ha))throw Error(ys+"NaN");if(r.s<1)throw Error(ys+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(Pr=!1,e=ro(Eh(r,s),Eh(t,s),s),Pr=!0,fr(e,a))};Xe.minus=Xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yL(e,t):pL(e,(t.s=-t.s,t))};Xe.modulo=Xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ys+"NaN");return r.s?(Pr=!1,e=ro(r,t,0,1).times(t),Pr=!0,r.minus(e)):fr(new n(r),a)};Xe.naturalExponential=Xe.exp=function(){return bL(this)};Xe.naturalLogarithm=Xe.ln=function(){return Eh(this)};Xe.negated=Xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xe.plus=Xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pL(e,t):yL(e,(t.s=-t.s,t))};Xe.precision=Xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wc+t);if(e=pn(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Xe.squareRoot=Xe.sqrt=function(){var t,e,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ys+"NaN")}for(t=pn(u),Pr=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=li(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(ro(u,s,l+2)).times(.5),li(s.d).slice(0,l)===(e=li(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(fr(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;l+=4}return Pr=!0,fr(n,r)};Xe.times=Xe.mul=function(t){var e,r,n,a,s,l,u,d,h,m=this,p=m.constructor,b=m.d,y=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,d=b.length,h=y.length,d<h&&(s=b,b=y,y=s,l=d,d=h,h=l),s=[],l=d+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)u=s[a]+y[n]*b[a-n-1]+e,s[a--]=u%Rn|0,e=u/Rn|0;s[a]=(s[a]+e)%Rn|0}for(;!s[--l];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Pr?fr(t,p.precision):t};Xe.toDecimalPlaces=Xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(_i(t,0,Pd),e===void 0?e=n.rounding:_i(e,0,8),fr(r,t+pn(r)+1,e))};Xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Oc(n,!0):(_i(t,0,Pd),e===void 0?e=a.rounding:_i(e,0,8),n=fr(new a(n),t+1,e),r=Oc(n,!0,t+1)),r};Xe.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Oc(a):(_i(t,0,Pd),e===void 0?e=s.rounding:_i(e,0,8),n=fr(new s(a),t+pn(a)+1,e),r=Oc(n.abs(),!1,t+pn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var t=this,e=t.constructor;return fr(new e(t),pn(t)+1,e.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(t){var e,r,n,a,s,l,u=this,d=u.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(Ha);if(u=new d(u),!u.s){if(t.s<1)throw Error(ys+"Infinity");return u}if(u.eq(Ha))return u;if(n=d.precision,t.eq(Ha))return fr(u,n);if(e=t.e,r=t.d.length-1,l=e>=r,s=u.s,l){if((r=m<0?-m:m)<=gL){for(a=new d(Ha),e=Math.ceil(n/Nr+4),Pr=!1;r%2&&(a=a.times(u),tC(a.d,e)),r=Rd(r/2),r!==0;)u=u.times(u),tC(u.d,e);return Pr=!0,t.s<0?new d(Ha).div(a):fr(a,n)}}else if(s<0)throw Error(ys+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Pr=!1,a=t.times(Eh(u,n+h)),Pr=!0,a=bL(a),a.s=s,a};Xe.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=pn(a),n=Oc(a,r<=s.toExpNeg||r>=s.toExpPos)):(_i(t,1,Pd),e===void 0?e=s.rounding:_i(e,0,8),a=fr(new s(a),t,e),r=pn(a),n=Oc(a,t<=r||r<=s.toExpNeg,t)),n};Xe.toSignificantDigits=Xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(_i(t,1,Pd),e===void 0?e=n.rounding:_i(e,0,8)),fr(new n(r),t,e)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),r=t.constructor;return Oc(t,e<=r.toExpNeg||e>=r.toExpPos)};function pL(t,e){var r,n,a,s,l,u,d,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Pr?fr(e,p):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=h.length):(n=h,a=l,u=d.length),l=Math.ceil(p/Nr),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Rn|0,d[s]%=Rn;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,Pr?fr(e,p):e}function _i(t,e,r){if(t!==~~t||t<e||t>r)throw Error(wc+t)}function li(t){var e,r,n,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)n=t[e]+"",r=Nr-n.length,r&&(s+=ll(r)),s+=n;l=t[e],n=l+"",r=Nr-n.length,r&&(s+=ll(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ro=(function(){function t(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Rn|0,l=s/Rn|0;return l&&n.unshift(l),n}function e(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Rn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,h,m,p,b,y,_,w,j,k,E,S,P,C,I,$,B,H=n.constructor,se=n.s==a.s?1:-1,D=n.d,R=a.d;if(!n.s)return new H(n);if(!a.s)throw Error(ys+"Division by zero");for(d=n.e-a.e,$=R.length,C=D.length,y=new H(se),_=y.d=[],h=0;R[h]==(D[h]||0);)++h;if(R[h]>(D[h]||0)&&--d,s==null?E=s=H.precision:l?E=s+(pn(n)-pn(a))+1:E=s,E<0)return new H(0);if(E=E/Nr+2|0,h=0,$==1)for(m=0,R=R[0],E++;(h<C||m)&&E--;h++)S=m*Rn+(D[h]||0),_[h]=S/R|0,m=S%R|0;else{for(m=Rn/(R[0]+1)|0,m>1&&(R=t(R,m),D=t(D,m),$=R.length,C=D.length),P=$,w=D.slice(0,$),j=w.length;j<$;)w[j++]=0;B=R.slice(),B.unshift(0),I=R[0],R[1]>=Rn/2&&++I;do m=0,u=e(R,w,$,j),u<0?(k=w[0],$!=j&&(k=k*Rn+(w[1]||0)),m=k/I|0,m>1?(m>=Rn&&(m=Rn-1),p=t(R,m),b=p.length,j=w.length,u=e(p,w,b,j),u==1&&(m--,r(p,$<b?B:R,b))):(m==0&&(u=m=1),p=R.slice()),b=p.length,b<j&&p.unshift(0),r(w,p,j),u==-1&&(j=w.length,u=e(R,w,$,j),u<1&&(m++,r(w,$<j?B:R,j))),j=w.length):u===0&&(m++,w=[0]),_[h++]=m,u&&w[0]?w[j++]=D[P]||0:(w=[D[P]],j=1);while((P++<C||w[0]!==void 0)&&E--)}return _[0]||_.shift(),y.e=d,fr(y,l?s+pn(y)+1:s)}})();function bL(t,e){var r,n,a,s,l,u,d=0,h=0,m=t.constructor,p=m.precision;if(pn(t)>16)throw Error(PN+pn(t));if(!t.s)return new m(Ha);for(Pr=!1,u=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(uc(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new m(Ha),m.precision=u;;){if(a=fr(a.times(t),u),r=r.times(++d),l=s.plus(ro(a,r,u)),li(l.d).slice(0,u)===li(s.d).slice(0,u)){for(;h--;)s=fr(s.times(s),u);return m.precision=p,e==null?(Pr=!0,fr(s,p)):s}s=l}}function pn(t){for(var e=t.e*Nr,r=t.d[0];r>=10;r/=10)e++;return e}function Mv(t,e,r){if(e>t.LN10.sd())throw Pr=!0,r&&(t.precision=r),Error(ys+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function ll(t){for(var e="";t--;)e+="0";return e}function Eh(t,e){var r,n,a,s,l,u,d,h,m,p=1,b=10,y=t,_=y.d,w=y.constructor,j=w.precision;if(y.s<1)throw Error(ys+(y.s?"NaN":"-Infinity"));if(y.eq(Ha))return new w(0);if(e==null?(Pr=!1,h=j):h=e,y.eq(10))return e==null&&(Pr=!0),Mv(w,h);if(h+=b,w.precision=h,r=li(_),n=r.charAt(0),s=pn(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=li(y.d),n=r.charAt(0),p++;s=pn(y),n>1?(y=new w("0."+r),s++):y=new w(n+"."+r.slice(1))}else return d=Mv(w,h+2,j).times(s+""),y=Eh(new w(n+"."+r.slice(1)),h-b).plus(d),w.precision=j,e==null?(Pr=!0,fr(y,j)):y;for(u=l=y=ro(y.minus(Ha),y.plus(Ha),h),m=fr(y.times(y),h),a=3;;){if(l=fr(l.times(m),h),d=u.plus(ro(l,new w(a),h)),li(d.d).slice(0,h)===li(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Mv(w,h+2,j).times(s+""))),u=ro(u,new w(p),h),w.precision=j,e==null?(Pr=!0,fr(u,j)):u;u=d,a+=2}}function eC(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Rd(r/Nr),t.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Nr;n<a;)t.d.push(+e.slice(n,n+=Nr));e=e.slice(n),n=Nr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Pr&&(t.e>A0||t.e<-A0))throw Error(PN+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,a,s,l,u,d,h,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(n=e-l,n<0)n+=Nr,a=e,h=p[m=0];else{if(m=Math.ceil((n+1)/Nr),s=p.length,m>=s)return t;for(h=s=p[m],l=1;s>=10;s/=10)l++;n%=Nr,a=n-Nr+l}if(r!==void 0&&(s=uc(10,l-a-1),u=h/s%10|0,d=e<0||p[m+1]!==void 0||h%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?h/uc(10,l-a):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(s=pn(t),p.length=1,e=e-s-1,p[0]=uc(10,(Nr-e%Nr)%Nr),t.e=Rd(-e/Nr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,s=1,m--):(p.length=m+1,s=uc(10,Nr-n),p[m]=a>0?(h/uc(10,l-a)%uc(10,a)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==Rn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Rn)break;p[m--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Pr&&(t.e>A0||t.e<-A0))throw Error(PN+pn(t));return t}function yL(t,e){var r,n,a,s,l,u,d,h,m,p,b=t.constructor,y=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Pr?fr(e,y):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(m=l<0,m?(r=d,l=-l,u=p.length):(r=p,n=h,u=d.length),a=Math.max(Math.ceil(y/Nr),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=p.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}l=0}for(m&&(r=d,d=p,p=r,e.s=-e.s),u=d.length,a=p.length-u;a>0;--a)d[u++]=0;for(a=p.length;a>l;){if(d[--a]<p[a]){for(s=a;s&&d[--s]===0;)d[s]=Rn-1;--d[s],d[a]+=Rn}d[a]-=p[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Pr?fr(e,y):e):new b(0)}function Oc(t,e,r){var n,a=pn(t),s=li(t.d),l=s.length;return e?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ll(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ll(-a-1)+s,r&&(n=r-l)>0&&(s+=ll(n))):a>=l?(s+=ll(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+ll(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=ll(n))),t.s<0?"-"+s:s}function tC(t,e){if(t.length>e)return t.length=e,!0}function _L(t){var e,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return eC(l,s.toString())}else if(typeof s!="string")throw Error(wc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,JOe.test(s))eC(l,s);else throw Error(wc+s)}if(a.prototype=Xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_L,a.config=a.set=QOe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function QOe(t){if(!t||typeof t!="object")throw Error(ys+"Object expected");var e,r,n,a=["precision",1,Pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Rd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(wc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wc+r+": "+n);return this}var RN=_L(ZOe);Ha=new RN(1);const rr=RN;var e5e=t=>t,xL={},vL=t=>t===xL,rC=t=>function e(){return arguments.length===0||arguments.length===1&&vL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},wL=(t,e)=>t===1?e:rC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==xL).length;return s>=t?e(...n):wL(t-s,rC(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=n.map(m=>vL(m)?u.shift():m);return e(...h,...u)}))}),t5e=t=>wL(t.length,t),C1=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},r5e=t5e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),n5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return e5e;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},$1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function jL(t){var e;return t===0?e=1:e=Math.floor(new rr(t).abs().log(10).toNumber())+1,e}function NL(t,e,r){for(var n=new rr(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var kL=t=>{var[e,r]=t,[n,a]=[e,r];return e>r&&([n,a]=[r,e]),[n,a]},SL=(t,e,r)=>{if(t.lte(0))return new rr(0);var n=jL(t.toNumber()),a=new rr(10).pow(n),s=t.div(a),l=n!==1?.05:.1,u=new rr(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return e?new rr(d.toNumber()):new rr(Math.ceil(d.toNumber()))},a5e=(t,e,r)=>{var n=new rr(1),a=new rr(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new rr(10).pow(jL(t)-1),a=new rr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new rr(Math.floor(t)))}else t===0?a=new rr(Math.floor((e-1)/2)):r||(a=new rr(Math.floor(t)));var l=Math.floor((e-1)/2),u=n5e(r5e(d=>a.add(new rr(d-l).mul(n)).toNumber()),C1);return u(0,e)},EL=function(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var l=SL(new rr(r).sub(e).div(n-1),a,s),u;e<=0&&r>=0?u=new rr(0):(u=new rr(e).add(r).div(2),u=u.sub(new rr(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new rr(r).sub(u).div(l).toNumber()),m=d+h+1;return m>n?EL(e,r,n,a,s+1):(m<n&&(h=r>0?h+(n-m):h,d=r>0?d:d+(n-m)),{step:l,tickMin:u.sub(new rr(d).mul(l)),tickMax:u.add(new rr(h).mul(l))})},s5e=function(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=kL([r,n]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...C1(0,a-1).map(()=>1/0)]:[...C1(0,a-1).map(()=>-1/0),d];return r>n?$1(h):h}if(u===d)return a5e(u,a,s);var{step:m,tickMin:p,tickMax:b}=EL(u,d,l,s,0),y=NL(p,b.add(new rr(.1).mul(m)),m);return r>n?$1(y):y},i5e=function(e,r){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=kL([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),h=SL(new rr(u).sub(l).div(d-1),s,0),m=[...NL(new rr(l),new rr(u),h),u];return s===!1&&(m=m.map(p=>Math.round(p))),n>a?$1(m):m},AL=t=>t.rootProps.maxBarSize,o5e=t=>t.rootProps.barGap,TL=t=>t.rootProps.barCategoryGap,l5e=t=>t.rootProps.barSize,rm=t=>t.rootProps.stackOffset,OL=t=>t.rootProps.reverseStackOrder,DN=t=>t.options.chartName,LN=t=>t.rootProps.syncId,CL=t=>t.rootProps.syncMethod,IN=t=>t.options.eventEmitter,c5e=t=>t.rootProps.baseValue,rn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},za={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ob=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},u5e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:Zi.type,unit:void 0},d5e={allowDataOverflow:za.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:za.tickCount,ticks:void 0,type:za.type,unit:void 0},f5e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zi.scale,tick:Zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},h5e={allowDataOverflow:za.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:za.tickCount,ticks:void 0,type:"category",unit:void 0},MN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?f5e:u5e,UN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?h5e:d5e,Cb=t=>t.polarOptions,qN=me([xo,vo,kn],TD),$L=me([Cb,qN],(t,e)=>{if(t!=null)return ra(t.innerRadius,e,0)}),PL=me([Cb,qN],(t,e)=>{if(t!=null)return ra(t.outerRadius,e,e*.8)}),m5e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},RL=me([Cb],m5e);me([MN,RL],Ob);var DL=me([qN,$L,PL],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});me([UN,DL],Ob);var LL=me([Ot,Cb,$L,PL,xo,vo],(t,e,r,n,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:ra(l,a,a/2),cy:ra(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),Rr=(t,e)=>e,nm=(t,e,r)=>r;function $b(t){return t==null?void 0:t.id}function IL(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var m=$b(u);h.forEach((p,b)=>{var y=s==null||a?b:String(nr(p,s,null)),_=nr(p,u.dataKey,0),w;l.has(y)?w=l.get(y):w={},Object.assign(w,{[m]:_}),l.set(y,w)})}}),Array.from(l.values())}function Pb(t){return t.stackId!=null&&t.dataKey!=null}var Rb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Db(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function g5e(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var En=t=>{var e=Ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dd=t=>t.tooltip.settings.axisId;function nC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(r),!0).forEach(function(n){p5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5e(t,e,r){return(e=b5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b5e(t){var e=y5e(t,"string");return typeof e=="symbol"?e:e+""}function y5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P1=[0,"auto"],$n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ML=(t,e)=>t.cartesianAxis.xAxis[e],jo=(t,e)=>{var r=ML(t,e);return r==null?$n:r},Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:P1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yh},UL=(t,e)=>t.cartesianAxis.yAxis[e],No=(t,e)=>{var r=UL(t,e);return r==null?Pn:r},_5e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BN=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r==null?_5e:r},Lr=(t,e,r)=>{switch(e){case"xAxis":return jo(t,r);case"yAxis":return No(t,r);case"zAxis":return BN(t,r);case"angleAxis":return MN(t,r);case"radiusAxis":return UN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},x5e=(t,e,r)=>{switch(e){case"xAxis":return jo(t,r);case"yAxis":return No(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},am=(t,e,r)=>{switch(e){case"xAxis":return jo(t,r);case"yAxis":return No(t,r);case"angleAxis":return MN(t,r);case"radiusAxis":return UN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},qL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function zN(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var sm=t=>t.graphicalItems.cartesianItems,v5e=me([Rr,nm],zN),FN=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),im=me([sm,Lr,v5e],FN,{memoizeOptions:{resultEqualityCheck:Db}}),BL=me([im],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Pb)),zL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),w5e=me([im],zL),HN=t=>t.map(e=>e.data).filter(Boolean).flat(1),j5e=me([im],HN,{memoizeOptions:{resultEqualityCheck:Db}}),KN=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=e;return t.length>0?t:r.slice(n,a+1)},VN=me([j5e,tm],KN),GN=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nr(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(a=>({value:nr(a,n)}))):t.map(n=>({value:n})),Lb=me([VN,Lr,im],GN);function FL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function jp(t){if(bi(t)||t instanceof Date){var e=Number(t);if(Er(e))return e}}function aC(t){if(Array.isArray(t)){var e=[jp(t[0]),jp(t[1])];return Sl(e)?e:void 0}var r=jp(t);if(r!=null)return[r,r]}function ho(t){return t.map(jp).filter(_2e)}function N5e(t,e,r){return!r||typeof e!="number"||ps(e)?[]:r.length?ho(r.flatMap(n=>{var a=nr(t,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Er(s)||!Er(l)))return[e-s,e+l]})):[]}var An=t=>{var e=En(t),r=Dd(t);return am(t,e,r)},om=me([An],t=>t==null?void 0:t.dataKey),k5e=me([BL,tm,An],IL),HL=(t,e,r,n)=>{var a={},s=e.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=n?[...d].reverse():d,m=h.map($b);return[u,{stackedData:HSe(t,m,r),graphicalItems:h}]}))},Ah=me([k5e,BL,rm,OL],HL),KL=(t,e,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var l=WSe(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},S5e=me([Lr],t=>t.allowDataOverflow),WN=t=>{var e;if(t==null||!("domain"in t))return P1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=ho(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:P1},YN=me([Lr],WN),XN=me([YN,S5e],mL),E5e=me([Ah,Pl,Rr,XN],KL,{memoizeOptions:{resultEqualityCheck:Rb}}),Ib=t=>t.errorBars,A5e=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>FL(r,n)),O0=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},ZN=(t,e,r,n,a)=>{var s,l;if(r.length>0&&t.forEach(u=>{r.forEach(d=>{var h,m,p=(h=n[d.id])===null||h===void 0?void 0:h.filter(k=>FL(a,k)),b=nr(u,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),y=N5e(u,b,p);if(y.length>=2){var _=Math.min(...y),w=Math.max(...y);(s==null||_<s)&&(s=_),(l==null||w>l)&&(l=w)}var j=aC(b);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var d=aC(nr(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Er(s)&&Er(l))return[s,l]},T5e=me([VN,Lr,w5e,Ib,Rr],ZN,{memoizeOptions:{resultEqualityCheck:Rb}});function O5e(t){var{value:e}=t;if(bi(e)||e instanceof Date)return e}var C5e=(t,e,r)=>{var n=t.map(O5e).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&oR(n))?PD(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},VL=t=>t.referenceElements.dots,Ld=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),$5e=me([VL,Rr,nm],Ld),GL=t=>t.referenceElements.areas,P5e=me([GL,Rr,nm],Ld),WL=t=>t.referenceElements.lines,R5e=me([WL,Rr,nm],Ld),YL=(t,e)=>{var r=ho(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},D5e=me($5e,Rr,YL),XL=(t,e)=>{var r=ho(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},L5e=me([P5e,Rr],XL);function I5e(t){var e;if(t.x!=null)return ho([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:ho(r)}function M5e(t){var e;if(t.y!=null)return ho([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:ho(r)}var ZL=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?I5e(n):M5e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},U5e=me([R5e,Rr],ZL),q5e=me(D5e,U5e,L5e,(t,e,r)=>O0(t,r,e)),JN=(t,e,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?O0(n,s,a):O0(s,a);return XOe(e,h,t.allowDataOverflow)},B5e=me([Lr,YN,XN,E5e,T5e,q5e,Ot,Rr],JN,{memoizeOptions:{resultEqualityCheck:Rb}}),z5e=[0,1],QN=(t,e,r,n,a,s,l)=>{if(!((t==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=Si(e,s);if(h&&u==null){var m;return PD(0,(m=r==null?void 0:r.length)!==null&&m!==void 0?m:0)}return d==="category"?C5e(n,t,h):a==="expand"?z5e:l}},e2=me([Lr,Ot,VN,Lb,rm,Rr,B5e],QN),JL=(t,e,r,n,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Fh(s));return u in Yf?u:"point"}}},Id=me([Lr,Ot,qL,DN,Rr],JL);function F5e(t){if(t!=null){if(t in Yf)return Yf[t]();var e="scale".concat(Fh(t));if(e in Yf)return Yf[e]()}}function t2(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var a=F5e(e);if(a!=null){var s=a.domain(r).range(n);return USe(s),s}}}var r2=(t,e,r)=>{var n=WN(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Sl(t))return s5e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Sl(t))return i5e(t,e.tickCount,e.allowDecimals)}},n2=me([e2,am,Id],r2),a2=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Sl(e)&&Array.isArray(r)&&r.length>0){var a=e[0],s=r[0],l=e[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return e},H5e=me([Lr,e2,n2,Rr],a2),K5e=me(Lb,Lr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(ho(t.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),QL=me(K5e,Ot,TL,kn,(t,e,r,n)=>n,(t,e,r,n,a)=>{if(!Er(t))return 0;var s=e==="vertical"?n.height:n.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=ra(r,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),V5e=(t,e)=>{var r=jo(t,e);return r==null||typeof r.padding!="string"?0:QL(t,"xAxis",e,r.padding)},G5e=(t,e)=>{var r=No(t,e);return r==null||typeof r.padding!="string"?0:QL(t,"yAxis",e,r.padding)},W5e=me(jo,V5e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),Y5e=me(No,G5e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),X5e=me([kn,W5e,yb,bb,(t,e,r)=>r],(t,e,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Z5e=me([kn,Ot,Y5e,yb,bb,(t,e,r)=>r],(t,e,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),lm=(t,e,r,n)=>{var a;switch(e){case"xAxis":return X5e(t,r,n);case"yAxis":return Z5e(t,r,n);case"zAxis":return(a=BN(t,r))===null||a===void 0?void 0:a.range;case"angleAxis":return RL(t);case"radiusAxis":return DL(t,r);default:return}},eI=me([Lr,lm],Ob),Md=me([Lr,Id,H5e,eI],t2);me([im,Ib,Rr],A5e);function tI(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Mb=(t,e)=>e,Ub=(t,e,r)=>r,J5e=me(gb,Mb,Ub,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(tI)),Q5e=me(pb,Mb,Ub,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(tI)),rI=(t,e)=>({width:t.width,height:e.height}),eCe=(t,e)=>{var r=typeof e.width=="number"?e.width:Yh;return{width:r,height:t.height}},nI=me(kn,jo,rI),tCe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},rCe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},nCe=me(vo,kn,J5e,Mb,Ub,(t,e,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=rI(e,u);l==null&&(l=tCe(e,n,t));var h=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),aCe=me(xo,kn,Q5e,Mb,Ub,(t,e,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=eCe(e,u);l==null&&(l=rCe(e,n,t));var h=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),sCe=(t,e)=>{var r=jo(t,e);if(r!=null)return nCe(t,r.orientation,r.mirror)},iCe=me([kn,jo,sCe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),oCe=(t,e)=>{var r=No(t,e);if(r!=null)return aCe(t,r.orientation,r.mirror)},lCe=me([kn,No,oCe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),aI=me(kn,No,(t,e)=>{var r=typeof e.width=="number"?e.width:Yh;return{width:r,height:t.height}}),sC=(t,e,r)=>{switch(e){case"xAxis":return nI(t,r).width;case"yAxis":return aI(t,r).height;default:return}},sI=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=Si(t,n),d=e.map(h=>h.value);if(l&&u&&s==="category"&&a&&oR(d))return d}},s2=me([Ot,Lb,Lr,Rr],sI),iI=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Si(t,n);if(l&&(a==="number"||s!=="auto"))return e.map(u=>u.value)}},i2=me([Ot,Lb,am,Rr],iI),iC=me([Ot,x5e,Id,Md,s2,i2,lm,n2,Rr],(t,e,r,n,a,s,l,u,d)=>{if(e!=null){var h=Si(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:l,realScaleType:r,scale:n}}}),cCe=(t,e,r,n,a,s,l,u,d)=>{if(!(e==null||n==null)){var h=Si(t,d),{type:m,ticks:p,tickCount:b}=e,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=m==="category"&&n.bandwidth?n.bandwidth()/y:0;_=d==="angleAxis"&&s!=null&&s.length>=2?Dn(s[0]-s[1])*2*_:_;var w=p||a;if(w){var j=w.map((k,E)=>{var S=l?l.indexOf(k):k;return{index:E,coordinate:n(S)+_,value:k,offset:_}});return j.filter(k=>Er(k.coordinate))}return h&&u?u.map((k,E)=>({coordinate:n(k)+_,value:k,index:E,offset:_})).filter(k=>Er(k.coordinate)):n.ticks?n.ticks(b).map(k=>({coordinate:n(k)+_,value:k,offset:_})):n.domain().map((k,E)=>({coordinate:n(k)+_,value:l?l[k]:k,index:E,offset:_}))}},oI=me([Ot,am,Id,Md,n2,lm,s2,i2,Rr],cCe),uCe=(t,e,r,n,a,s,l)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var u=Si(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Dn(n[0]-n[1])*2*h:h,u&&s?s.map((m,p)=>({coordinate:r(m)+h,value:m,index:p,offset:h})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+h,value:m,offset:h})):r.domain().map((m,p)=>({coordinate:r(m)+h,value:a?a[m]:m,index:p,offset:h}))}},xi=me([Ot,am,Md,lm,s2,i2,Rr],uCe),vi=me(Lr,Md,(t,e)=>{if(!(t==null||e==null))return T0(T0({},t),{},{scale:e})}),dCe=me([Lr,Id,e2,eI],t2);me((t,e,r)=>BN(t,r),dCe,(t,e)=>{if(!(t==null||e==null))return T0(T0({},t),{},{scale:e})});var fCe=me([Ot,gb,pb],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lI=t=>t.options.defaultTooltipEventType,cI=t=>t.options.validateTooltipEventTypes;function uI(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function o2(t,e){var r=lI(t),n=cI(t);return uI(e,r,n)}function hCe(t){return Ye(e=>o2(e,t))}var dI=(t,e)=>{var r,n=Number(e);if(!(ps(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},mCe=t=>t.tooltip.settings,hl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gCe={itemInteraction:{click:hl,hover:hl},axisInteraction:{click:hl,hover:hl},keyboardInteraction:hl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fI=Ea({name:"tooltip",initialState:gCe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Cr()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ms(t).tooltipItemPayloads.indexOf(r);a>-1&&(t.tooltipItemPayloads[a]=n)},prepare:Cr()},removeTooltipEntrySettings:{reducer(t,e){var r=Ms(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Cr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:pCe,replaceTooltipEntrySettings:bCe,removeTooltipEntrySettings:yCe,setTooltipSettingsState:_Ce,setActiveMouseOverItemIndex:hI,mouseLeaveItem:xCe,mouseLeaveChart:mI,setActiveClickItemIndex:vCe,setMouseOverAxisIndex:gI,setMouseClickAxisIndex:wCe,setSyncInteraction:R1,setKeyboardInteraction:D1}=fI.actions,jCe=fI.reducer;function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){NCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NCe(t,e,r){return(e=kCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kCe(t){var e=SCe(t,"string");return typeof e=="symbol"?e:e+""}function SCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ECe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ACe(t){return t.index!=null}var pI=(t,e,r,n)=>{if(e==null)return hl;var a=ECe(t,e,r);if(a==null)return hl;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(ACe(a)){if(s)return Jg(Jg({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Jg(Jg({},hl),{},{coordinate:a.coordinate})};function TCe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function OCe(t,e){var r=TCe(t),n=e[0],a=e[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function CCe(t,e,r){if(r==null||e==null)return!0;var n=nr(t,e);return n==null||!Sl(r)?!0:OCe(n,r)}var l2=(t,e,r,n)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!Er(s))return a;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||CCe(h,r,n)?String(d):null},bI=(t,e,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var m=a==null?void 0:a[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:m.coordinate}}}},yI=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},cm=t=>t.options.tooltipPayloadSearcher,Ud=t=>t.tooltip;function lC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(r),!0).forEach(function(n){$Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ce(t,e,r){return(e=PCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PCe(t){var e=RCe(t,"string");return typeof e=="symbol"?e:e+""}function RCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DCe(t,e){return t!=null?t:e}var _I=(t,e,r,n,a,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:m}=r,p=[];return t.reduce((b,y)=>{var _,{dataDefinedOnItem:w,settings:j}=y,k=DCe(w,u),E=Array.isArray(k)?tD(k,h,m):k,S=(_=j==null?void 0:j.dataKey)!==null&&_!==void 0?_:n,P=j==null?void 0:j.nameKey,C;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?C=lR(E,n,a):C=s(E,e,d,P),Array.isArray(C))C.forEach($=>{var B=cC(cC({},j),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(TO({tooltipEntrySettings:B,dataKey:$.dataKey,payload:$.payload,value:nr($.payload,$.dataKey),name:$.name}))});else{var I;b.push(TO({tooltipEntrySettings:j,dataKey:S,payload:C,value:nr(C,S),name:(I=nr(C,P))!==null&&I!==void 0?I:j==null?void 0:j.name}))}return b},p)}},c2=me([An,Ot,qL,DN,En],JL),LCe=me([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ICe=me([En,Dd],zN),um=me([LCe,An,ICe],FN,{memoizeOptions:{resultEqualityCheck:Db}}),MCe=me([um],t=>t.filter(Pb)),UCe=me([um],HN,{memoizeOptions:{resultEqualityCheck:Db}}),qd=me([UCe,Pl],KN),qCe=me([MCe,Pl,An],IL),u2=me([qd,An,um],GN),xI=me([An],WN),BCe=me([An],t=>t.allowDataOverflow),vI=me([xI,BCe],mL),zCe=me([um],t=>t.filter(Pb)),FCe=me([qCe,zCe,rm,OL],HL),HCe=me([FCe,Pl,En,vI],KL),KCe=me([um],zL),VCe=me([qd,An,KCe,Ib,En],ZN,{memoizeOptions:{resultEqualityCheck:Rb}}),GCe=me([VL,En,Dd],Ld),WCe=me([GCe,En],YL),YCe=me([GL,En,Dd],Ld),XCe=me([YCe,En],XL),ZCe=me([WL,En,Dd],Ld),JCe=me([ZCe,En],ZL),QCe=me([WCe,JCe,XCe],O0),e4e=me([An,xI,vI,HCe,VCe,QCe,Ot,En],JN),dm=me([An,Ot,qd,u2,rm,En,e4e],QN),t4e=me([dm,An,c2],r2),r4e=me([An,dm,t4e,En],a2),wI=t=>{var e=En(t),r=Dd(t),n=!1;return lm(t,e,r,n)},jI=me([An,wI],Ob),NI=me([An,c2,r4e,jI],t2),n4e=me([Ot,u2,An,En],sI),a4e=me([Ot,u2,An,En],iI),s4e=(t,e,r,n,a,s,l,u)=>{if(e){var{type:d}=e,h=Si(t,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=u==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Dn(a[0]-a[1])*2*p:p,h&&l?l.map((b,y)=>({coordinate:n(b)+p,value:b,index:y,offset:p})):n.domain().map((b,y)=>({coordinate:n(b)+p,value:s?s[b]:b,index:y,offset:p}))}}},ko=me([Ot,An,c2,NI,wI,n4e,a4e,En],s4e),d2=me([lI,cI,mCe],(t,e,r)=>uI(r.shared,t,e)),kI=t=>t.tooltip.settings.trigger,f2=t=>t.tooltip.settings.defaultIndex,fm=me([Ud,d2,kI,f2],pI),El=me([fm,qd,om,dm],l2),SI=me([ko,El],dI),h2=me([fm],t=>{if(t)return t.dataKey}),i4e=me([fm],t=>{if(t)return t.graphicalItemId}),EI=me([Ud,d2,kI,f2],yI),o4e=me([xo,vo,Ot,kn,ko,f2,EI,cm],bI),l4e=me([fm,o4e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),c4e=me([fm],t=>t.active),u4e=me([EI,El,Pl,om,SI,cm,d2],_I),d4e=me([u4e],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function uC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(n){f4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f4e(t,e,r){return(e=h4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4e(t){var e=m4e(t,"string");return typeof e=="symbol"?e:e+""}function m4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g4e=()=>Ye(An),p4e=()=>{var t=g4e(),e=Ye(ko),r=Ye(NI);return kl(!t||!r?void 0:dC(dC({},t),{},{scale:r}),e)};function fC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(r),!0).forEach(function(n){b4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b4e(t,e,r){return(e=y4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y4e(t){var e=_4e(t,"string");return typeof e=="symbol"?e:e+""}function _4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x4e=(t,e,r,n)=>{var a=e.find(s=>s&&s.index===r);if(a){if(t==="horizontal")return{x:a.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},v4e=(t,e,r,n)=>{var a=e.find(h=>h&&h.index===r);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=n;return Lu(Lu(Lu({},n),gn(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Lu(Lu(Lu({},n),gn(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function w4e(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var AI=(t,e,r,n,a)=>{var s,l=-1,u=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?r[d-1].coordinate:r[u-1].coordinate,m=r[d].coordinate,p=d>=u-1?r[0].coordinate:r[d+1].coordinate,b=void 0;if(Dn(m-h)!==Dn(p-m)){var y=[];if(Dn(p-m)===Dn(a[1]-a[0])){b=p;var _=m+a[1]-a[0];y[0]=Math.min(_,(_+h)/2),y[1]=Math.max(_,(_+h)/2)}else{b=h;var w=p+a[1]-a[0];y[0]=Math.min(m,(w+m)/2),y[1]=Math.max(m,(w+m)/2)}var j=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>j[0]&&t<=j[1]||t>=y[0]&&t<=y[1]){({index:l}=r[d]);break}}else{var k=Math.min(h,p),E=Math.max(h,p);if(t>(k+m)/2&&t<=(E+m)/2){({index:l}=r[d]);break}}}else if(e){for(var S=0;S<u;S++)if(S===0&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S>0&&S<u-1&&t>(e[S].coordinate+e[S-1].coordinate)/2&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S===u-1&&t>(e[S].coordinate+e[S-1].coordinate)/2){({index:l}=e[S]);break}}return l},TI=()=>Ye(DN),m2=(t,e)=>e,OI=(t,e,r)=>r,g2=(t,e,r,n)=>n,j4e=me(ko,t=>ib(t,e=>e.coordinate)),p2=me([Ud,m2,OI,g2],pI),b2=me([p2,qd,om,dm],l2),N4e=(t,e,r)=>{if(e!=null){var n=Ud(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},CI=me([Ud,m2,OI,g2],yI),C0=me([xo,vo,Ot,kn,ko,g2,CI,cm],bI),k4e=me([p2,C0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),$I=me([ko,b2],dI),S4e=me([CI,b2,Pl,om,$I,cm,m2],_I),E4e=me([p2,b2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),A4e=(t,e,r,n,a,s,l)=>{if(!(!t||!r||!n||!a)&&w4e(t,l)){var u=YSe(t,e),d=AI(u,s,a,r,n),h=x4e(e,a,d,t);return{activeIndex:String(d),activeCoordinate:h}}},T4e=(t,e,r,n,a,s,l)=>{if(!(!t||!n||!a||!s||!r)){var u=f3e(t,r);if(u){var d=XSe(u,e),h=AI(d,l,s,n,a),m=v4e(e,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},O4e=(t,e,r,n,a,s,l,u)=>{if(!(!t||!e||!n||!a||!s))return e==="horizontal"||e==="vertical"?A4e(t,e,n,a,s,l,u):T4e(t,e,r,n,a,s,l)},C4e=me(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),$4e=me(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(rn)),r=Array.from(new Set(e));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:g5e}});function hC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(r),!0).forEach(function(n){P4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P4e(t,e,r){return(e=R4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R4e(t){var e=D4e(t,"string");return typeof e=="symbol"?e:e+""}function D4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L4e={},I4e={zIndexMap:Object.values(rn).reduce((t,e)=>mC(mC({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),L4e)},M4e=new Set(Object.values(rn));function U4e(t){return M4e.has(t)}var PI=Ea({name:"zIndex",initialState:I4e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Cr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!U4e(r)&&delete t.zIndexMap[r])},prepare:Cr()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:a}=e.payload;t.zIndexMap[r]?a?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Cr()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:Cr()}}}),{registerZIndexPortal:q4e,unregisterZIndexPortal:B4e,registerZIndexPortalId:z4e,unregisterZIndexPortalId:F4e}=PI.actions,H4e=PI.reducer;function ma(t){var{zIndex:e,children:r}=t,n=AEe(),a=n&&e!==void 0&&e!==0,s=Ln(),l=br();x.useLayoutEffect(()=>a?(l(q4e({zIndex:e})),()=>{l(B4e({zIndex:e}))}):Hh,[l,e,a]);var u=Ye(h=>C4e(h,e,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?Mj.createPortal(r,d):null}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(null,arguments)}function gC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(r),!0).forEach(function(n){K4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4e(t,e,r){return(e=V4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4e(t){var e=G4e(t,"string");return typeof e=="symbol"?e:e+""}function G4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W4e(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return x.isValidElement(e)?x.cloneElement(e,n):x.createElement(r,n)}function Y4e(t){var e,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:m}=t,p=r,b=n,y=a;if(!d||!p||m!=="ScatterChart"&&h!=="axis")return null;var _,w,j;if(m==="ScatterChart")_=p,w=EAe,j=rn.cursorLine;else if(m==="BarChart")_=AAe(u,p,s,l),w=AD,j=rn.cursorRectangle;else if(u==="radial"&&uR(p)){var{cx:k,cy:E,radius:S,startAngle:P,endAngle:C}=OD(p);_={cx:k,cy:E,startAngle:P,endAngle:C,innerRadius:S,outerRadius:S},w=$D,j=rn.cursorLine}else _={points:p3e(u,p,s)},w=td,j=rn.cursorLine;var I=typeof d=="object"&&"className"in d?d.className:void 0,$=Qg(Qg(Qg(Qg({stroke:"#ccc",pointerEvents:"none"},s),_),Sc(d)),{},{payload:b,payloadIndex:y,className:qt("recharts-tooltip-cursor",I)});return x.createElement(ma,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},x.createElement(W4e,{cursor:d,cursorComp:w,cursorProps:$}))}function X4e(t){var e=p4e(),r=fD(),n=Lc(),a=TI();return e==null||r==null||n==null||a==null?null:x.createElement(Y4e,L1({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:a}))}var RI=x.createContext(null),Z4e=()=>x.useContext(RI),Uv={exports:{}},pC;function J4e(){return pC||(pC=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function s(d,h,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new a(m,p||d,b),_=r?r+h:h;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],y]:d._events[_].push(y):(d._events[_]=y,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,_=new Array(y);b<y;b++)_[b]=p[b].fn;return _},u.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,m,p,b,y,_){var w=r?r+h:h;if(!this._events[w])return!1;var j=this._events[w],k=arguments.length,E,S;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,b),!0;case 5:return j.fn.call(j.context,m,p,b,y),!0;case 6:return j.fn.call(j.context,m,p,b,y,_),!0}for(S=1,E=new Array(k-1);S<k;S++)E[S-1]=arguments[S];j.fn.apply(j.context,E)}else{var P=j.length,C;for(S=0;S<P;S++)switch(j[S].once&&this.removeListener(h,j[S].fn,void 0,!0),k){case 1:j[S].fn.call(j[S].context);break;case 2:j[S].fn.call(j[S].context,m);break;case 3:j[S].fn.call(j[S].context,m,p);break;case 4:j[S].fn.call(j[S].context,m,p,b);break;default:if(!E)for(C=1,E=new Array(k-1);C<k;C++)E[C-1]=arguments[C];j[S].fn.apply(j[S].context,E)}}return!0},u.prototype.on=function(h,m,p){return s(this,h,m,p,!1)},u.prototype.once=function(h,m,p){return s(this,h,m,p,!0)},u.prototype.removeListener=function(h,m,p,b){var y=r?r+h:h;if(!this._events[y])return this;if(!m)return l(this,y),this;var _=this._events[y];if(_.fn)_.fn===m&&(!b||_.once)&&(!p||_.context===p)&&l(this,y);else{for(var w=0,j=[],k=_.length;w<k;w++)(_[w].fn!==m||b&&!_[w].once||p&&_[w].context!==p)&&j.push(_[w]);j.length?this._events[y]=j.length===1?j[0]:j:l(this,y)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(Uv)),Uv.exports}var Q4e=J4e();const DI=_s(Q4e);var Th=new DI,I1="recharts.syncEvent.tooltip",bC="recharts.syncEvent.brush";function qb(t,e){if(e){var r=Number.parseInt(e,10);if(!ps(r))return t==null?void 0:t[r]}}var e$e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LI=Ea({name:"options",initialState:e$e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),t$e=LI.reducer,{createEventEmitter:r$e}=LI.actions;function n$e(t){return t.tooltip.syncInteraction}var a$e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},II=Ea({name:"chartData",initialState:a$e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:yC,setDataStartEndIndexes:s$e,setComputedData:LKe}=II.actions,i$e=II.reducer,o$e=["x","y"];function _C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Iu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(r),!0).forEach(function(n){l$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l$e(t,e,r){return(e=c$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$e(t){var e=u$e(t,"string");return typeof e=="symbol"?e:e+""}function u$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d$e(t,e){if(t==null)return{};var r,n,a=f$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function f$e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function h$e(){var t=Ye(LN),e=Ye(IN),r=br(),n=Ye(CL),a=Ye(ko),s=Lc(),l=_b(),u=Ye(d=>d.rootProps.className);x.useEffect(()=>{if(t==null)return Hh;var d=(h,m,p)=>{if(e!==p&&t===h){if(n==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var y=m.payload.coordinate,{x:_,y:w}=y,j=d$e(y,o$e),{x:k,y:E,width:S,height:P}=m.payload.sourceViewBox,C=Iu(Iu({},j),{},{x:l.x+(S?(_-k)/S:0)*l.width,y:l.y+(P?(w-E)/P:0)*l.height});r(Iu(Iu({},m),{},{payload:Iu(Iu({},m.payload),{},{coordinate:C})}))}else r(m);return}if(a!=null){var I;if(typeof n=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},B=n(a,$);I=a[B]}else n==="value"&&(I=a.find(U=>String(U.value)===m.payload.label));var{coordinate:H}=m.payload;if(I==null||m.payload.active===!1||H==null||l==null){r(R1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:se,y:D}=H,R=Math.min(se,l.x+l.width),L=Math.min(D,l.y+l.height),V={x:s==="horizontal"?I.coordinate:R,y:s==="horizontal"?L:I.coordinate},Z=R1({active:m.payload.active,coordinate:V,dataKey:m.payload.dataKey,index:String(I.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(Z)}}};return Th.on(I1,d),()=>{Th.off(I1,d)}},[u,r,e,t,n,a,s,l])}function m$e(){var t=Ye(LN),e=Ye(IN),r=br();x.useEffect(()=>{if(t==null)return Hh;var n=(a,s,l)=>{e!==l&&t===a&&r(s$e(s))};return Th.on(bC,n),()=>{Th.off(bC,n)}},[r,e,t])}function g$e(){var t=br();x.useEffect(()=>{t(r$e())},[t]),h$e(),m$e()}function p$e(t,e,r,n,a,s){var l=Ye(y=>N4e(y,t,e)),u=Ye(IN),d=Ye(LN),h=Ye(CL),m=Ye(n$e),p=m==null?void 0:m.active,b=_b();x.useEffect(()=>{if(!p&&d!=null&&u!=null){var y=R1({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:b,graphicalItemId:void 0});Th.emit(I1,d,y,u)}},[p,r,l,a,n,u,d,h,s,b])}function xC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(r),!0).forEach(function(n){b$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b$e(t,e,r){return(e=y$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$e(t){var e=_$e(t,"string");return typeof e=="symbol"?e:e+""}function _$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x$e(t){return t.dataKey}function v$e(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(iAe,e)}var wC=[],w$e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function di(t){var e,r,n=Gr(t,w$e),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:m,offset:p,payloadUniqBy:b,position:y,reverseDirection:_,useTranslate3d:w,wrapperStyle:j,cursor:k,shared:E,trigger:S,defaultIndex:P,portal:C,axisId:I}=n,$=br(),B=typeof P=="number"?String(P):P;x.useEffect(()=>{$(_Ce({shared:E,trigger:S,axisId:I,active:a,defaultIndex:B}))},[$,E,S,I,a,B]);var H=_b(),se=jD(),D=hCe(E),{activeIndex:R,isActive:L}=(e=Ye(te=>E4e(te,D,S,B)))!==null&&e!==void 0?e:{},V=Ye(te=>S4e(te,D,S,B)),Z=Ye(te=>$I(te,D,S,B)),U=Ye(te=>k4e(te,D,S,B)),K=V,W=Z4e(),X=(r=a!=null?a:L)!==null&&r!==void 0?r:!1,[Q,M]=kR([K,X]),G=D==="axis"?Z:void 0;p$e(D,S,U,G,R,X);var q=C!=null?C:W;if(q==null||H==null||D==null)return null;var ae=K!=null?K:wC;X||(ae=wC),h&&ae.length&&(ae=xR(ae.filter(te=>te.value!=null&&(te.hide!==!0||n.includeHidden)),b,x$e));var ie=ae.length>0,be=x.createElement(hAe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:X,coordinate:U,hasPayload:ie,offset:p,position:y,reverseDirection:_,useTranslate3d:w,viewBox:H,wrapperStyle:j,lastBoundingBox:Q,innerRef:M,hasPortalFromProps:!!C},v$e(d,vC(vC({},n),{},{payload:ae,label:G,active:X,activeIndex:R,coordinate:U,accessibilityLayer:se})));return x.createElement(x.Fragment,null,Mj.createPortal(be,q),X&&x.createElement(X4e,{cursor:k,tooltipEventType:D,coordinate:U,payload:ae,index:R}))}var Bd=t=>null;Bd.displayName="Cell";function j$e(t,e,r){return(e=N$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$e(t){var e=k$e(t,"string");return typeof e=="symbol"?e:e+""}function k$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class S$e{constructor(e){j$e(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function E$e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(r),!0).forEach(function(n){A$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A$e(t,e,r){return(e=T$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$e(t){var e=O$e(t,"string");return typeof e=="symbol"?e:e+""}function O$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$e={cacheSize:2e3,enableCache:!0},MI=E$e({},C$e),NC=new S$e(MI.cacheSize),$$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kC="recharts_measurement_span";function P$e(t,e){var r=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var SC=(t,e)=>{try{var r=document.getElementById(kC);r||(r=document.createElement("span"),r.setAttribute("id",kC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,$$e,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(a){return{width:0,height:0}}},nh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Td.isSsr)return{width:0,height:0};if(!MI.enableCache)return SC(e,r);var n=P$e(e,r),a=NC.get(n);if(a)return a;var s=SC(e,r);return NC.set(n,s),s},EC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},L$e=Object.keys(UI),Wu="NaN";function I$e(t,e){return t*UI[e]}class Na{static parse(e){var r,[,n,a]=(r=D$e.exec(e))!==null&&r!==void 0?r:[];return new Na(parseFloat(n),a!=null?a:"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,ps(e)&&(this.unit=""),r!==""&&!R$e.test(r)&&(this.num=NaN,this.unit=""),L$e.includes(r)&&(this.num=I$e(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Na(NaN,""):new Na(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Na(NaN,""):new Na(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Na(NaN,""):new Na(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Na(NaN,""):new Na(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ps(this.num)}}function qI(t){if(t.includes(Wu))return Wu;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,a,s]=(r=EC.exec(e))!==null&&r!==void 0?r:[],l=Na.parse(n!=null?n:""),u=Na.parse(s!=null?s:""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Wu;e=e.replace(EC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,b]=(h=AC.exec(e))!==null&&h!==void 0?h:[],y=Na.parse(m!=null?m:""),_=Na.parse(b!=null?b:""),w=p==="+"?y.add(_):y.subtract(_);if(w.isNaN())return Wu;e=e.replace(AC,w.toString())}return e}var TC=/\(([^()]*)\)/;function M$e(t){for(var e=t,r;(r=TC.exec(e))!=null;){var[,n]=r;e=e.replace(TC,qI(n))}return e}function U$e(t){var e=t.replace(/\s+/g,"");return e=M$e(e),e=qI(e),e}function q$e(t){try{return U$e(t)}catch(e){return Wu}}function qv(t){var e=q$e(t.slice(5,-1));return e===Wu?"":e}var B$e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],z$e=["dx","dy","angle","className","breakAll"];function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(null,arguments)}function OC(t,e){if(t==null)return{};var r,n,a=F$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function F$e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BI=/[ \f\n\r\t\v\u2028\u2029]+/,zI=t=>{var{children:e,breakAll:r,style:n}=t;try{var a=[];Sr(e)||(r?a=e.toString().split(""):a=e.toString().split(BI));var s=a.map(u=>({word:u,width:nh(u,n).width})),l=r?0:nh("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch(u){return null}};function H$e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var FI=(t,e,r,n)=>t.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(e==null||n||d.width+u+r<Number(e)))d.words.push(l),d.width+=u+r;else{var h={words:[l],width:u};a.push(h)}return a},[]),HI=t=>t.reduce((e,r)=>e.width>r.width?e:r),K$e="",CC=(t,e,r,n,a,s,l,u)=>{var d=t.slice(0,e),h=zI({breakAll:r,style:n,children:d+K$e});if(!h)return[!1,[]];var m=FI(h.wordsWithComputedWidth,s,l,u),p=m.length>a||HI(m).width>Number(s);return[p,m]},V$e=(t,e,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Ge(s),m=String(l),p=FI(e,n,r,a);if(!h||a)return p;var b=p.length>s||HI(p).width>Number(n);if(!b)return p;for(var y=0,_=m.length-1,w=0,j;y<=_&&w<=m.length-1;){var k=Math.floor((y+_)/2),E=k-1,[S,P]=CC(m,E,d,u,s,n,r,a),[C]=CC(m,k,d,u,s,n,r,a);if(!S&&!C&&(y=k+1),S&&C&&(_=k-1),!S&&C){j=P;break}w++}return j||p},$C=t=>{var e=Sr(t)?[]:t.toString().split(BI);return[{words:e,width:void 0}]},G$e=t=>{var{width:e,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=t;if((e||r)&&!Td.isSsr){var u,d,h=zI({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;u=m,d=p}else return $C(n);return V$e({breakAll:s,children:n,maxLines:l,style:a},u,d,e,!!r)}return $C(n)},KI="#808080",W$e={angle:0,breakAll:!1,capHeight:"0.71em",fill:KI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Bb=x.forwardRef((t,e)=>{var r=Gr(t,W$e),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:m}=r,p=OC(r,B$e),b=x.useMemo(()=>G$e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:y,dy:_,angle:w,className:j,breakAll:k}=p,E=OC(p,z$e);if(!bi(n)||!bi(a)||b.length===0)return null;var S=Number(n)+(Ge(y)?y:0),P=Number(a)+(Ge(_)?_:0);if(!Er(S)||!Er(P))return null;var C;switch(m){case"start":C=qv("calc(".concat(l,")"));break;case"middle":C=qv("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:C=qv("calc(".concat(b.length-1," * -").concat(s,")"));break}var I=[];if(d){var $=b[0].width,{width:B}=p;I.push("scale(".concat(Ge(B)&&Ge($)?B/$:1,")"))}return w&&I.push("rotate(".concat(w,", ").concat(S,", ").concat(P,")")),I.length&&(E.transform=I.join(" ")),x.createElement("text",M1({},aa(E),{ref:e,x:S,y:P,className:qt("recharts-text",j),textAnchor:h,fill:u.includes("url")?KI:u}),b.map((H,se)=>{var D=H.words.join(k?"":" ");return x.createElement("tspan",{x:S,dy:se===0?C:s,key:"".concat(D,"-").concat(se)},D)}))});Bb.displayName="Text";var Y$e=["labelRef"];function X$e(t,e){if(t==null)return{};var r,n,a=Z$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Z$e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function PC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(r),!0).forEach(function(n){J$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J$e(t,e,r){return(e=Q$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q$e(t){var e=ePe(t,"string");return typeof e=="symbol"?e:e+""}function ePe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ji.apply(null,arguments)}var VI=x.createContext(null),tPe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=t,d=x.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[e,r,n,a,s,l]);return x.createElement(VI.Provider,{value:d},u)},GI=()=>{var t=x.useContext(VI),e=_b();return t||dD(e)},rPe=x.createContext(null),nPe=()=>{var t=x.useContext(rPe),e=Ye(LL);return t||e},aPe=t=>{var{value:e,formatter:r}=t,n=Sr(t.children)?e:t.children;return typeof r=="function"?r(n):n},y2=t=>t!=null&&typeof t=="function",sPe=(t,e)=>{var r=Dn(e-t),n=Math.min(Math.abs(e-t),360);return r*n},iPe=(t,e,r,n,a)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:p,endAngle:b,clockWise:y}=a,_=(h+m)/2,w=sPe(p,b),j=w>=0?1:-1,k,E;switch(e){case"insideStart":k=p+j*s,E=y;break;case"insideEnd":k=b-j*s,E=!y;break;case"end":k=b+j*s,E=y;break;default:throw new Error("Unsupported position ".concat(e))}E=w<=0?E:!E;var S=gn(u,d,_,k),P=gn(u,d,_,k+(E?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),I=Sr(t.id)?gh("recharts-radial-line-"):t.id;return x.createElement("text",Ji({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:I,d:C})),x.createElement("textPath",{xlinkHref:"#".concat(I)},r))},oPe=(t,e,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(r==="outside"){var{x:m,y:p}=gn(n,a,l+e,h);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:y,y:_}=gn(n,a,b,h);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},U1=t=>"cx"in t&&Ge(t.cx),lPe=(t,e)=>{var{parentViewBox:r,offset:n,position:a}=t,s;r!=null&&!U1(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:m}=e,p=l,b=l+(d-h)/2,y=(p+b)/2,_=(d+h)/2,w=p+d/2,j=m>=0?1:-1,k=j*n,E=j>0?"end":"start",S=j>0?"start":"end",P=d>=0?1:-1,C=P*n,I=P>0?"end":"start",$=P>0?"start":"end";if(a==="top"){var B={x:p+d/2,y:u-k,textAnchor:"middle",verticalAnchor:E};return Qr(Qr({},B),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var H={x:b+h/2,y:u+m+k,textAnchor:"middle",verticalAnchor:S};return Qr(Qr({},H),s?{height:Math.max(s.y+s.height-(u+m),0),width:h}:{})}if(a==="left"){var se={x:y-C,y:u+m/2,textAnchor:I,verticalAnchor:"middle"};return Qr(Qr({},se),s?{width:Math.max(se.x-s.x,0),height:m}:{})}if(a==="right"){var D={x:y+_+C,y:u+m/2,textAnchor:$,verticalAnchor:"middle"};return Qr(Qr({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:m}:{})}var R=s?{width:_,height:m}:{};return a==="insideLeft"?Qr({x:y+C,y:u+m/2,textAnchor:$,verticalAnchor:"middle"},R):a==="insideRight"?Qr({x:y+_-C,y:u+m/2,textAnchor:I,verticalAnchor:"middle"},R):a==="insideTop"?Qr({x:p+d/2,y:u+k,textAnchor:"middle",verticalAnchor:S},R):a==="insideBottom"?Qr({x:b+h/2,y:u+m-k,textAnchor:"middle",verticalAnchor:E},R):a==="insideTopLeft"?Qr({x:p+C,y:u+k,textAnchor:$,verticalAnchor:S},R):a==="insideTopRight"?Qr({x:p+d-C,y:u+k,textAnchor:I,verticalAnchor:S},R):a==="insideBottomLeft"?Qr({x:b+C,y:u+m-k,textAnchor:$,verticalAnchor:E},R):a==="insideBottomRight"?Qr({x:b+h-C,y:u+m-k,textAnchor:I,verticalAnchor:E},R):a&&typeof a=="object"&&(Ge(a.x)||oo(a.x))&&(Ge(a.y)||oo(a.y))?Qr({x:l+ra(a.x,_),y:u+ra(a.y,m),textAnchor:"end",verticalAnchor:"end"},R):Qr({x:w,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},cPe={angle:0,offset:5,zIndex:rn.label,position:"middle",textBreakAll:!1};function cl(t){var e=Gr(t,cPe),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,m=nPe(),p=GI(),b=n==="center"?p:m!=null?m:p,y,_,w;if(r==null?y=b:U1(r)?y=r:y=dD(r),!y||Sr(a)&&Sr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var j=Qr(Qr({},e),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:k}=j,E=X$e(j,Y$e);return x.cloneElement(l,E)}if(typeof l=="function"){if(_=x.createElement(l,j),x.isValidElement(_))return _}else _=aPe(e);var S=aa(e);if(U1(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return iPe(e,n,_,S,y);w=oPe(y,e.offset,e.position)}else w=lPe(e,y);return x.createElement(ma,{zIndex:e.zIndex},x.createElement(Bb,Ji({ref:h,className:qt("recharts-label",u)},S,w,{textAnchor:H$e(S.textAnchor)?S.textAnchor:w.textAnchor,breakAll:d}),_))}cl.displayName="Label";var uPe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(cl,Ji({key:"label-implicit"},n)):bi(t)?x.createElement(cl,Ji({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===cl?x.cloneElement(t,Qr({key:"label-implicit"},n)):x.createElement(cl,Ji({key:"label-implicit",content:t},n)):y2(t)?x.createElement(cl,Ji({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(cl,Ji({},t,{key:"label-implicit"},n)):null};function dPe(t){var{label:e,labelRef:r}=t,n=GI();return uPe(e,n,r)||null}var Bv={},zv={},RC;function fPe(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(zv)),zv}var Fv={},DC;function hPe(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Fv)),Fv}var LC;function mPe(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fPe(),r=hPe(),n=Gj();function a(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=a})(Bv)),Bv}var Hv,IC;function gPe(){return IC||(IC=1,Hv=mPe().last),Hv}var pPe=gPe();const bPe=_s(pPe);var yPe=["valueAccessor"],_Pe=["dataKey","clockWise","id","textBreakAll","zIndex"];function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(null,arguments)}function MC(t,e){if(t==null)return{};var r,n,a=xPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function xPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var vPe=t=>Array.isArray(t.value)?bPe(t.value):t.value,WI=x.createContext(void 0),_2=WI.Provider,YI=x.createContext(void 0),wPe=YI.Provider;function jPe(){return x.useContext(WI)}function NPe(){return x.useContext(YI)}function Np(t){var{valueAccessor:e=vPe}=t,r=MC(t,yPe),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=MC(r,_Pe),h=jPe(),m=NPe(),p=h||m;return!p||!p.length?null:x.createElement(ma,{zIndex:u!=null?u:rn.label},x.createElement(Vr,{className:"recharts-label-list"},p.map((b,y)=>{var _,w=Sr(n)?e(b,y):nr(b&&b.payload,n),j=Sr(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(cl,$0({key:"label-".concat(y)},aa(b),d,j,{fill:(_=r.fill)!==null&&_!==void 0?_:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:l,viewBox:b.viewBox,index:y,zIndex:0}))})))}Np.displayName="LabelList";function zb(t){var{label:e}=t;return e?e===!0?x.createElement(Np,{key:"labelList-implicit"}):x.isValidElement(e)||y2(e)?x.createElement(Np,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(Np,$0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q1.apply(null,arguments)}var XI=t=>{var{cx:e,cy:r,r:n,className:a}=t,s=qt("recharts-dot",a);return Ge(e)&&Ge(r)&&Ge(n)?x.createElement("circle",q1({},da(t),Vj(t),{className:s,cx:e,cy:r,r:n})):null},ZI=t=>t.graphicalItems.polarItems,kPe=me([Rr,nm],zN),Fb=me([ZI,Lr,kPe],FN),SPe=me([Fb],HN),Hb=me([SPe,$N],KN),EPe=me([Hb,Lr,Fb],GN);me([Hb,Lr,Fb],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(a=>{var s,l=nr(n,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nr(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var UC=()=>{},APe=me([Hb,Lr,Fb,Ib,Rr],ZN),TPe=me([Lr,YN,XN,UC,APe,UC,Ot,Rr],JN),JI=me([Lr,Ot,Hb,EPe,rm,Rr,TPe],QN),OPe=me([JI,Lr,Id],r2);me([Lr,JI,OPe,Rr],a2);var CPe={radiusAxis:{},angleAxis:{}},QI=Ea({name:"polarAxis",initialState:CPe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:IKe,removeRadiusAxis:MKe,addAngleAxis:UKe,removeAngleAxis:qKe}=QI.actions,$Pe=QI.reducer;function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){PPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PPe(t,e,r){return(e=RPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RPe(t){var e=DPe(t,"string");return typeof e=="symbol"?e:e+""}function DPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LPe=(t,e)=>e,x2=me([ZI,LPe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),IPe=[],v2=(t,e,r)=>(r==null?void 0:r.length)===0?IPe:r,eM=me([$N,x2,v2],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>BC(BC({},e.presentationProps),s.props))),a!=null)return a}}),MPe=me([eM,x2,v2],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,a)=>{var s,l=nr(n,e.nameKey,e.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=e.fill,{value:Ol(l,e.dataKey),color:u,payload:n,type:e.legendType}})}),UPe=me([eM,x2,v2,kn],(t,e,r,n)=>{if(!(e==null||t==null))return q6e({offset:n,pieSettings:e,displayedData:t,cells:r})}),Kv={exports:{}},ur={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function qPe(){if(zC)return ur;zC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function _(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case t:switch(w=w.type,w){case r:case a:case n:case d:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case l:case u:case p:case m:return w;case s:return w;default:return j}}case e:return j}}}return ur.ContextConsumer=s,ur.ContextProvider=l,ur.Element=t,ur.ForwardRef=u,ur.Fragment=r,ur.Lazy=p,ur.Memo=m,ur.Portal=e,ur.Profiler=a,ur.StrictMode=n,ur.Suspense=d,ur.SuspenseList=h,ur.isContextConsumer=function(w){return _(w)===s},ur.isContextProvider=function(w){return _(w)===l},ur.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},ur.isForwardRef=function(w){return _(w)===u},ur.isFragment=function(w){return _(w)===r},ur.isLazy=function(w){return _(w)===p},ur.isMemo=function(w){return _(w)===m},ur.isPortal=function(w){return _(w)===e},ur.isProfiler=function(w){return _(w)===a},ur.isStrictMode=function(w){return _(w)===n},ur.isSuspense=function(w){return _(w)===d},ur.isSuspenseList=function(w){return _(w)===h},ur.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===m||w.$$typeof===l||w.$$typeof===s||w.$$typeof===u||w.$$typeof===y||w.getModuleId!==void 0)},ur.typeOf=_,ur}var FC;function BPe(){return FC||(FC=1,Kv.exports=qPe()),Kv.exports}var zPe=BPe(),HC=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",KC=null,Vv=null,tM=t=>{if(t===KC&&Array.isArray(Vv))return Vv;var e=[];return x.Children.forEach(t,r=>{Sr(r)||(zPe.isFragment(r)?e=e.concat(tM(r.props.children)):e.push(r))}),Vv=e,KC=t,e};function w2(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(a=>HC(a)):n=[HC(e)],tM(t).forEach(a=>{var s=Ec(a,"type.displayName")||Ec(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var j2=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Gv={},VC;function FPe(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(Gv)),Gv}var Wv,GC;function HPe(){return GC||(GC=1,Wv=FPe().isPlainObject),Wv}var KPe=HPe();const VPe=_s(KPe);function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){GPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GPe(t,e,r){return(e=WPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WPe(t){var e=YPe(t,"string");return typeof e=="symbol"?e:e+""}function YPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(null,arguments)}var XC=(t,e,r,n,a)=>{var s=r-n,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+r,",").concat(e),l+="L ".concat(t+r-s/2,",").concat(e+a),l+="L ".concat(t+r-s/2-n,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},XPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZPe=t=>{var e=Gr(t,XPe),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e,b=x.useRef(null),[y,_]=x.useState(-1),w=x.useRef(a),j=x.useRef(s),k=x.useRef(l),E=x.useRef(r),S=x.useRef(n),P=Cd(t,"trapezoid-");if(x.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var V=b.current.getTotalLength();V&&_(V)}catch(Z){}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var C=qt("recharts-trapezoid",u);if(!p)return x.createElement("g",null,x.createElement("path",P0({},aa(e),{className:C,d:XC(r,n,a,s,l)})));var I=w.current,$=j.current,B=k.current,H=E.current,se=S.current,D="0px ".concat(y===-1?1:y,"px"),R="".concat(y,"px 0px"),L=ND(["strokeDasharray"],h,d);return x.createElement(Od,{animationId:P,key:P,canBegin:y>0,duration:h,easing:d,isActive:p,begin:m},V=>{var Z=Yt(I,a,V),U=Yt($,s,V),K=Yt(B,l,V),W=Yt(H,r,V),X=Yt(se,n,V);b.current&&(w.current=Z,j.current=U,k.current=K,E.current=W,S.current=X);var Q=V>0?{transition:L,strokeDasharray:R}:{strokeDasharray:D};return x.createElement("path",P0({},aa(e),{className:C,d:XC(W,X,Z,U,K),ref:b,style:YC(YC({},Q),e.style)}))})},JPe=["option","shapeType","propTransformer","activeClassName"];function QPe(t,e){if(t==null)return{};var r,n,a=e6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function e6e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function R0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){t6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t6e(t,e,r){return(e=r6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r6e(t){var e=n6e(t,"string");return typeof e=="symbol"?e:e+""}function n6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a6e(t,e){return R0(R0({},e),t)}function s6e(t,e){return t==="symbols"}function JC(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(AD,r);case"trapezoid":return x.createElement(ZPe,r);case"sector":return x.createElement($D,r);case"symbols":if(s6e(e))return x.createElement(Kj,r);break;case"curve":return x.createElement(td,r);default:return null}}function i6e(t){return x.isValidElement(t)?t.props:t}function N2(t){var{option:e,shapeType:r,propTransformer:n=a6e,activeClassName:a="recharts-active-shape"}=t,s=QPe(t,JPe),l;if(x.isValidElement(e))l=x.cloneElement(e,R0(R0({},s),i6e(e)));else if(typeof e=="function")l=e(s,s.index);else if(VPe(e)&&typeof e!="boolean"){var u=n(e,s);l=x.createElement(JC,{shapeType:r,elementProps:u})}else{var d=s;l=x.createElement(JC,{shapeType:r,elementProps:d})}return s.isActive?x.createElement(Vr,{className:a},l):l}var k2=(t,e,r)=>{var n=br();return(a,s)=>l=>{t==null||t(a,s,l),n(hI({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},S2=t=>{var e=br();return(r,n)=>a=>{t==null||t(r,n,a),e(xCe())}},E2=(t,e,r)=>{var n=br();return(a,s)=>l=>{t==null||t(a,s,l),n(vCe({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Kb(t){var{tooltipEntrySettings:e}=t,r=br(),n=Ln(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(pCe(e)):a.current!==e&&r(bCe({prev:a.current,next:e})),a.current=e)},[e,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(yCe(a.current)),a.current=null)},[r]),null}function A2(t){var{legendPayload:e}=t,r=br(),n=Ln(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(xD(e)):a.current!==e&&r(vD({prev:a.current,next:e})),a.current=e)},[r,n,e]),x.useLayoutEffect(()=>()=>{a.current&&(r(wD(a.current)),a.current=null)},[r]),null}function o6e(t){var{legendPayload:e}=t,r=br(),n=Ye(Ot),a=x.useRef(null);return x.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(xD(e)):a.current!==e&&r(vD({prev:a.current,next:e})),a.current=e)},[r,n,e]),x.useLayoutEffect(()=>()=>{a.current&&(r(wD(a.current)),a.current=null)},[r]),null}var Yv,l6e=()=>{var[t]=x.useState(()=>gh("uid-"));return t},c6e=(Yv=bU.useId)!==null&&Yv!==void 0?Yv:l6e;function rM(t,e){var r=c6e();return e||(t?"".concat(t,"-").concat(r):r)}var u6e=x.createContext(void 0),Vb=t=>{var{id:e,type:r,children:n}=t,a=rM("recharts-".concat(r),e);return x.createElement(u6e.Provider,{value:a},n(a))},d6e={cartesianItems:[],polarItems:[]},nM=Ea({name:"graphicalItems",initialState:d6e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Cr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,a=Ms(t).cartesianItems.indexOf(r);a>-1&&(t.cartesianItems[a]=n)},prepare:Cr()},removeCartesianGraphicalItem:{reducer(t,e){var r=Ms(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Cr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Cr()},removePolarGraphicalItem:{reducer(t,e){var r=Ms(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Cr()}}}),{addCartesianGraphicalItem:f6e,replaceCartesianGraphicalItem:h6e,removeCartesianGraphicalItem:m6e,addPolarGraphicalItem:g6e,removePolarGraphicalItem:p6e}=nM.actions,b6e=nM.reducer,y6e=t=>{var e=br(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?e(f6e(t)):r.current!==t&&e(h6e({prev:r.current,next:t})),r.current=t},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(e(m6e(r.current)),r.current=null)},[e]),null},T2=x.memo(y6e);function _6e(t){var e=br();return x.useLayoutEffect(()=>(e(g6e(t)),()=>{e(p6e(t))}),[e,t]),null}var x6e=["key"],v6e=["onMouseEnter","onClick","onMouseLeave"],w6e=["id"],j6e=["id"];function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){N6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N6e(t,e,r){return(e=k6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6e(t){var e=S6e(t,"string");return typeof e=="symbol"?e:e+""}function S6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Al.apply(null,arguments)}function Gb(t,e){if(t==null)return{};var r,n,a=E6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function E6e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function A6e(t){var e=x.useMemo(()=>w2(t.children,Bd),[t.children]),r=Ye(n=>MPe(n,t.id,e));return r==null?null:x.createElement(o6e,{legendPayload:r})}var T6e=x.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:h}=t,m={dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:r,name:Ol(u,e),hide:d,type:h,color:l,unit:""}};return x.createElement(Kb,{tooltipEntrySettings:m})}),O6e=(t,e)=>t>e?"start":t<e?"end":"middle",C6e=(t,e,r)=>ra(typeof e=="function"?e(t):e,r,r*.8),$6e=(t,e,r)=>{var{top:n,left:a,width:s,height:l}=e,u=TD(s,l),d=a+ra(t.cx,s,s/2),h=n+ra(t.cy,l,l/2),m=ra(t.innerRadius,u,0),p=C6e(r,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:m,outerRadius:p,maxRadius:b}},P6e=(t,e)=>{var r=Dn(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function R6e(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var D6e=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=qt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,a=Gb(e,x6e);return x.createElement(td,Al({},a,{type:"linear",className:r}))},L6e=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var a=qt("recharts-pie-label-text",R6e(t));return x.createElement(Bb,Al({},e,{alignmentBaseline:"middle",className:a}),n)};function I6e(t){var{sectors:e,props:r,showLabels:n}=t,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!e)return null;var u=da(r),d=Sc(a),h=Sc(s),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,p=e.map((b,y)=>{var _=(b.startAngle+b.endAngle)/2,w=gn(b.cx,b.cy,b.outerRadius+m,_),j=Kr(Kr(Kr(Kr({},u),b),{},{stroke:"none"},d),{},{index:y,textAnchor:O6e(w.x,b.cx)},w),k=Kr(Kr(Kr(Kr({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[gn(b.cx,b.cy,b.outerRadius,_),w],key:"line"});return x.createElement(ma,{zIndex:rn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},x.createElement(Vr,null,s&&D6e(s,k),L6e(a,j,nr(b,l))))});return x.createElement(Vr,{className:"recharts-pie-labels"},p)}function M6e(t){var{sectors:e,props:r,showLabels:n}=t,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?x.createElement(zb,{label:a}):x.createElement(I6e,{sectors:e,props:r,showLabels:n})}function U6e(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=t,u=Ye(El),d=Ye(h2),h=Ye(i4e),{onMouseEnter:m,onClick:p,onMouseLeave:b}=a,y=Gb(a,v6e),_=k2(m,a.dataKey,l),w=S2(b),j=E2(p,a.dataKey,l);return e==null||e.length===0?null:x.createElement(x.Fragment,null,e.map((k,E)=>{if((k==null?void 0:k.startAngle)===0&&(k==null?void 0:k.endAngle)===0&&e.length!==1)return null;var S=h==null||h===l,P=String(E)===u&&(d==null||a.dataKey===d)&&S,C=u?n:null,I=r&&P?r:C,$=Kr(Kr({},k),{},{stroke:k.stroke,tabIndex:-1,[iD]:E,[oD]:a.dataKey});return x.createElement(Vr,Al({key:"sector-".concat(k==null?void 0:k.startAngle,"-").concat(k==null?void 0:k.endAngle,"-").concat(k.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},Kh(y,k,E),{onMouseEnter:_(k,E),onMouseLeave:w(k,E),onClick:j(k,E)}),x.createElement(N2,Al({option:s!=null?s:I,index:E,shapeType:"sector",isActive:P},$)))}))}function q6e(t){var e,{pieSettings:r,displayedData:n,cells:a,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:m,tooltipType:p}=r,b=Math.abs(r.minAngle),y=P6e(u,d),_=Math.abs(y),w=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,j=n.filter(I=>nr(I,h,0)!==0).length,k=(_>=360?j:j-1)*w,E=_-j*b-k,S=n.reduce((I,$)=>{var B=nr($,h,0);return I+(Ge(B)?B:0)},0),P;if(S>0){var C;P=n.map((I,$)=>{var B=nr(I,h,0),H=nr(I,m,$),se=$6e(r,s,I),D=(Ge(B)?B:0)/S,R,L=Kr(Kr({},I),a&&a[$]&&a[$].props);$?R=C.endAngle+Dn(y)*w*(B!==0?1:0):R=u;var V=R+Dn(y)*((B!==0?b:0)+D*E),Z=(R+V)/2,U=(se.innerRadius+se.outerRadius)/2,K=[{name:H,value:B,payload:L,dataKey:h,type:p}],W=gn(se.cx,se.cy,U,Z);return C=Kr(Kr(Kr(Kr({},r.presentationProps),{},{percent:D,cornerRadius:typeof l=="string"?parseFloat(l):l,name:H,tooltipPayload:K,midAngle:Z,middleRadius:U,tooltipPosition:W},L),se),{},{value:B,dataKey:h,startAngle:R,endAngle:V,payload:L,paddingAngle:Dn(y)*w}),C})}return P}function B6e(t){var{showLabels:e,sectors:r,children:n}=t,a=x.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return x.createElement(wPe,{value:e?a:void 0},n)}function z6e(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:m,onAnimationStart:p,onAnimationEnd:b}=e,y=Cd(e,"recharts-pie-"),_=r.current,[w,j]=x.useState(!1),k=x.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),E=x.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return x.createElement(B6e,{showLabels:!w,sectors:a},x.createElement(Od,{animationId:y,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:E,onAnimationEnd:k,key:y},S=>{var P=[],C=a&&a[0],I=C==null?void 0:C.startAngle;return a==null||a.forEach(($,B)=>{var H=_&&_[B],se=B>0?Ec($,"paddingAngle",0):0;if(H){var D=Yt(H.endAngle-H.startAngle,$.endAngle-$.startAngle,S),R=Kr(Kr({},$),{},{startAngle:I+se,endAngle:I+D+se});P.push(R),I=R.endAngle}else{var{endAngle:L,startAngle:V}=$,Z=Yt(0,L-V,S),U=Kr(Kr({},$),{},{startAngle:I+se,endAngle:I+Z+se});P.push(U),I=U.endAngle}}),r.current=P,x.createElement(Vr,null,x.createElement(U6e,{sectors:P,activeShape:h,inactiveShape:m,allOtherPieProps:e,shape:e.shape,id:n}))}),x.createElement(M6e,{showLabels:!w,sectors:a,props:e}),e.children)}var F6e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:rn.area};function H6e(t){var{id:e}=t,r=Gb(t,w6e),{hide:n,className:a,rootTabIndex:s}=t,l=x.useMemo(()=>w2(t.children,Bd),[t.children]),u=Ye(m=>UPe(m,e,l)),d=x.useRef(null),h=qt("recharts-pie",a);return n||u==null?(d.current=null,x.createElement(Vr,{tabIndex:s,className:h})):x.createElement(ma,{zIndex:t.zIndex},x.createElement(T6e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),x.createElement(Vr,{tabIndex:s,className:h},x.createElement(z6e,{props:Kr(Kr({},r),{},{sectors:u}),previousSectorsRef:d,id:e})))}function aM(t){var e=Gr(t,F6e),{id:r}=e,n=Gb(e,j6e),a=da(n);return x.createElement(Vb,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(_6e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),x.createElement(A6e,Al({},n,{id:s})),x.createElement(H6e,Al({},n,{id:s}))))}aM.displayName="Pie";var K6e=["points"];function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){V6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V6e(t,e,r){return(e=G6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G6e(t){var e=W6e(t,"string");return typeof e=="symbol"?e:e+""}function W6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(null,arguments)}function Y6e(t,e){if(t==null)return{};var r,n,a=X6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function X6e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Z6e(t){var{option:e,dotProps:r,className:n}=t;if(x.isValidElement(e))return x.cloneElement(e,r);if(typeof e=="function")return e(r);var a=qt(n,typeof e!="boolean"?e.className:""),s=r!=null?r:{},{points:l}=s,u=Y6e(s,K6e);return x.createElement(XI,D0({},u,{className:a}))}function J6e(t,e){return t==null?!1:e?!0:t.length===1}function sM(t){var{points:e,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=rn.scatter}=t;if(!J6e(e,r))return null;var m=j2(r),p=ENe(r),b=e.map((_,w)=>{var j,k,E=Xv(Xv(Xv({r:3},l),p),{},{index:w,cx:(j=_.x)!==null&&j!==void 0?j:void 0,cy:(k=_.y)!==null&&k!==void 0?k:void 0,dataKey:s,value:_.value,payload:_.payload,points:e});return x.createElement(Z6e,{key:"dot-".concat(w),option:r,dotProps:E,className:a})}),y={};return u&&d!=null&&(y.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(ma,{zIndex:h},x.createElement(Vr,D0({className:n},y),b))}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){Q6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q6e(t,e,r){return(e=eRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eRe(t){var e=tRe(t,"string");return typeof e=="symbol"?e:e+""}function tRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rRe={xAxis:{},yAxis:{},zAxis:{}},iM=Ea({name:"cartesianAxis",initialState:rRe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Cr()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Cr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Cr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Cr()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Cr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Cr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Cr()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Cr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Cr()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,a=t.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);t.yAxis[r]=r4(r4({},t.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:nRe,replaceXAxis:aRe,removeXAxis:sRe,addYAxis:iRe,replaceYAxis:oRe,removeYAxis:lRe,addZAxis:BKe,replaceZAxis:zKe,removeZAxis:FKe,updateYAxisWidth:cRe}=iM.actions,uRe=iM.reducer,dRe=me([kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),fRe=me([dRe,xo,vo],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Wb=()=>Ye(fRe),hRe=()=>Ye(d4e);function n4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(r),!0).forEach(function(n){mRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mRe(t,e,r){return(e=gRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gRe(t){var e=pRe(t,"string");return typeof e=="symbol"?e:e+""}function pRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bRe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var u={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n!=null?n:"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=Zv(Zv(Zv({},u),Sc(a)),Vj(a)),h;return x.isValidElement(a)?h=x.cloneElement(a,d):typeof a=="function"?h=a(d):h=x.createElement(XI,d),x.createElement(Vr,{className:"recharts-active-dot",clipPath:l},h)};function B1(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=rn.activeDot}=t,u=Ye(El),d=hRe();if(e==null||d==null)return null;var h=e.find(m=>d.includes(m.payload));return Sr(h)?null:x.createElement(ma,{zIndex:l},x.createElement(bRe,{point:h,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var yRe="Invariant failed";function _Re(t,e){throw new Error(yRe)}var xRe=["x","y"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z1.apply(null,arguments)}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){vRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vRe(t,e,r){return(e=wRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wRe(t){var e=jRe(t,"string");return typeof e=="symbol"?e:e+""}function jRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NRe(t,e){if(t==null)return{};var r,n,a=kRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function kRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function SRe(t,e){var{x:r,y:n}=t,a=NRe(t,xRe),s="".concat(r),l=parseInt(s,10),u="".concat(n),d=parseInt(u,10),h="".concat(e.height||a.height),m=parseInt(h,10),p="".concat(e.width||a.width),b=parseInt(p,10);return zf(zf(zf(zf(zf({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:b,name:e.name,radius:e.radius})}function L0(t){return x.createElement(N2,z1({shapeType:"rectangle",propTransformer:SRe,activeClassName:"recharts-active-bar"},t))}var ERe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ge(e))return e;var s=Ge(n)||Sr(n);return s?e(n,a):(s||_Re(),r)}},ARe={},oM=Ea({name:"errorBars",initialState:ARe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:a}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:HKe,replaceErrorBar:KKe,removeErrorBar:VKe}=oM.actions,TRe=oM.reducer,ORe=["children"];function CRe(t,e){if(t==null)return{};var r,n,a=$Re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function $Re(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},RRe=x.createContext(PRe);function lM(t){var{children:e}=t,r=CRe(t,ORe);return x.createElement(RRe.Provider,{value:r},e)}function Yb(t,e){var r,n,a=Ye(h=>jo(h,t)),s=Ye(h=>No(h,e)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:$n.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Pn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function O2(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,a=Wb(),{needClipX:s,needClipY:l,needClip:u}=Yb(e,r);if(!u||!a)return null;var{x:d,y:h,width:m,height:p}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-m/2,y:l?h:h-p/2,width:s?m:m*2,height:l?p:p*2}))}function DRe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Er(t.zIndex)?t.zIndex:e}var Jv={exports:{}},Qv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4;function LRe(){if(s4)return Qv;s4=1;var t=Sd();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Qv.useSyncExternalStoreWithSelector=function(d,h,m,p,b){var y=a(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=l(function(){function j(C){if(!k){if(k=!0,E=C,C=p(C),b!==void 0&&_.hasValue){var I=_.value;if(b(I,C))return S=I}return S=C}if(I=S,r(E,C))return I;var $=p(C);return b!==void 0&&b(I,$)?(E=C,I):(E=C,S=$)}var k=!1,E,S,P=m===void 0?null:m;return[function(){return j(h())},P===null?void 0:function(){return j(P())}]},[h,m,p,b]);var w=n(d,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=w},[w]),u(w),w},Qv}var i4;function IRe(){return i4||(i4=1,Jv.exports=LRe()),Jv.exports}IRe();function MRe(t){t()}function URe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){MRe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var o4={notify(){},get:()=>[]};function qRe(t,e){let r,n=o4,a=0,s=!1;function l(w){m();const j=n.subscribe(w);let k=!1;return()=>{k||(k=!0,j(),p())}}function u(){n.notify()}function d(){_.onStateChange&&_.onStateChange()}function h(){return s}function m(){a++,r||(r=t.subscribe(d),n=URe())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=o4)}function b(){s||(s=!0,m())}function y(){s&&(s=!1,p())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>n};return _}var BRe=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",zRe=BRe(),FRe=()=>typeof navigator!="undefined"&&navigator.product==="ReactNative",HRe=FRe(),KRe=()=>zRe||HRe?x.useLayoutEffect:x.useEffect,VRe=KRe();function l4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function GRe(t,e){if(l4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!l4(t[r[a]],e[r[a]]))return!1;return!0}var ew=Symbol.for("react-redux-context"),tw=typeof globalThis!="undefined"?globalThis:{};function WRe(){var r;if(!x.createContext)return{};const t=(r=tw[ew])!=null?r:tw[ew]=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var YRe=WRe();function XRe(t){const{children:e,context:r,serverState:n,store:a}=t,s=x.useMemo(()=>{const d=qRe(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);VRe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||YRe;return x.createElement(u.Provider,{value:s},e)}var ZRe=XRe,JRe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function QRe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function hm(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(JRe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!GRe(t[n],e[n]))return!1}else if(!QRe(t[n],e[n]))return!1;return!0}var eDe=["onMouseEnter","onMouseLeave","onClick"],tDe=["value","background","tooltipPosition"],rDe=["id"],nDe=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mo.apply(null,arguments)}function c4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(r),!0).forEach(function(n){aDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aDe(t,e,r){return(e=sDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sDe(t){var e=iDe(t,"string");return typeof e=="symbol"?e:e+""}function iDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(t,e){if(t==null)return{};var r,n,a=oDe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function oDe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var lDe=t=>{var{dataKey:e,name:r,fill:n,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:n,value:Ol(r,e),payload:t}]},cDe=x.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,unit:u,tooltipType:d}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:e,nameKey:void 0,name:Ol(s,e),hide:l,type:d,color:a,unit:u}};return x.createElement(Kb,{tooltipEntrySettings:h})});function uDe(t){var e=Ye(El),{data:r,dataKey:n,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=I0(s,eDe),m=k2(l,n),p=S2(u),b=E2(d,n);if(!a||r==null)return null;var y=Sc(a);return x.createElement(ma,{zIndex:DRe(a,rn.barBackground)},r.map((_,w)=>{var{value:j,background:k,tooltipPosition:E}=_,S=I0(_,tDe);if(!k)return null;var P=m(_,w),C=p(_,w),I=b(_,w),$=ca(ca(ca(ca(ca({option:a,isActive:String(w)===e},S),{},{fill:"#eee"},k),y),Kh(h,_,w)),{},{onMouseEnter:P,onMouseLeave:C,onClick:I,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(L0,mo({key:"background-bar-".concat(w)},$))}))}function dDe(t){var{showLabels:e,children:r,rects:n}=t,a=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ca(ca({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return x.createElement(_2,{value:e?a:void 0},r)}function fDe(t){var{shape:e,activeBar:r,baseProps:n,entry:a,index:s,dataKey:l}=t,u=Ye(El),d=Ye(h2),h=r&&String(s)===u&&(d==null||l===d),m=h?r:e;return h?x.createElement(ma,{zIndex:rn.activeBar},x.createElement(L0,mo({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:l}))):x.createElement(L0,mo({},n,{name:String(n.name)},a,{isActive:h,option:m,index:s,dataKey:l}))}function hDe(t){var{shape:e,baseProps:r,entry:n,index:a,dataKey:s}=t;return x.createElement(L0,mo({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:a,dataKey:s}))}function mDe(t){var e,{data:r,props:n}=t,a=(e=da(n))!==null&&e!==void 0?e:{},{id:s}=a,l=I0(a,rDe),{shape:u,dataKey:d,activeBar:h}=n,{onMouseEnter:m,onClick:p,onMouseLeave:b}=n,y=I0(n,nDe),_=k2(m,d),w=S2(b),j=E2(p,d);return r?x.createElement(x.Fragment,null,r.map((k,E)=>x.createElement(Vr,mo({key:"rectangle-".concat(k==null?void 0:k.x,"-").concat(k==null?void 0:k.y,"-").concat(k==null?void 0:k.value,"-").concat(E),className:"recharts-bar-rectangle"},Kh(y,k,E),{onMouseEnter:_(k,E),onMouseLeave:w(k,E),onClick:j(k,E)}),h?x.createElement(fDe,{shape:u,activeBar:h,baseProps:l,entry:k,index:E,dataKey:d}):x.createElement(hDe,{shape:u,baseProps:l,entry:k,index:E,dataKey:d})))):null}function gDe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:m}=e,p=r.current,b=Cd(e,"recharts-bar-"),[y,_]=x.useState(!1),w=!y,j=x.useCallback(()=>{typeof h=="function"&&h(),_(!1)},[h]),k=x.useCallback(()=>{typeof m=="function"&&m(),_(!0)},[m]);return x.createElement(dDe,{showLabels:w,rects:n},x.createElement(Od,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:j,onAnimationStart:k,key:b},E=>{var S=E===1?n:n==null?void 0:n.map((P,C)=>{var I=p&&p[C];if(I)return ca(ca({},P),{},{x:Yt(I.x,P.x,E),y:Yt(I.y,P.y,E),width:Yt(I.width,P.width,E),height:Yt(I.height,P.height,E)});if(a==="horizontal"){var $=Yt(0,P.height,E),B=Yt(P.stackedBarStart,P.y,E);return ca(ca({},P),{},{y:B,height:$})}var H=Yt(0,P.width,E),se=Yt(P.stackedBarStart,P.x,E);return ca(ca({},P),{},{width:H,x:se})});return E>0&&(r.current=S!=null?S:null),S==null?null:x.createElement(Vr,null,x.createElement(mDe,{props:e,data:S}))}),x.createElement(zb,{label:e.label}),e.children)}function pDe(t){var e=x.useRef(null);return x.createElement(gDe,{previousRectanglesRef:e,props:t})}var cM=0,bDe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nr(t,e)}};class yDe extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||r==null)return null;var m=qt("recharts-bar",a),p=h;return x.createElement(Vr,{className:m,id:h},u&&x.createElement("defs",null,x.createElement(O2,{clipPathId:p,xAxisId:s,yAxisId:l})),x.createElement(Vr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},x.createElement(uDe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(pDe,this.props)))}}var _De={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:cM,xAxisId:0,yAxisId:0,zIndex:rn.bar};function xDe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m}=t,{needClip:p}=Yb(e,r),b=Lc(),y=Ln(),_=w2(t.children,Bd),w=Ye(E=>WDe(E,e,r,y,t.id,_));if(b!=="vertical"&&b!=="horizontal")return null;var j,k=w==null?void 0:w[0];return k==null||k.height==null||k.width==null?j=0:j=b==="vertical"?k.height/2:k.width/2,x.createElement(lM,{xAxisId:e,yAxisId:r,data:w,dataPointFormatter:bDe,errorBarOffset:j},x.createElement(yDe,mo({},t,{layout:b,needClip:p,data:w,xAxisId:e,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m})))}function vDe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:m,displayedData:p,offset:b,cells:y,parentViewBox:_,dataStartIndex:w}=t,j=e==="horizontal"?u:l,k=m?j.scale.domain():null,E=KSe({numericAxis:j}),S=j.scale(E);return p.map((P,C)=>{var I,$,B,H,se,D;m?I=qSe(m[C+w],k):(I=nr(P,r),Array.isArray(I)||(I=[E,I]));var R=ERe(n,cM)(I[1],C);if(e==="horizontal"){var L,[V,Z]=[u.scale(I[0]),u.scale(I[1])];$=SO({axis:l,ticks:d,bandSize:s,offset:a.offset,entry:P,index:C}),B=(L=Z!=null?Z:V)!==null&&L!==void 0?L:void 0,H=a.size;var U=V-Z;if(se=ps(U)?0:U,D={x:$,y:b.top,width:H,height:b.height},Math.abs(R)>0&&Math.abs(se)<Math.abs(R)){var K=Dn(se||R)*(Math.abs(R)-Math.abs(se));B-=K,se+=K}}else{var[W,X]=[l.scale(I[0]),l.scale(I[1])];if($=W,B=SO({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:P,index:C}),H=X-W,se=a.size,D={x:b.left,y:B,width:b.width,height:se},Math.abs(R)>0&&Math.abs(H)<Math.abs(R)){var Q=Dn(H||R)*(Math.abs(R)-Math.abs(H));H+=Q}}if($==null||B==null||H==null||se==null)return null;var M=ca(ca({},P),{},{stackedBarStart:S,x:$,y:B,width:H,height:se,value:m?I:I[1],payload:P,background:D,tooltipPosition:{x:$+H/2,y:B+se/2},parentViewBox:_},y&&y[C]&&y[C].props);return M}).filter(Boolean)}function wDe(t){var e=Gr(t,_De),r=Ln();return x.createElement(Vb,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(A2,{legendPayload:lDe(e)}),x.createElement(cDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(T2,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:aD(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(ma,{zIndex:e.zIndex},x.createElement(xDe,mo({},e,{id:n})))))}var tn=x.memo(wDe,hm);tn.displayName="Bar";function u4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(r),!0).forEach(function(n){jDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jDe(t,e,r){return(e=NDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NDe(t){var e=kDe(t,"string");return typeof e=="symbol"?e:e+""}function kDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SDe=(t,e)=>e,EDe=(t,e,r)=>r,ADe=(t,e,r,n)=>n,TDe=(t,e,r,n,a)=>a,mm=me([sm,TDe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),ODe=me([mm],t=>t==null?void 0:t.maxBarSize),CDe=(t,e,r,n,a,s)=>s,d4=(t,e,r)=>{var n=r!=null?r:t;if(!Sr(n))return ra(n,e,0)},$De=me([Ot,sm,SDe,EDe,ADe],(t,e,r,n,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),PDe=(t,e,r,n)=>{var a=Ot(t);return a==="horizontal"?Ah(t,"yAxis",r,n):Ah(t,"xAxis",e,n)},RDe=(t,e,r)=>{var n=Ot(t);return n==="horizontal"?sC(t,"xAxis",e):sC(t,"yAxis",r)},DDe=(t,e,r)=>{var n={},a=t.filter(Pb),s=t.filter(h=>h.stackId==null),l=a.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),n),u=Object.entries(l).map(h=>{var[m,p]=h,b=p.map(_=>_.dataKey),y=d4(e,r,p[0].barSize);return{stackId:m,dataKeys:b,barSize:y}}),d=s.map(h=>{var m=[h.dataKey].filter(b=>b!=null),p=d4(e,r,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...u,...d]},LDe=me([$De,l5e,RDe],DDe),IDe=(t,e,r,n,a)=>{var s,l,u=mm(t,e,r,n,a);if(u!=null){var d=Ot(t),h=AL(t),{maxBarSize:m}=u,p=Sr(m)?h:m,b,y;return d==="horizontal"?(b=vi(t,"xAxis",e,n),y=xi(t,"xAxis",e,n)):(b=vi(t,"yAxis",r,n),y=xi(t,"yAxis",r,n)),(s=(l=kl(b,y,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},uM=(t,e,r,n)=>{var a=Ot(t),s,l;return a==="horizontal"?(s=vi(t,"xAxis",e,n),l=xi(t,"xAxis",e,n)):(s=vi(t,"yAxis",r,n),l=xi(t,"yAxis",r,n)),kl(s,l)};function MDe(t,e,r,n,a){var s=n.length;if(!(s<1)){var l=ra(t,r,0,!0),u,d=[];if(Er(n[0].barSize)){var h=!1,m=r/s,p=n.reduce((k,E)=>k+(E.barSize||0),0);p+=(s-1)*l,p>=r&&(p-=(s-1)*l,l=0),p>=r&&m>0&&(h=!0,m*=.9,p=s*m);var b=(r-p)/2>>0,y={offset:b-l,size:0};u=n.reduce((k,E)=>{var S,P={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+l,size:h?m:(S=E.barSize)!==null&&S!==void 0?S:0}},C=[...k,P];return y=C[C.length-1].position,C},d)}else{var _=ra(e,r,0,!0);r-2*_-(s-1)*l<=0&&(l=0);var w=(r-2*_-(s-1)*l)/s;w>1&&(w>>=0);var j=Er(a)?Math.min(w,a):w;u=n.reduce((k,E,S)=>[...k,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:_+(w+l)*S+(w-j)/2,size:j}}],d)}return u}}var UDe=(t,e,r,n,a,s,l)=>{var u=Sr(l)?e:l,d=MDe(r,n,a!==s?a:s,t,u);return a!==s&&d!=null&&(d=d.map(h=>ep(ep({},h),{},{position:ep(ep({},h.position),{},{offset:h.position.offset-a/2})}))),d},qDe=me([LDe,AL,o5e,TL,IDe,uM,ODe],UDe),BDe=(t,e,r,n)=>vi(t,"xAxis",e,n),zDe=(t,e,r,n)=>vi(t,"yAxis",r,n),FDe=(t,e,r,n)=>xi(t,"xAxis",e,n),HDe=(t,e,r,n)=>xi(t,"yAxis",r,n),KDe=me([qDe,mm],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),VDe=(t,e)=>{var r=$b(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var a=t[n];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===r)}}}},GDe=me([PDe,mm],VDe),WDe=me([kn,nN,BDe,zDe,FDe,HDe,KDe,Ot,tm,uM,GDe,mm,CDe],(t,e,r,n,a,s,l,u,d,h,m,p,b)=>{var{chartData:y,dataStartIndex:_,dataEndIndex:w}=d;if(!(p==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||a==null||s==null||h==null)){var{data:j}=p,k;if(j!=null&&j.length>0?k=j:k=y==null?void 0:y.slice(_,w+1),k!=null)return vDe({layout:u,barSettings:p,pos:l,parentViewBox:e,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:k,offset:t,cells:b,dataStartIndex:_})}}),dM=t=>{var{chartData:e}=t,r=br(),n=Ln();return x.useEffect(()=>n?()=>{}:(r(yC(e)),()=>{r(yC(void 0))}),[e,r,n]),null},f4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fM=Ea({name:"brush",initialState:f4,reducers:{setBrushSettings(t,e){return e.payload==null?f4:e.payload}}}),{setBrushSettings:GKe}=fM.actions,YDe=fM.reducer;function XDe(t,e,r){return(e=ZDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZDe(t){var e=JDe(t,"string");return typeof e=="symbol"?e:e+""}function JDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C2{static create(e){return new C2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}XDe(C2,"EPS",1e-4);function QDe(t){return(t%180+180)%180}var eLe=function(e){var{width:r,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=QDe(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},tLe={dots:[],areas:[],lines:[]},hM=Ea({name:"referenceElements",initialState:tLe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Ms(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Ms(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Ms(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:WKe,removeDot:YKe,addArea:XKe,removeArea:ZKe,addLine:JKe,removeLine:QKe}=hM.actions,rLe=hM.reducer,nLe=x.createContext(void 0),aLe=t=>{var{children:e}=t,[r]=x.useState("".concat(gh("recharts"),"-clip")),n=Wb();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(nLe.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),e)};function mM(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function sLe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return eLe(n,r)}function iLe(t,e,r){var n=r==="width",{x:a,y:s,width:l,height:u}=t;return e===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function M0(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function oLe(t,e){return mM(t,e+1)}function lLe(t,e,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=e,d=0,h=1,m=l,p=function(){var _=n==null?void 0:n[d];if(_===void 0)return{v:mM(n,h)};var w=d,j,k=()=>(j===void 0&&(j=r(_,w)),j),E=_.coordinate,S=d===0||M0(t,E,k,m,u);S||(d=0,m=l,h+=1),S&&(m=E+t*(k()/2+a),d+=h)},b;h<=s.length;)if(b=p(),b)return b.v;return[]}function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){cLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cLe(t,e,r){return(e=uLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uLe(t){var e=dLe(t,"string");return typeof e=="symbol"?e:e+""}function dLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fLe(t,e,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var y=s[b],_,w=()=>(_===void 0&&(_=r(y,b)),_);if(b===l-1){var j=t*(y.coordinate+t*w()/2-d);s[b]=y=Qn(Qn({},y),{},{tickCoord:j>0?y.coordinate-j*t:y.coordinate})}else s[b]=y=Qn(Qn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=M0(t,y.tickCoord,w,u,d);k&&(d=y.tickCoord-t*(w()/2+a),s[b]=Qn(Qn({},y),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return s}function hLe(t,e,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var m=n[u-1],p=r(m,u-1),b=t*(m.coordinate+t*p/2-h);if(l[u-1]=m=Qn(Qn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var y=M0(t,m.tickCoord,()=>p,d,h);y&&(h=m.tickCoord-t*(p/2+a),l[u-1]=Qn(Qn({},m),{},{isShow:!0}))}}for(var _=s?u-1:u,w=function(E){var S=l[E],P,C=()=>(P===void 0&&(P=r(S,E)),P);if(E===0){var I=t*(S.coordinate-t*C()/2-d);l[E]=S=Qn(Qn({},S),{},{tickCoord:I<0?S.coordinate-I*t:S.coordinate})}else l[E]=S=Qn(Qn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var $=M0(t,S.tickCoord,C,d,h);$&&(d=S.tickCoord+t*(C()/2+a),l[E]=Qn(Qn({},S),{},{isShow:!0}))}},j=0;j<_;j++)w(j);return l}function $2(t,e,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:m,angle:p}=t;if(!a||!a.length||!n)return[];if(Ge(d)||Td.isSsr){var b;return(b=oLe(a,Ge(d)?d:0))!==null&&b!==void 0?b:[]}var y=[],_=u==="top"||u==="bottom"?"width":"height",w=m&&_==="width"?nh(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=(S,P)=>{var C=typeof h=="function"?h(S.value,P):S.value;return _==="width"?sLe(nh(C,{fontSize:e,letterSpacing:r}),w,p):nh(C,{fontSize:e,letterSpacing:r})[_]},k=a.length>=2?Dn(a[1].coordinate-a[0].coordinate):1,E=iLe(s,k,_);return d==="equidistantPreserveStart"?lLe(k,E,j,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=hLe(k,E,j,a,l,d==="preserveStartEnd"):y=fLe(k,E,j,a,l),y.filter(S=>S.isShow))}var mLe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,h=l+d+u+(r?n:0);return Math.round(h)}return 0},gLe=["axisLine","width","height","className","hide","ticks","axisType"];function pLe(t,e){if(t==null)return{};var r,n,a=bLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function bLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cc.apply(null,arguments)}function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){yLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yLe(t,e,r){return(e=_Le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Le(t){var e=xLe(t,"string");return typeof e=="symbol"?e:e+""}function xLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var no={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rn.axis};function vLe(t){var{x:e,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=mn(mn(mn({},d),da(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);h=mn(mn({},h),{},{x1:e,y1:r+m*a,x2:e+n,y2:r+m*a})}else{var p=+(s==="left"&&!l||s==="right"&&l);h=mn(mn({},h),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+a})}return x.createElement("line",Cc({},h,{className:qt("recharts-cartesian-axis-line",Ec(u,"className"))}))}function wLe(t,e,r,n,a,s,l,u,d){var h,m,p,b,y,_,w=u?-1:1,j=t.tickSize||l,k=Ge(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=m=t.coordinate,b=r+ +!u*a,p=b-w*j,_=p-w*d,y=k;break;case"left":p=b=t.coordinate,m=e+ +!u*n,h=m-w*j,y=h-w*d,_=k;break;case"right":p=b=t.coordinate,m=e+ +u*n,h=m+w*j,y=h+w*d,_=k;break;default:h=m=t.coordinate,b=r+ +u*a,p=b+w*j,_=p+w*d,y=k;break}return{line:{x1:h,y1:p,x2:m,y2:b},tick:{x:y,y:_}}}function jLe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function NLe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function kLe(t){var{option:e,tickProps:r,value:n}=t,a,s=qt(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))a=x.cloneElement(e,mn(mn({},r),{},{className:s}));else if(typeof e=="function")a=e(mn(mn({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=qt(l,e==null?void 0:e.className)),a=x.createElement(Bb,Cc({},r,{className:l}),n)}return a}var SLe=x.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:m,mirror:p,x:b,y,width:_,height:w,tickSize:j,tickMargin:k,fontSize:E,letterSpacing:S,getTicksConfig:P,events:C,axisType:I}=t,$=$2(mn(mn({},P),{},{ticks:r}),E,S),B=jLe(m,p),H=NLe(m,p),se=da(P),D=Sc(n),R={};typeof a=="object"&&(R=a);var L=mn(mn({},se),{},{fill:"none"},R),V=$.map(K=>mn({entry:K},wLe(K,b,y,_,w,m,j,p,k))),Z=V.map(K=>{var{entry:W,line:X}=K;return x.createElement(Vr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&x.createElement("line",Cc({},L,X,{className:qt("recharts-cartesian-axis-tick-line",Ec(a,"className"))})))}),U=V.map((K,W)=>{var{entry:X,tick:Q}=K,M=mn(mn(mn(mn({textAnchor:B,verticalAnchor:H},se),{},{stroke:"none",fill:s},D),Q),{},{index:W,payload:X,visibleTicksCount:$.length,tickFormatter:l,padding:d},h);return x.createElement(Vr,Cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},Kh(C,X,W)),n&&x.createElement(kLe,{option:n,tickProps:M,value:"".concat(typeof l=="function"?l(X.value,W):X.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},U.length>0&&x.createElement(ma,{zIndex:rn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:e},U)),Z.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},Z))}),ELe=x.forwardRef((t,e)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=t,h=pLe(t,gLe),[m,p]=x.useState(""),[b,y]=x.useState(""),_=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return mLe({ticks:_.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=x.useCallback(j=>{if(j){var k=j.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=k;var E=k[0];if(E){var S=window.getComputedStyle(E),P=S.fontSize,C=S.letterSpacing;(P!==m||C!==b)&&(p(P),y(C))}}},[m,b]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ma,{zIndex:t.zIndex},x.createElement(Vr,{className:qt("recharts-cartesian-axis",s)},x.createElement(vLe,{x:t.x,y:t.y,width:n,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:da(t)}),x.createElement(SLe,{ref:w,axisType:d,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(tPe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(dPe,{label:t.label,labelRef:t.labelRef}),t.children)))}),P2=x.forwardRef((t,e)=>{var r=Gr(t,no);return x.createElement(ELe,Cc({},r,{ref:e}))});P2.displayName="CartesianAxis";var ALe=["x1","y1","x2","y2","key"],TLe=["offset"],OLe=["xAxisId","yAxisId"],CLe=["xAxisId","yAxisId"];function g4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(r),!0).forEach(function(n){$Le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Le(t,e,r){return(e=PLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PLe(t){var e=RLe(t,"string");return typeof e=="symbol"?e:e+""}function RLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bc.apply(null,arguments)}function U0(t,e){if(t==null)return{};var r,n,a=DLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function DLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var LLe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=t;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gM(t){var{option:e,lineItemProps:r}=t,n;if(x.isValidElement(e))n=x.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:h}=r,m=U0(r,ALe),p=(a=da(m))!==null&&a!==void 0?a:{},{offset:b}=p,y=U0(p,TLe);n=x.createElement("line",bc({},y,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return n}function ILe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=U0(t,OLe),d=a.map((h,m)=>{var p=ea(ea({},u),{},{x1:e,y1:h,x2:e+r,y2:h,key:"line-".concat(m),index:m});return x.createElement(gM,{key:"line-".concat(m),option:n,lineItemProps:p})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function MLe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=U0(t,CLe),d=a.map((h,m)=>{var p=ea(ea({},u),{},{x1:h,y1:e,x2:h,y2:e+r,key:"line-".concat(m),index:m});return x.createElement(gM,{option:n,lineItemProps:p,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ULe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(p=>Math.round(p+a-a)).sort((p,b)=>p-b);a!==h[0]&&h.unshift(0);var m=h.map((p,b)=>{var y=!h[b+1],_=y?a+l-p:h[b+1]-p;if(_<=0)return null;var w=b%e.length;return x.createElement("rect",{key:"react-".concat(b),y:p,x:n,height:_,width:s,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function qLe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!r||!r.length)return null;var h=d.map(p=>Math.round(p+a-a)).sort((p,b)=>p-b);a!==h[0]&&h.unshift(0);var m=h.map((p,b)=>{var y=!h[b+1],_=y?a+l-p:h[b+1]-p;if(_<=0)return null;var w=b%r.length;return x.createElement("rect",{key:"react-".concat(b),x:p,y:s,width:_,height:u,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var BLe=(t,e)=>{var{xAxis:r,width:n,height:a,offset:s}=t;return rD($2(ea(ea(ea({},no),r),{},{ticks:nD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,e)},zLe=(t,e)=>{var{yAxis:r,width:n,height:a,offset:s}=t;return rD($2(ea(ea(ea({},no),r),{},{ticks:nD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,e)},FLe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rn.grid};function fi(t){var e=sN(),r=iN(),n=fD(),a=ea(ea({},Gr(t,FLe)),{},{x:Ge(t.x)?t.x:n.left,y:Ge(t.y)?t.y:n.top,width:Ge(t.width)?t.width:n.width,height:Ge(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:m,syncWithTicks:p,horizontalValues:b,verticalValues:y}=a,_=Ln(),w=Ye(H=>iC(H,"xAxis",s,_)),j=Ye(H=>iC(H,"yAxis",l,_));if(!yi(h)||!yi(m)||!Ge(u)||!Ge(d))return null;var k=a.verticalCoordinatesGenerator||BLe,E=a.horizontalCoordinatesGenerator||zLe,{horizontalPoints:S,verticalPoints:P}=a;if((!S||!S.length)&&typeof E=="function"){var C=b&&b.length,I=E({yAxis:j?ea(ea({},j),{},{ticks:C?b:j.ticks}):void 0,width:e!=null?e:h,height:r!=null?r:m,offset:n},C?!0:p);u0(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(S=I)}if((!P||!P.length)&&typeof k=="function"){var $=y&&y.length,B=k({xAxis:w?ea(ea({},w),{},{ticks:$?y:w.ticks}):void 0,width:e!=null?e:h,height:r!=null?r:m,offset:n},$?!0:p);u0(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(P=B)}return x.createElement(ma,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(LLe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(ULe,bc({},a,{horizontalPoints:S})),x.createElement(qLe,bc({},a,{verticalPoints:P})),x.createElement(ILe,bc({},a,{offset:n,horizontalPoints:S,xAxis:w,yAxis:j})),x.createElement(MLe,bc({},a,{offset:n,verticalPoints:P,xAxis:w,yAxis:j}))))}fi.displayName="CartesianGrid";var pM=(t,e,r,n)=>vi(t,"xAxis",e,n),bM=(t,e,r,n)=>xi(t,"xAxis",e,n),yM=(t,e,r,n)=>vi(t,"yAxis",r,n),_M=(t,e,r,n)=>xi(t,"yAxis",r,n),HLe=me([Ot,pM,yM,bM,_M],(t,e,r,n,a)=>Si(t,"xAxis")?kl(e,n,!1):kl(r,a,!1)),KLe=(t,e,r,n,a)=>a;function VLe(t){return t.type==="line"}var GLe=me([sm,KLe],(t,e)=>t.filter(VLe).find(r=>r.id===e)),WLe=me([Ot,pM,yM,bM,_M,GLe,HLe,tm],(t,e,r,n,a,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=u;if(!(s==null||e==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:b}=s,y;if(b!=null&&b.length>0?y=b:y=d==null?void 0:d.slice(h,m+1),y!=null)return mIe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:l,displayedData:y})}});function xM(t){var e=Sc(t),r=3,n=2;if(e!=null){var{r:a,strokeWidth:s}=e,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var YLe=["id"],XLe=["type","layout","connectNulls","needClip","shape"],ZLe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oh.apply(null,arguments)}function p4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(r),!0).forEach(function(n){JLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JLe(t,e,r){return(e=QLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QLe(t){var e=eIe(t,"string");return typeof e=="symbol"?e:e+""}function eIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2(t,e){if(t==null)return{};var r,n,a=tIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function tIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rIe=t=>{var{dataKey:e,name:r,stroke:n,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:n,value:Ol(r,e),payload:t}]},nIe=x.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:h}=t,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Ol(l,e),hide:u,type:h,color:n,unit:d}};return x.createElement(Kb,{tooltipEntrySettings:m})}),vM=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function aIe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],a=0;a<e;++a)n=[...n,...r];return n}var sIe=(t,e,r)=>{var n=r.reduce((p,b)=>p+b);if(!n)return vM(e,t);for(var a=Math.floor(t/n),s=t%n,l=e-t,u=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>s){u=[...r.slice(0,d),s-h];break}var m=u.length%2===0?[0,l]:[l];return[...aIe(r,a),...u,...m].map(p=>"".concat(p,"px")).join(", ")};function iIe(t){var{clipPathId:e,points:r,props:n}=t,{dot:a,dataKey:s,needClip:l}=n,{id:u}=n,d=R2(n,YLe),h=da(d);return x.createElement(sM,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function oIe(t){var{showLabels:e,children:r,points:n}=t,a=x.useMemo(()=>n==null?void 0:n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ii(ii({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(_2,{value:e?a:void 0},r)}function b4(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:a,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:h,shape:m}=s,p=R2(s,XLe),b=ii(ii({},aa(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:a!=null?a:s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(N2,Oh({shapeType:"curve",option:m},b,{pathRef:r})),x.createElement(iIe,{points:n,clipPathId:e,props:s}))}function lIe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch(e){return 0}}function cIe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:b,width:y,height:_,onAnimationEnd:w,onAnimationStart:j}=r,k=a.current,E=Cd(l,"recharts-line-"),S=x.useRef(E),[P,C]=x.useState(!1),I=!P,$=x.useCallback(()=>{typeof w=="function"&&w(),C(!1)},[w]),B=x.useCallback(()=>{typeof j=="function"&&j(),C(!0)},[j]),H=lIe(n.current),se=x.useRef(0);S.current!==E&&(se.current=s.current,S.current=E);var D=se.current;return x.createElement(oIe,{points:l,showLabels:I},r.children,x.createElement(Od,{animationId:E,begin:h,duration:m,isActive:d,easing:p,onAnimationEnd:$,onAnimationStart:B,key:E},R=>{var L=Yt(D,H+D,R),V=Math.min(L,H),Z;if(d)if(u){var U="".concat(u).split(/[,\s]+/gim).map(X=>parseFloat(X));Z=sIe(V,H,U)}else Z=vM(H,V);else Z=u==null?void 0:String(u);if(R>0&&H>0&&(a.current=l,s.current=Math.max(s.current,V)),k){var K=k.length/l.length,W=R===1?l:l.map((X,Q)=>{var M=Math.floor(Q*K);if(k[M]){var G=k[M];return ii(ii({},X),{},{x:Yt(G.x,X.x,R),y:Yt(G.y,X.y,R)})}return b?ii(ii({},X),{},{x:Yt(y*2,X.x,R),y:Yt(_/2,X.y,R)}):ii(ii({},X),{},{x:X.x,y:X.y})});return a.current=W,x.createElement(b4,{props:r,points:W,clipPathId:e,pathRef:n,strokeDasharray:Z})}return x.createElement(b4,{props:r,points:l,clipPathId:e,pathRef:n,strokeDasharray:Z})}),x.createElement(zb,{label:r.label}))}function uIe(t){var{clipPathId:e,props:r}=t,n=x.useRef(null),a=x.useRef(0),s=x.useRef(null);return x.createElement(cIe,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var dIe=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:nr(t.payload,e)}};class fIe extends x.Component{render(){var{hide:e,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:m,id:p,needClip:b,zIndex:y}=this.props;if(e)return null;var _=qt("recharts-line",a),w=p,{r:j,strokeWidth:k}=xM(r),E=j2(r),S=j*2+k,P=b?"url(#clipPath-".concat(E?"":"dots-").concat(w,")"):void 0;return x.createElement(ma,{zIndex:y},x.createElement(Vr,{className:_},b&&x.createElement("defs",null,x.createElement(O2,{clipPathId:w,xAxisId:s,yAxisId:l}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:d-S/2,y:u-S/2,width:h+S,height:m+S}))),x.createElement(lM,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:dIe,errorBarOffset:0},x.createElement(uIe,{props:this.props,clipPathId:w}))),x.createElement(B1,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var wM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rn.line,type:"linear"};function hIe(t){var e=Gr(t,wM),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:m,label:p,legendType:b,xAxisId:y,yAxisId:_,id:w}=e,j=R2(e,ZLe),{needClip:k}=Yb(y,_),E=Wb(),S=Lc(),P=Ln(),C=Ye(se=>WLe(se,y,_,P,w));if(S!=="horizontal"&&S!=="vertical"||C==null||E==null)return null;var{height:I,width:$,x:B,y:H}=E;return x.createElement(fIe,Oh({},j,{id:w,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:h,label:p,legendType:b,xAxisId:y,yAxisId:_,points:C,layout:S,height:I,width:$,left:B,top:H,needClip:k}))}function mIe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,m)=>{var p=nr(h,l);if(e==="horizontal"){var b=c0({axis:r,ticks:a,bandSize:u,entry:h,index:m}),y=Sr(p)?null:n.scale(p);return{x:b,y,value:p,payload:h}}var _=Sr(p)?null:r.scale(p),w=c0({axis:n,ticks:s,bandSize:u,entry:h,index:m});return _==null||w==null?null:{x:_,y:w,value:p,payload:h}}).filter(Boolean)}function gIe(t){var e=Gr(t,wM),r=Ln();return x.createElement(Vb,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(A2,{legendPayload:rIe(e)}),x.createElement(nIe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(T2,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(hIe,Oh({},e,{id:n}))))}var D2=x.memo(gIe,hm);D2.displayName="Line";var jM=(t,e,r,n)=>vi(t,"xAxis",e,n),NM=(t,e,r,n)=>xi(t,"xAxis",e,n),kM=(t,e,r,n)=>vi(t,"yAxis",r,n),SM=(t,e,r,n)=>xi(t,"yAxis",r,n),pIe=me([Ot,jM,kM,NM,SM],(t,e,r,n,a)=>Si(t,"xAxis")?kl(e,n,!1):kl(r,a,!1)),bIe=(t,e,r,n,a)=>a,EM=me([sm,bIe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),yIe=(t,e,r,n,a)=>{var s,l=EM(t,e,r,n,a);if(l!=null){var u=Ot(t),d=Si(u,"xAxis"),h;if(d?h=Ah(t,"yAxis",r,n):h=Ah(t,"xAxis",e,n),h!=null){var{stackId:m}=l,p=$b(l);if(!(m==null||p==null)){var b=(s=h[m])===null||s===void 0?void 0:s.stackedData;return b==null?void 0:b.find(y=>y.key===p)}}}},_Ie=me([Ot,jM,kM,NM,SM,yIe,tm,pIe,EM,c5e],(t,e,r,n,a,s,l,u,d,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,_;if(y&&y.length>0?_=y:_=m==null?void 0:m.slice(p,b+1),_!=null)return MIe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:s,displayedData:_,chartBaseValue:h,bandSize:u})}}),xIe=["id"],vIe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(null,arguments)}function AM(t,e){if(t==null)return{};var r,n,a=wIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function wIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(r),!0).forEach(function(n){jIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jIe(t,e,r){return(e=NIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NIe(t){var e=kIe(t,"string");return typeof e=="symbol"?e:e+""}function kIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(t,e){return t&&t!=="none"?t:e}var SIe=t=>{var{dataKey:e,name:r,stroke:n,fill:a,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:q0(n,a),value:Ol(r,e),payload:t}]},EIe=x.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:h}=t,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Ol(l,e),hide:u,type:h,color:q0(n,s),unit:d}};return x.createElement(Kb,{tooltipEntrySettings:m})});function AIe(t){var{clipPathId:e,points:r,props:n}=t,{needClip:a,dot:s,dataKey:l}=n,u=da(n);return x.createElement(sM,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:e})}function TIe(t){var{showLabels:e,children:r,points:n}=t,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Yu(Yu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(_2,{value:e?a:void 0},r)}function _4(t){var{points:e,baseLine:r,needClip:n,clipPathId:a,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:m}=s,{id:p}=s,b=AM(s,xIe),y=da(b),_=aa(b);return x.createElement(x.Fragment,null,(e==null?void 0:e.length)>1&&x.createElement(Vr,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(td,jc({},_,{id:p,points:e,connectNulls:h,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(td,jc({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&m&&x.createElement(td,jc({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:r}))),x.createElement(AIe,{points:e,props:b,clipPathId:a}))}function OIe(t){var{alpha:e,baseLine:r,points:n,strokeWidth:a}=t,s=n[0].y,l=n[n.length-1].y;if(!Er(s)||!Er(l))return null;var u=e*Math.abs(s-l),d=Math.max(...n.map(h=>h.x||0));return Ge(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.x||0),d)),Ge(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function CIe(t){var{alpha:e,baseLine:r,points:n,strokeWidth:a}=t,s=n[0].x,l=n[n.length-1].x;if(!Er(s)||!Er(l))return null;var u=e*Math.abs(s-l),d=Math.max(...n.map(h=>h.y||0));return Ge(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(h=>h.y||0),d)),Ge(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function $Ie(t){var{alpha:e,layout:r,points:n,baseLine:a,strokeWidth:s}=t;return r==="vertical"?x.createElement(OIe,{alpha:e,points:n,baseLine:a,strokeWidth:s}):x.createElement(CIe,{alpha:e,points:n,baseLine:a,strokeWidth:s})}function PIe(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=n,_=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),w=Cd(_,"recharts-area-"),j=EEe(),[k,E]=x.useState(!1),S=!k,P=x.useCallback(()=>{typeof y=="function"&&y(),E(!1)},[y]),C=x.useCallback(()=>{typeof b=="function"&&b(),E(!0)},[b]);if(j==null)return null;var I=a.current,$=s.current;return x.createElement(TIe,{showLabels:S,points:l},n.children,x.createElement(Od,{animationId:w,begin:h,duration:m,isActive:d,easing:p,onAnimationEnd:P,onAnimationStart:C,key:w},B=>{if(I){var H=I.length/l.length,se=B===1?l:l.map((R,L)=>{var V=Math.floor(L*H);if(I[V]){var Z=I[V];return Yu(Yu({},R),{},{x:Yt(Z.x,R.x,B),y:Yt(Z.y,R.y,B)})}return R}),D;return Ge(u)?D=Yt($,u,B):Sr(u)||ps(u)?D=Yt($,0,B):D=u.map((R,L)=>{var V=Math.floor(L*H);if(Array.isArray($)&&$[V]){var Z=$[V];return Yu(Yu({},R),{},{x:Yt(Z.x,R.x,B),y:Yt(Z.y,R.y,B)})}return R}),B>0&&(a.current=se,s.current=D),x.createElement(_4,{points:se,baseLine:D,needClip:e,clipPathId:r,props:n})}return B>0&&(a.current=l,s.current=u),x.createElement(Vr,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement($Ie,{alpha:B,points:l,baseLine:u,layout:j,strokeWidth:n.strokeWidth}))),x.createElement(Vr,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(_4,{points:l,baseLine:u,needClip:e,clipPathId:r,props:n})))}),x.createElement(zb,{label:n.label}))}function RIe(t){var{needClip:e,clipPathId:r,props:n}=t,a=x.useRef(null),s=x.useRef();return x.createElement(PIe,{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class DIe extends x.PureComponent{render(){var{hide:e,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:h,width:m,height:p,id:b,baseLine:y,zIndex:_}=this.props;if(e)return null;var w=qt("recharts-area",a),j=b,{r:k,strokeWidth:E}=xM(r),S=j2(r),P=k*2+E,C=u?"url(#clipPath-".concat(S?"":"dots-").concat(j,")"):void 0;return x.createElement(ma,{zIndex:_},x.createElement(Vr,{className:w},u&&x.createElement("defs",null,x.createElement(O2,{clipPathId:j,xAxisId:d,yAxisId:h}),!S&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:l-P/2,y:s-P/2,width:m+P,height:p+P}))),x.createElement(RIe,{needClip:u,clipPathId:j,props:this.props})),x.createElement(B1,{points:n,mainColor:q0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(y)&&x.createElement(B1,{points:y,mainColor:q0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var TM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:rn.area};function LIe(t){var e,r=Gr(t,TM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:m,hide:p,isAnimationActive:b,legendType:y,stroke:_,xAxisId:w,yAxisId:j}=r,k=AM(r,vIe),E=Lc(),S=TI(),{needClip:P}=Yb(w,j),C=Ln(),{points:I,isRange:$,baseLine:B}=(e=Ye(V=>_Ie(V,w,j,C,t.id)))!==null&&e!==void 0?e:{},H=Wb();if(E!=="horizontal"&&E!=="vertical"||H==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:se,width:D,x:R,y:L}=H;return!I||!I.length?null:x.createElement(DIe,jc({},k,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:B,connectNulls:u,dot:d,fill:h,fillOpacity:m,height:se,hide:p,layout:E,isAnimationActive:b==="auto"?!Td.isSsr:b,isRange:$,legendType:y,needClip:P,points:I,stroke:_,width:D,left:R,top:L,xAxisId:w,yAxisId:j}))}var IIe=(t,e,r,n,a)=>{var s=r!=null?r:e;if(Ge(s))return s;var l=t==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function MIe(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:m,xAxisTicks:p,yAxisTicks:b,bandSize:y}=t,_=a&&a.length,w=IIe(s,l,r,u,d),j=s==="horizontal",k=!1,E=h.map((P,C)=>{var I;_?I=a[m+C]:(I=nr(P,n),Array.isArray(I)?k=!0:I=[w,I]);var $=I[1]==null||_&&!e&&nr(P,n)==null;return j?{x:c0({axis:u,ticks:p,bandSize:y,entry:P,index:C}),y:$?null:d.scale(I[1]),value:I,payload:P}:{x:$?null:u.scale(I[1]),y:c0({axis:d,ticks:b,bandSize:y,entry:P,index:C}),value:I,payload:P}}),S;return _||k?S=E.map(P=>{var C=Array.isArray(P.value)?P.value[0]:null;return j?{x:P.x,y:C!=null&&P.y!=null?d.scale(C):null,payload:P.payload}:{x:C!=null?u.scale(C):null,y:P.y,payload:P.payload}}):S=j?d.scale(w):u.scale(w),{points:E,baseLine:S,isRange:k}}function UIe(t){var e=Gr(t,TM),r=Ln();return x.createElement(Vb,{id:e.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(A2,{legendPayload:SIe(e)}),x.createElement(EIe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),x.createElement(T2,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:aD(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),x.createElement(LIe,jc({},e,{id:n}))))}var B0=x.memo(UIe,hm);B0.displayName="Area";var qIe=["domain","range"],BIe=["domain","range"];function x4(t,e){if(t==null)return{};var r,n,a=zIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function zIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function v4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function OM(t,e){if(t===e)return!0;var{domain:r,range:n}=t,a=x4(t,qIe),{domain:s,range:l}=e,u=x4(e,BIe);return!v4(r,s)||!v4(n,l)?!1:hm(a,u)}var FIe=["dangerouslySetInnerHTML","ticks"],HIe=["id"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(null,arguments)}function w4(t,e){if(t==null)return{};var r,n,a=KIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function KIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function VIe(t){var e=br(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?e(nRe(t)):r.current!==t&&e(aRe({prev:r.current,next:t})),r.current=t},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(e(sRe(r.current)),r.current=null)},[e]),null}var GIe=t=>{var{xAxisId:e,className:r}=t,n=Ye(nN),a=Ln(),s="xAxis",l=Ye(j=>Md(j,s,e,a)),u=Ye(j=>oI(j,s,e,a)),d=Ye(j=>nI(j,e)),h=Ye(j=>iCe(j,e)),m=Ye(j=>ML(j,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=t,y=w4(t,FIe),{id:_}=m,w=w4(m,HIe);return x.createElement(P2,F1({},y,w,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:qt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},WIe={allowDataOverflow:$n.allowDataOverflow,allowDecimals:$n.allowDecimals,allowDuplicatedCategory:$n.allowDuplicatedCategory,angle:$n.angle,axisLine:no.axisLine,height:$n.height,hide:!1,includeHidden:$n.includeHidden,interval:$n.interval,minTickGap:$n.minTickGap,mirror:$n.mirror,orientation:$n.orientation,padding:$n.padding,reversed:$n.reversed,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,tickLine:no.tickLine,tickSize:no.tickSize,type:$n.type,xAxisId:0},YIe=t=>{var e=Gr(t,WIe);return x.createElement(x.Fragment,null,x.createElement(VIe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),x.createElement(GIe,e))},hi=x.memo(YIe,OM);hi.displayName="XAxis";var XIe=["dangerouslySetInnerHTML","ticks"],ZIe=["id"];function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(null,arguments)}function j4(t,e){if(t==null)return{};var r,n,a=JIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function JIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function QIe(t){var e=br(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?e(iRe(t)):r.current!==t&&e(oRe({prev:r.current,next:t})),r.current=t},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(e(lRe(r.current)),r.current=null)},[e]),null}var eMe=t=>{var{yAxisId:e,className:r,width:n,label:a}=t,s=x.useRef(null),l=x.useRef(null),u=Ye(nN),d=Ln(),h=br(),m="yAxis",p=Ye(C=>Md(C,m,e,d)),b=Ye(C=>aI(C,e)),y=Ye(C=>lCe(C,e)),_=Ye(C=>oI(C,m,e,d)),w=Ye(C=>UL(C,e));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!b||y2(a)||x.isValidElement(a)||w==null)){var C=s.current;if(C){var I=C.getCalculatedWidth();Math.round(b.width)!==Math.round(I)&&h(cRe({id:e,width:I}))}}},[_,b,h,a,e,n,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:j,ticks:k}=t,E=j4(t,XIe),{id:S}=w,P=j4(w,ZIe);return x.createElement(P2,H1({},E,P,{ref:s,labelRef:l,scale:p,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:b.width,height:b.height,className:qt("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:_,axisType:m}))},tMe={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,angle:Pn.angle,axisLine:no.axisLine,hide:!1,includeHidden:Pn.includeHidden,interval:Pn.interval,minTickGap:Pn.minTickGap,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,tickLine:no.tickLine,tickSize:no.tickSize,type:Pn.type,width:Pn.width,yAxisId:0},rMe=t=>{var e=Gr(t,tMe);return x.createElement(x.Fragment,null,x.createElement(QIe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),x.createElement(eMe,e))},mi=x.memo(rMe,OM);mi.displayName="YAxis";var nMe=(t,e)=>e,L2=me([nMe,Ot,LL,En,jI,ko,j4e,kn],O4e),I2=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},CM=bs("mouseClick"),$M=Wh();$M.startListening({actionCreator:CM,effect:(t,e)=>{var r=t.payload,n=L2(e.getState(),I2(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(wCe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var K1=bs("mouseMove"),PM=Wh(),tp=null;PM.startListening({actionCreator:K1,effect:(t,e)=>{var r=t.payload;tp!==null&&cancelAnimationFrame(tp);var n=I2(r);tp=requestAnimationFrame(()=>{var a=e.getState(),s=o2(a,a.tooltip.settings.shared);if(s==="axis"){var l=L2(a,n);(l==null?void 0:l.activeIndex)!=null?e.dispatch(gI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(mI())}tp=null})}});var N4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},RM=Ea({name:"rootProps",initialState:N4,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:N4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),aMe=RM.reducer,{updateOptions:sMe}=RM.actions,DM=Ea({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:iMe}=DM.actions,oMe=DM.reducer,LM=bs("keyDown"),IM=bs("focus"),M2=Wh();M2.startListening({actionCreator:LM,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=l2(a,qd(r),om(r),dm(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=ko(r);if(s==="Enter"){var h=C0(r,"axis","hover",String(a.index));e.dispatch(D1({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var m=fCe(r),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,y=u+b*p;if(!(d==null||y>=d.length||y<0)){var _=C0(r,"axis","hover",String(y));e.dispatch(D1({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});M2.startListening({actionCreator:IM,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=C0(r,"axis","hover",String(s));e.dispatch(D1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var is=bs("externalEvent"),MM=Wh(),rw=new Map;MM.startListening({actionCreator:is,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var a=n.type,s=rw.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:l4e(u),activeDataKey:h2(u),activeIndex:El(u),activeLabel:SI(u),activeTooltipIndex:El(u),isTooltipActive:c4e(u)};r(d,n)}finally{rw.delete(a)}});rw.set(a,l)}}});var lMe=me([Ud],t=>t.tooltipItemPayloads),cMe=me([lMe,cm,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var a=t.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,r);return l}}}),UM=bs("touchMove"),qM=Wh();qM.startListening({actionCreator:UM,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),a=o2(n,n.tooltip.settings.shared);if(a==="axis"){var s=L2(n,I2({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(gI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(iD),m=(l=d.getAttribute(oD))!==null&&l!==void 0?l:void 0,p=cMe(e.getState(),h,m);e.dispatch(hI({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}}});var uMe=ER({brush:YDe,cartesianAxis:uRe,chartData:i$e,errorBars:TRe,graphicalItems:b6e,layout:RSe,legend:zEe,options:t$e,polarAxis:$Pe,polarOptions:oMe,referenceElements:rLe,rootProps:aMe,tooltip:jCe,zIndex:H4e}),dMe=function(e){return sSe({reducer:uMe,preloadedState:e,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([$M.middleware,PM.middleware,M2.middleware,MM.middleware,qM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(zR({type:"raf"}))},devTools:Td.devToolsEnabled})};function BM(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,a=Ln(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=dMe(e));var l=Wj;return x.createElement(ZRe,{context:l,store:s.current},r)}function fMe(t){var{layout:e,margin:r}=t,n=br(),a=Ln();return x.useEffect(()=>{a||(n(CSe(e)),n(OSe(r)))},[n,a,e,r]),null}var zM=x.memo(fMe,hm);function FM(t){var e=br();return x.useEffect(()=>{e(sMe(t))},[e,t]),null}function k4(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=rM("".concat(n).concat(e)),s=br();return x.useLayoutEffect(()=>(s(z4e({zIndex:e,elementId:a,isPanorama:r})),()=>{s(F4e({zIndex:e,isPanorama:r}))}),[s,e,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function S4(t){var{children:e,isPanorama:r}=t,n=Ye($4e);if(!n||n.length===0)return e;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(k4,{key:l,zIndex:l,isPanorama:r})),e,s.map(l=>x.createElement(k4,{key:l,zIndex:l,isPanorama:r})))}var hMe=["children"];function mMe(t,e){if(t==null)return{};var r,n,a=gMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function gMe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(null,arguments)}var pMe={width:"100%",height:"100%",display:"block"},bMe=x.forwardRef((t,e)=>{var r=sN(),n=iN(),a=jD();if(!yi(r)||!yi(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),x.createElement(Ij,z0({},l,{title:u,desc:d,role:m,tabIndex:h,width:r,height:n,style:pMe,ref:e}),s)}),yMe=t=>{var{children:e}=t,r=Ye(yb);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(Ij,{width:n,height:a,x:l,y:s},e)},E4=x.forwardRef((t,e)=>{var{children:r}=t,n=mMe(t,hMe),a=Ln();return a?x.createElement(yMe,null,x.createElement(S4,{isPanorama:!0},r)):x.createElement(bMe,z0({ref:e},n),x.createElement(S4,{isPanorama:!1},r))});function _Me(){var t=br(),[e,r]=x.useState(null),n=Ye(ZSe);return x.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Er(s)&&s!==n&&t(PSe(s))}},[e,t,n]),r}function A4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(r),!0).forEach(function(n){vMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vMe(t,e,r){return(e=wMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wMe(t){var e=jMe(t,"string");return typeof e=="symbol"?e:e+""}function jMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$c.apply(null,arguments)}var NMe=()=>(g$e(),null);function F0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var kMe=x.forwardRef((t,e)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:F0((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:F0((n=t.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((h,m)=>{l(p=>{var b=Math.round(h),y=Math.round(m);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),d=x.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver!="undefined"){var{width:m,height:p}=h.getBoundingClientRect();u(m,p);var b=_=>{var{width:w,height:j}=_[0].contentRect;u(w,j)},y=new ResizeObserver(b);y.observe(h),a.current=y}},[e,u]);return x.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(xb,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",$c({ref:d},t)))}),SMe=x.forwardRef((t,e)=>{var{width:r,height:n}=t,[a,s]=x.useState({containerWidth:F0(r),containerHeight:F0(n)}),l=x.useCallback((d,h)=>{s(m=>{var p=Math.round(d),b=Math.round(h);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),u=x.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();l(h,m)}},[e,l]);return x.createElement(x.Fragment,null,x.createElement(xb,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",$c({ref:u},t)))}),EMe=x.forwardRef((t,e)=>{var{width:r,height:n}=t;return x.createElement(x.Fragment,null,x.createElement(xb,{width:r,height:n}),x.createElement("div",$c({ref:e},t)))}),AMe=x.forwardRef((t,e)=>{var{width:r,height:n}=t;return oo(r)||oo(n)?x.createElement(SMe,$c({},t,{ref:e})):x.createElement(EMe,$c({},t,{ref:e}))});function TMe(t){return t===!0?kMe:AMe}var OMe=x.forwardRef((t,e)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:_,onTouchStart:w,style:j,width:k,responsive:E,dispatchTouchEvents:S=!0}=t,P=x.useRef(null),C=br(),[I,$]=x.useState(null),[B,H]=x.useState(null),se=_Me(),D=aN(),R=(D==null?void 0:D.width)>0?D.width:k,L=(D==null?void 0:D.height)>0?D.height:a,V=x.useCallback(Y=>{se(Y),typeof e=="function"&&e(Y),$(Y),H(Y),Y!=null&&(P.current=Y)},[se,e,$,H]),Z=x.useCallback(Y=>{C(CM(Y)),C(is({handler:s,reactEvent:Y}))},[C,s]),U=x.useCallback(Y=>{C(K1(Y)),C(is({handler:h,reactEvent:Y}))},[C,h]),K=x.useCallback(Y=>{C(mI()),C(is({handler:m,reactEvent:Y}))},[C,m]),W=x.useCallback(Y=>{C(K1(Y)),C(is({handler:p,reactEvent:Y}))},[C,p]),X=x.useCallback(()=>{C(IM())},[C]),Q=x.useCallback(Y=>{C(LM(Y.key))},[C]),M=x.useCallback(Y=>{C(is({handler:l,reactEvent:Y}))},[C,l]),G=x.useCallback(Y=>{C(is({handler:u,reactEvent:Y}))},[C,u]),q=x.useCallback(Y=>{C(is({handler:d,reactEvent:Y}))},[C,d]),ae=x.useCallback(Y=>{C(is({handler:b,reactEvent:Y}))},[C,b]),ie=x.useCallback(Y=>{C(is({handler:w,reactEvent:Y}))},[C,w]),be=x.useCallback(Y=>{S&&C(UM(Y)),C(is({handler:_,reactEvent:Y}))},[C,S,_]),te=x.useCallback(Y=>{C(is({handler:y,reactEvent:Y}))},[C,y]),he=TMe(E);return x.createElement(RI.Provider,{value:I},x.createElement(F6.Provider,{value:B},x.createElement(he,{width:R!=null?R:j==null?void 0:j.width,height:L!=null?L:j==null?void 0:j.height,className:qt("recharts-wrapper",n),style:xMe({position:"relative",cursor:"default",width:R,height:L},j),onClick:Z,onContextMenu:M,onDoubleClick:G,onFocus:X,onKeyDown:Q,onMouseDown:q,onMouseEnter:U,onMouseLeave:K,onMouseMove:W,onMouseUp:ae,onTouchEnd:te,onTouchMove:be,onTouchStart:ie,ref:V},x.createElement(NMe,null),r)))}),CMe=["width","height","responsive","children","className","style","compact","title","desc"];function $Me(t,e){if(t==null)return{};var r,n,a=PMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function PMe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HM=x.forwardRef((t,e)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:h,desc:m}=t,p=$Me(t,CMe),b=da(p);return d?x.createElement(x.Fragment,null,x.createElement(xb,{width:r,height:n}),x.createElement(E4,{otherAttributes:b,title:h,desc:m},s)):x.createElement(OMe,{className:l,style:u,width:r,height:n,responsive:a!=null?a:!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(E4,{otherAttributes:b,title:h,desc:m,ref:e},x.createElement(aLe,null,s)))});function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V1.apply(null,arguments)}var RMe={top:5,right:5,bottom:5,left:5},DMe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:RMe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},U2=x.forwardRef(function(e,r){var n,a=Gr(e.categoricalChartProps,DMe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(BM,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},x.createElement(dM,{chartData:h.data}),x.createElement(zM,{layout:a.layout,margin:a.margin}),x.createElement(FM,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(HM,V1({},a,{ref:r})))}),LMe=["axis","item"],xd=x.forwardRef((t,e)=>x.createElement(U2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LMe,tooltipPayloadSearcher:qb,categoricalChartProps:t,ref:e}));function IMe(t){var e=br();return x.useEffect(()=>{e(iMe(t))},[e,t]),null}var MMe=["layout"];function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G1.apply(null,arguments)}function UMe(t,e){if(t==null)return{};var r,n,a=qMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function qMe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BMe={top:5,right:5,bottom:5,left:5},KM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:BMe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zMe=x.forwardRef(function(e,r){var n,a=Gr(e.categoricalChartProps,KM),{layout:s}=a,l=UMe(a,MMe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=e,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(BM,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},x.createElement(dM,{chartData:a.data}),x.createElement(zM,{layout:s,margin:a.margin}),x.createElement(FM,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(IMe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),x.createElement(HM,G1({},l,{ref:r})))});function T4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function O4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(r),!0).forEach(function(n){FMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FMe(t,e,r){return(e=HMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HMe(t){var e=KMe(t,"string");return typeof e=="symbol"?e:e+""}function KMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VMe=["item"],GMe=O4(O4({},KM),{},{layout:"centric",startAngle:0,endAngle:360}),WMe=x.forwardRef((t,e)=>{var r=Gr(t,GMe);return x.createElement(zMe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:VMe,tooltipPayloadSearcher:qb,categoricalChartProps:r,ref:e})}),YMe=["axis"],XMe=x.forwardRef((t,e)=>x.createElement(U2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YMe,tooltipPayloadSearcher:qb,categoricalChartProps:t,ref:e})),ZMe=["axis"],VM=x.forwardRef((t,e)=>x.createElement(U2,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ZMe,tooltipPayloadSearcher:qb,categoricalChartProps:t,ref:e}));const W1=({data:t,dataKey:e,color:r,label:n})=>i.jsx("div",{className:"h-[200px] w-full min-w-0",children:i.jsx(ci,{width:"100%",height:"100%",minWidth:0,debounce:200,children:i.jsxs(XMe,{data:t,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:`color${e}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:r,stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:r,stopOpacity:0})]})}),i.jsx(fi,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),i.jsx(hi,{dataKey:"date",tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1,tickFormatter:a=>a.split("-").slice(1).join("/")}),i.jsx(mi,{hide:!0}),i.jsx(di,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},labelStyle:{color:"#6b7280",fontSize:"12px",marginBottom:"4px"}}),i.jsx(B0,{type:"monotone",dataKey:e,stroke:r,fillOpacity:1,fill:`url(#color${e})`,strokeWidth:2,name:n})]})})}),GM=({data:t})=>i.jsx("div",{className:"h-[250px] w-full min-w-0",children:i.jsx(ci,{width:"100%",height:"100%",minWidth:0,debounce:200,children:i.jsxs(WMe,{children:[i.jsx(aM,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((e,r)=>i.jsx(Bd,{fill:e.color,stroke:"none"},`cell-${r}`))}),i.jsx(di,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),i.jsx(_l,{verticalAlign:"bottom",height:36,iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"12px",color:"#666"}})]})})}),JMe=({data:t,dataKey:e,categoryKey:r,color:n,label:a})=>i.jsx("div",{className:"h-[200px] w-full min-w-0",children:i.jsx(ci,{width:"100%",height:"100%",minWidth:0,debounce:200,children:i.jsxs(xd,{data:t,margin:{top:10,right:0,left:-20,bottom:0},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),i.jsx(hi,{dataKey:r,tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1}),i.jsx(mi,{tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1}),i.jsx(di,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),i.jsx(tn,{dataKey:e,name:a,radius:[4,4,0,0],children:t.map((s,l)=>i.jsx(Bd,{fill:n},`cell-${l}`))})]})})}),QMe=({setActiveSection:t})=>{var k,E;const[e,r]=x.useState(null),[n,a]=x.useState([]),[s,l]=x.useState(null),[u,d]=x.useState(!0);if(x.useEffect(()=>{T(null,null,function*(){d(!0);try{const[P,C,I,$,B]=yield Promise.all([oe.getDashboardStats(),oe.getDailyTrends(30),oe.getDetailedUserStats(),oe.getDetailedAdStats(),oe.getCreditStats(30)]);r(P),a(C),l({user:I,ads:$,credit:B})}catch(P){console.error("Failed to load dashboard stats",P)}finally{d(!1)}})},[]),u)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const h=S=>{if(n.length<14)return 0;const P=n.slice(-7),C=n.slice(-14,-7),I=P.reduce((B,H)=>B+(H[S]||0),0),$=C.reduce((B,H)=>B+(H[S]||0),0);return $===0?I>0?100:0:Math.round((I-$)/$*100)},m=h("new_users"),p=h("new_reviews"),b=h("visitors"),y=n.map(S=>({date:S.date,new_users:S.new_users})),_=n.map(S=>({date:S.date,visitors:S.visitors}));n.map(S=>({date:S.date,ad_views:S.ad_views}));const w=(k=s==null?void 0:s.user)!=null&&k.provider?[{name:"Google",value:s.user.provider.google,color:"#DB4437"},{name:"Naver",value:s.user.provider.naver,color:"#03C75A"},{name:"Kakao",value:s.user.provider.kakao,color:"#FEE500"},{name:"Email",value:s.user.provider.email,color:"#4285F4"}].filter(S=>S.value>0):[],j=S=>{if(S===0)return i.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"-"});const P=S>0;return i.jsxs("span",{className:`flex items-center text-xs font-bold px-2 py-1 rounded-full ${P?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[P?i.jsx(dd,{className:"w-3 h-3 mr-1"}):i.jsx(oNe,{className:"w-3 h-3 mr-1"}),Math.abs(S),"%"]})};return i.jsxs("div",{className:"space-y-6 pb-20",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{onClick:()=>t("users"),className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 cursor-pointer hover:shadow-md transition-shadow relative overflow-hidden group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors",children:i.jsx(zh,{className:"w-5 h-5"})}),j(m)]}),i.jsx("div",{className:"text-2xl font-black text-gray-900 mb-1",children:e==null?void 0:e.totalUsers.toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"  ( )"})]}),i.jsxs("div",{onClick:()=>t("reviews"),className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 cursor-pointer hover:shadow-md transition-shadow group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg group-hover:bg-purple-600 group-hover:text-white transition-colors",children:i.jsx(wl,{className:"w-5 h-5"})}),j(p)]}),i.jsx("div",{className:"text-2xl font-black text-gray-900 mb-1",children:e==null?void 0:e.totalReviews.toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"  ( )"})]}),i.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg group-hover:bg-amber-600 group-hover:text-white transition-colors",children:i.jsx(mh,{className:"w-5 h-5"})}),j(b)]}),i.jsx("div",{className:"text-2xl font-black text-gray-900 mb-1",children:n.length>0?n[n.length-1].visitors:0}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"  ( )"})]}),i.jsxs("div",{onClick:()=>t("reports"),className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 cursor-pointer hover:shadow-md transition-shadow group relative",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:"p-2 bg-red-50 text-red-600 rounded-lg group-hover:bg-red-600 group-hover:text-white transition-colors",children:i.jsx(io,{className:"w-5 h-5"})}),(e==null?void 0:e.pendingReports)&&e.pendingReports>0&&i.jsx("span",{className:"animate-pulse w-2 h-2 bg-red-500 rounded-full absolute top-6 right-6"})]}),i.jsx("div",{className:"text-2xl font-black text-gray-900 mb-1",children:e==null?void 0:e.pendingReports}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:" "})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 lg:col-span-2 min-w-0",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),i.jsx("p",{className:"text-xs text-gray-500",children:" 30   ."})]})}),i.jsx(W1,{data:y,dataKey:"new_users",color:"#3b82f6",label:" "})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-0",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"  "}),i.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"    ."}),i.jsx(GM,{data:w})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-0",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),i.jsx("p",{className:"text-xs text-gray-500",children:" 30   ."})]})}),i.jsx(W1,{data:_,dataKey:"visitors",color:"#f59e0b",label:""})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-0",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"  "}),i.jsx("p",{className:"text-xs text-gray-500",children:" 30      ."})]})}),i.jsx(JMe,{data:((E=s==null?void 0:s.ads)==null?void 0:E.trend)||[],dataKey:"ad_views",categoryKey:"date",color:"#8b5cf6",label:" "})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"  "}),i.jsx("p",{className:"text-xs text-gray-500",children:"  () ()  ."})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-sm mr-1"}),""]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-red-400 rounded-sm mr-1"}),""]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-3 h-2 bg-blue-600 mr-1",style:{height:2}}),""]})]})]}),i.jsx("div",{className:"h-64 min-w-0",children:i.jsx(ci,{width:"100%",height:"100%",minWidth:0,debounce:200,children:i.jsxs(VM,{data:(s==null?void 0:s.credit)||[],children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1}),i.jsx(hi,{dataKey:"date",tick:{fontSize:10},tickFormatter:S=>S.slice(5).replace("-","/")}),i.jsx(mi,{yAxisId:"left",fontSize:10}),i.jsx(di,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(S,P)=>[S.toLocaleString(),P==="earned"?"":P==="spent"?"":""],labelFormatter:S=>`: ${S}`}),i.jsx(tn,{yAxisId:"left",dataKey:"earned",fill:"#4ade80",radius:[4,4,0,0],barSize:20}),i.jsx(tn,{yAxisId:"left",dataKey:"spent",fill:"#f87171",radius:[4,4,0,0],barSize:20}),i.jsx(D2,{yAxisId:"left",type:"monotone",dataKey:"net",stroke:"#2563eb",strokeWidth:2,dot:!1})]})})})]})]})},e8e=({year:t,month:e,data:r})=>{const n=new Date(t,e,1).getDay(),a=new Date(t,e+1,0).getDate(),s=Math.ceil((n+a)/7);return i.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["","","","","","",""].map(l=>i.jsx("div",{className:"text-center text-xs font-bold text-gray-500 py-1",children:l},l)),Array.from({length:s*7}).map((l,u)=>{const d=u-n+1;if(d<1||d>a)return i.jsx("div",{className:"aspect-square"},u);const h=`${t}-${String(e+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`,m=r[h]||0;return i.jsxs("div",{className:"aspect-square bg-gray-50 rounded-lg flex flex-col items-center justify-center border",style:{backgroundColor:m>0?`rgba(59, 130, 246, ${Math.min(m/10,1)*.5+.1})`:"#f9fafb"},children:[i.jsx("div",{className:"text-xs font-bold text-gray-700",children:d}),m>0&&i.jsx("div",{className:"text-[10px] font-bold text-blue-700",children:m})]},u)})]})},t8e=({data:t,keys:e,categoryKey:r})=>i.jsx("div",{className:"h-[300px] w-full min-w-0",children:i.jsx(ci,{width:"100%",height:"100%",minWidth:0,debounce:200,children:i.jsxs(xd,{data:t,margin:{top:20,right:30,left:-10,bottom:5},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),i.jsx(hi,{dataKey:r,tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1,tickFormatter:n=>typeof n=="string"&&n.includes("-")?n.split("-").slice(1).join("/"):n}),i.jsx(mi,{tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1}),i.jsx(di,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},labelStyle:{color:"#6b7280",fontSize:"12px",marginBottom:"8px"}}),i.jsx(_l,{iconType:"circle"}),e.map((n,a)=>i.jsx(tn,{dataKey:n.key,name:n.name,stackId:"a",fill:n.color,radius:a===e.length-1?[4,4,0,0]:[0,0,0,0]},n.key))]})})}),C4=()=>{const[t,e]=x.useState(null),[r,n]=x.useState(!0);if(x.useEffect(()=>{T(null,null,function*(){n(!0);try{const m=yield oe.getVisitorStats();e(m)}catch(m){console.error(m)}finally{n(!1)}})},[]),r)return i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx(ht,{className:"w-8 h-8 animate-spin text-gray-400"})});const a=(t==null?void 0:t.trend)||[],s=a.length>0?a[a.length-1].visitors:0,u=(()=>{if(a.length<14)return 0;const h=a.slice(-7).reduce((p,b)=>p+(b.visitors||0),0),m=a.slice(-14,-7).reduce((p,b)=>p+(b.visitors||0),0);return m===0?h>0?100:0:(h-m)/m*100})(),d=u>=0;return i.jsx("div",{className:"space-y-6 animate-fade-in-up",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 col-span-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:i.jsx(zh,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"  "}),i.jsx("p",{className:"text-xs text-gray-500",children:" 30   "})]})]})}),(()=>{const h=a.map(m=>je(J({},m),{visitors_unknown:Math.max(0,(m.visitors||0)-((m.visitors_mobile||0)+(m.visitors_tablet||0)+(m.visitors_pc||0)))}));return i.jsx(t8e,{data:h,categoryKey:"date",keys:[{key:"visitors_mobile",name:"Mobile",color:"#3b82f6"},{key:"visitors_tablet",name:"Tablet",color:"#10b981"},{key:"visitors_pc",name:"PC",color:"#8b5cf6"},{key:"visitors_unknown",name:"Unknown",color:"#d1d5db"}]})})()]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),i.jsxs("div",{className:"text-3xl font-black text-gray-900",children:[s.toLocaleString(),""]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-500 mb-2",children:"  (WoW)"}),i.jsxs("div",{className:`text-3xl font-black ${d?"text-green-600":"text-red-600"} flex items-center gap-2`,children:[d?"+":"",u.toFixed(1),"%",d?i.jsx(dd,{className:"w-6 h-6"}):i.jsx(dd,{className:"w-6 h-6 rotate-180"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:" 7   7 "})]})]})]})})},WM=({onBack:t})=>{const[e,r]=x.useState([]),[n,a]=x.useState(!0),[s,l]=x.useState("");x.useEffect(()=>{u()},[]);const u=()=>T(null,null,function*(){a(!0);try{const h=yield oe.getWithdrawnUsers();r(h)}catch(h){console.error(h),alert("  .")}finally{a(!1)}}),d=e.filter(h=>{var m;return((m=h.nickname)==null?void 0:m.toLowerCase().includes(s.toLowerCase()))||h.email.toLowerCase().includes(s.toLowerCase())});return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 px-4 py-3 rounded-xl shadow-sm text-white flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:i.jsx(hNe,{className:"w-5 h-5 text-gray-200"})}),i.jsx("span",{className:"text-sm font-bold",children:" "})]}),i.jsxs("span",{className:"text-2xl font-black",children:[e.length,""]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"   ...",value:s,onChange:h=>l(h.target.value),className:"flex-1 bg-transparent outline-none text-sm text-gray-900 dark:text-white placeholder-gray-400"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 font-bold text-sm text-gray-600 dark:text-gray-300 flex justify-between items-center",children:[i.jsx("span",{children:"  "}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.length,""]})]}),n?i.jsx("div",{className:"flex justify-center p-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700/50 max-h-[600px] overflow-y-auto",children:[d.map(h=>i.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:h.nickname||"Unknown"}),i.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:h.email})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-2.5 rounded-lg mb-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:h.withdrawalReason||" "})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 dark:text-gray-500",children:[i.jsxs("span",{children:[": ",Y3(h.createdAt)]}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-600"}),i.jsxs("span",{className:"text-red-500 dark:text-red-400 font-medium",children:[": ",Y3(h.deletedAt)]})]})]})})},h.id)),d.length===0&&i.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400 text-sm",children:s?"  .":"  ."})]})]})]})},r8e=({onRefresh:t})=>{const[e,r]=x.useState([]),[n,a]=x.useState(!1),[s,l]=x.useState(0),[u,d]=x.useState(1),[h]=x.useState(50),[m,p]=x.useState(""),[b,y]=x.useState(""),[_,w]=x.useState("all"),[j,k]=x.useState("all"),[E,S]=x.useState("all"),[P,C]=x.useState("all"),[I,$]=x.useState(new Set),[B,H]=x.useState(!1),[se,D]=x.useState(null),[R,L]=x.useState(!1),[V,Z]=x.useState(!1),[U,K]=x.useState(!1),[W,X]=x.useState(""),[Q,M]=x.useState(!1);x.useEffect(()=>{const ue=setTimeout(()=>y(m),500);return()=>clearTimeout(ue)},[m]);const G=()=>T(null,null,function*(){a(!0);try{const{data:ue,count:Ie}=yield oe.getAdminUsers(u,h,{search:b,gender:_,role:j,level:E,provider:P});r(ue),l(Ie)}catch(ue){console.error(ue)}finally{a(!1)}});x.useEffect(()=>{G()},[u,h,b,_,j,E,P]),x.useEffect(()=>{d(1),$(new Set)},[b,_,j,E,P]);const q=ue=>{$(ue?new Set(e.map(Ie=>Ie.id)):new Set)},ae=(ue,Ie)=>{const Ve=new Set(I);Ie?Ve.add(ue):Ve.delete(ue),$(Ve)},ie=()=>T(null,null,function*(){if(I.size!==0){M(!0);try{const ue=Array.from(I);for(const Ie of ue)yield oe.deleteUser(Ie);G(),t==null||t(),H(!1),$(new Set),alert(`${ue.length}  .`)}catch(ue){console.error(ue),alert("     .")}finally{M(!1)}}}),be=()=>{if(s>e.length&&!window.confirm(` (${e.length}) . ?`))return;const Ie=[["ID","Email","Role","Credits","Gender","Created At"].join(","),...e.map(ve=>[ve.id,`"${ve.email}"`,ve.role,ve.credits,ve.gender||"N/A",ve.createdAt||""].join(","))].join(`
`),Ve=new Blob([Ie],{type:"text/csv;charset=utf-8;"}),Ze=document.createElement("a");Ze.href=URL.createObjectURL(Ve),Ze.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,Ze.click()},te=ue=>{switch(ue){case Be.ADMIN:return i.jsx(Rj,{className:"w-5 h-5 text-red-600"});case Be.VIP:return i.jsx($r,{className:"w-5 h-5 text-amber-500 fill-current"});case Be.USER:return i.jsx(to,{className:"w-5 h-5 text-blue-500"});default:return i.jsx(to,{className:"w-5 h-5 text-gray-400"})}},he=ue=>{switch(ue){case Be.ADMIN:return i.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-bold",children:"ADMIN"});case Be.VIP:return i.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded text-xs font-bold",children:"VIP"});case Be.USER:return i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:"USER"});default:return i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-xs font-bold",children:"GUEST"})}},Y=ue=>{window.location.hash=`#/admin/users/${ue.id}`},we=()=>T(null,null,function*(){if(se){M(!0);try{yield oe.deleteUser(se.id),G(),t==null||t(),Z(!1),L(!1),alert(" .")}finally{M(!1)}}}),Ce=()=>T(null,null,function*(){if(!se||!W.trim()){alert("  .");return}M(!0);try{yield oe.banUserPermanently(se.id,W,"admin"),G(),t==null||t(),K(!1),L(!1),X(""),alert("  .")}finally{M(!1)}}),ce=Math.ceil(s/h);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row gap-2",children:[i.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:",  ...",value:m,onChange:ue=>p(ue.target.value),className:"flex-1 bg-transparent outline-none text-sm"})]}),i.jsxs("button",{onClick:be,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[i.jsx(Oj,{className:"w-3 h-3"}),"CSV"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("select",{value:_,onChange:ue=>w(ue.target.value),className:"bg-white border text-xs rounded-lg px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"MALE",children:""}),i.jsx("option",{value:"FEMALE",children:""})]}),i.jsxs("select",{value:j,onChange:ue=>k(ue.target.value),className:"bg-white border text-xs rounded-lg px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"admin",children:""}),i.jsx("option",{value:"vip",children:"VIP"}),i.jsx("option",{value:"user",children:""})]}),i.jsxs("select",{value:E,onChange:ue=>S(ue.target.value),className:"bg-white border text-xs rounded-lg px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"0",children:"Lv.0"}),i.jsx("option",{value:"1",children:"Lv.1"}),i.jsx("option",{value:"2",children:"Lv.2"}),i.jsx("option",{value:"3",children:"Lv.3"}),i.jsx("option",{value:"4",children:"Lv.4"}),i.jsx("option",{value:"5",children:"Lv.5"})]}),i.jsxs("select",{value:P,onChange:ue=>C(ue.target.value),className:"bg-white border text-xs rounded-lg px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"email",children:""}),i.jsx("option",{value:"google",children:""}),i.jsx("option",{value:"kakao",children:""}),i.jsx("option",{value:"naver",children:""})]}),I.size>0&&i.jsxs("button",{onClick:()=>H(!0),className:"hidden md:flex items-center gap-1 bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors ml-auto",children:[i.jsx(kr,{className:"w-3 h-3"}),I.size," "]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-3 bg-gray-50 border-b font-bold text-sm text-gray-600 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",className:"hidden md:block rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:e.length>0&&I.size===e.length,onChange:ue=>q(ue.target.checked)}),i.jsx("span",{children:" "})]}),i.jsxs("span",{className:"text-xs text-gray-400",children:[" ",s," ( ",e.length,")"]})]}),n?i.jsx("div",{className:"flex justify-center p-12",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin"})}):i.jsxs("div",{className:"divide-y divide-gray-100 max-h-[500px] md:max-h-[600px] lg:max-h-[700px] overflow-y-auto",children:[e.map(ue=>i.jsxs("div",{className:`p-3 flex items-center gap-3 hover:bg-gray-50 transition-colors ${I.has(ue.id)?"bg-blue-50/50":""}`,children:[i.jsx("input",{type:"checkbox",className:"hidden md:block rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:I.has(ue.id),onChange:Ie=>ae(ue.id,Ie.target.checked),onClick:Ie=>Ie.stopPropagation()}),i.jsx("div",{className:"shrink-0",onClick:()=>Y(ue),children:te(ue.role)}),i.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>Y(ue),children:[i.jsxs("div",{className:"font-bold text-sm text-gray-800 truncate",children:[ue.email,ue.nickname&&i.jsxs("span",{className:"text-gray-500 font-normal ml-1",children:["(",ue.nickname,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[he(ue.role),i.jsx("span",{className:"text-xs text-gray-400",children:""}),i.jsx("span",{className:"text-xs text-gray-400",children:ue.gender||"N/A"}),i.jsx("span",{className:"text-xs text-gray-300",children:"|"}),i.jsxs("span",{className:"text-xs text-gray-400",children:["Lv.",ue.level||0]}),i.jsx("span",{className:"text-xs text-gray-300",children:"|"}),i.jsxs("span",{className:"text-xs text-gray-400",children:[ue.signupProvider==="google"&&"G",ue.signupProvider==="kakao"&&"K",ue.signupProvider==="naver"&&"N",!ue.signupProvider&&"E"]}),i.jsx("span",{className:"text-xs text-gray-300",children:"|"}),i.jsx("span",{className:"text-xs text-gray-400",children:ue.createdAt?new Date(ue.createdAt).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"text-right shrink-0",children:[i.jsx("div",{className:"text-sm font-bold text-amber-500",children:ue.credits}),i.jsx("div",{className:"text-xs text-gray-400",children:""})]})]},ue.id)),e.length===0&&i.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"  ."})]}),ce>1&&i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-t border-gray-100",children:[i.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",u," of ",ce]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>d(ue=>Math.max(1,ue-1)),disabled:u===1,className:"px-3 py-1 rounded-md bg-white border border-gray-200 text-gray-600 disabled:opacity-50 text-sm font-medium hover:bg-gray-50",children:""}),i.jsxs("div",{className:"flex gap-1",children:[u>2&&i.jsx("span",{className:"px-2",children:"..."}),u>1&&i.jsx("button",{onClick:()=>d(u-1),className:"w-8 h-8 rounded-md bg-white border border-gray-200 text-gray-600 text-sm",children:u-1}),i.jsx("button",{className:"w-8 h-8 rounded-md bg-blue-600 text-white text-sm font-bold",children:u}),u<ce&&i.jsx("button",{onClick:()=>d(u+1),className:"w-8 h-8 rounded-md bg-white border border-gray-200 text-gray-600 text-sm",children:u+1}),u<ce-1&&i.jsx("span",{className:"px-2",children:"..."})]}),i.jsx("button",{onClick:()=>d(ue=>Math.min(ce,ue+1)),disabled:u===ce,className:"px-3 py-1 rounded-md bg-white border border-gray-200 text-gray-600 disabled:opacity-50 text-sm font-medium hover:bg-gray-50",children:""})]})]})]}),B&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[" ",i.jsxs("span",{className:"font-bold text-red-600",children:[I.size,""]})," ",i.jsx("br",{}),"?"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>H(!1),className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold",children:""}),i.jsxs("button",{onClick:ie,disabled:Q,className:"py-3 bg-red-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[Q&&i.jsx(ht,{className:"w-4 h-4 animate-spin"})," "]})]})]})}),V&&se&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[i.jsx("span",{className:"font-bold text-orange-600",children:se.email})," ",i.jsx("br",{})," ?"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>Z(!1),className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold  hover:bg-gray-200",children:""}),i.jsxs("button",{onClick:we,disabled:Q,className:"py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 flex items-center justify-center gap-2",children:[Q&&i.jsx(ht,{className:"w-4 h-4 animate-spin"})," "]})]})]})}),U&&se&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900",children:"  "}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),i.jsx("textarea",{value:W,onChange:ue=>X(ue.target.value),placeholder:"  ...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-red-500",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>K(!1),className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold  hover:bg-gray-200",children:""}),i.jsxs("button",{onClick:Ce,disabled:Q,className:"py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[Q&&i.jsx(ht,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})})]})},n8e=()=>{const[t,e]=x.useState("graph"),[r,n]=x.useState("week"),[a,s]=x.useState(new Date().getFullYear()),[l,u]=x.useState(new Date().getMonth()),[d,h]=x.useState([]),[m,p]=x.useState({}),[b,y]=x.useState(null),[_,w]=x.useState(!1),j=E=>{switch(E){case"week":return 7;case"month":return 30;case"6month":return 180;case"year":return 365;default:return 7}};x.useEffect(()=>{T(null,null,function*(){if(t==="graph"){w(!0);try{const[S,P]=yield Promise.all([oe.getStatsForLastNDays(j(r)),oe.getDetailedUserStats()]);h(S),y(P.provider)}catch(S){console.error(S)}w(!1)}})},[t,r]),x.useEffect(()=>{T(null,null,function*(){if(t==="calendar"){w(!0);const S=new Date(a,l+1,0).getDate(),P=[];for(let B=1;B<=S;B++)P.push(`${a}-${String(l+1).padStart(2,"0")}-${String(B).padStart(2,"0")}`);const C=P.map(B=>oe.getDailyStats(B)),I=yield Promise.all(C),$={};I.forEach((B,H)=>{$[P[H]]=B.newUsers}),p($),w(!1)}})},[t,a,l]);const k=d.map(E=>E.newUsers);return d.map(E=>E.date),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>e("graph"),className:`flex-1 py-2 rounded-xl font-medium transition-all ${t==="graph"?"bg-blue-600 text-white":"bg-white text-gray-600"}`,children:" "}),i.jsx("button",{onClick:()=>e("calendar"),className:`flex-1 py-2 rounded-xl font-medium transition-all ${t==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-600"}`,children:" "})]}),_?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):t==="graph"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"week",label:"1"},{value:"month",label:"1"},{value:"6month",label:"6"},{value:"year",label:"1"}].map(E=>i.jsx("button",{onClick:()=>n(E.value),className:`py-2 rounded-lg text-sm font-medium transition-all ${r===E.value?"bg-blue-100 text-blue-700":"bg-white text-gray-600 hover:bg-gray-100"}`,children:E.label},E.value))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"  "}),i.jsx("div",{className:"h-[200px]",children:i.jsx(W1,{data:d,dataKey:"newUsers",color:"#3b82f6",label:" "})}),i.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:[" ",k.reduce((E,S)=>E+S,0)," "]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"  (Provider)"}),b?i.jsx(GM,{data:[{name:"Google",value:b.google||0,color:"#DB4437"},{name:"Naver",value:b.naver||0,color:"#03C75A"},{name:"Kakao",value:b.kakao||0,color:"#FEE500"},{name:"Email",value:b.email||0,color:"#4285F4"}].filter(E=>E.value>0)}):i.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:" "})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-2 bg-white p-3 rounded-xl",children:[i.jsx("select",{value:a,onChange:E=>s(Number(E.target.value)),className:"flex-1 p-2 border rounded-lg",children:Array.from({length:5},(E,S)=>new Date().getFullYear()-S).map(E=>i.jsxs("option",{value:E,children:[E,""]},E))}),i.jsx("select",{value:l,onChange:E=>u(Number(E.target.value)),className:"flex-1 p-2 border rounded-lg",children:Array.from({length:12},(E,S)=>S).map(E=>i.jsxs("option",{value:E,children:[E+1,""]},E))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl border",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"  "}),i.jsx(e8e,{year:a,month:l,data:m})]})]})]})},a8e=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(!1),[a,s]=x.useState(null),[l,u]=x.useState([]),[d,h]=x.useState(!0),m=()=>T(null,null,function*(){h(!0);try{const _=yield oe.getBannedUsers();u(_)}finally{h(!1)}});x.useEffect(()=>{m()},[]);const p=l.filter(_=>_.email.toLowerCase().includes(t.toLowerCase())),b=(_,w)=>{s({id:_,email:w}),n(!0)},y=()=>T(null,null,function*(){a&&(yield oe.unbanUser(a.id),yield m(),n(!1),s(null),alert("  ."))});return d&&l.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-4 py-3 rounded-lg shadow-sm text-white flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-bold",children:"  "}),i.jsxs("span",{className:"text-2xl font-black",children:[l.length,""]})]}),i.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:" ...",value:t,onChange:_=>e(_.target.value),className:"flex-1 bg-transparent outline-none text-sm"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-3 bg-red-50 border-b border-red-100 font-bold text-sm text-red-700 flex justify-between items-center",children:[i.jsx("span",{children:"   "}),i.jsxs("span",{className:"text-xs text-red-500",children:[p.length,""]})]}),i.jsxs("div",{className:"divide-y divide-gray-100 max-h-[500px] md:max-h-[600px] lg:max-h-[700px] overflow-y-auto",children:[p.map(_=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-bold text-sm text-gray-900 mb-1",children:_.email}),i.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[i.jsx("span",{className:"font-medium",children:" :"})," ",_.reason]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[" : ",new Date(_.bannedAt).toLocaleString("ko-KR")]})]}),i.jsx("button",{onClick:()=>b(_.id,_.email),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg text-xs font-bold hover:bg-green-200 transition-colors shrink-0",children:" "})]})},_.id)),p.length===0&&i.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:t?"  .":"   ."})]})]}),r&&a&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[i.jsx("span",{className:"font-bold text-green-600",children:a.email})," ",i.jsx("br",{}),"  ?"]}),i.jsx("div",{className:"bg-green-50 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-xs text-green-800 text-center",children:["    ",i.jsx("br",{})," ."]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>{n(!1),s(null)},className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""}),i.jsx("button",{onClick:y,className:"py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:""})]})]})})]})},s8e=({subSection:t,onRefresh:e})=>t===""||t==="user-list"?i.jsx(r8e,{onRefresh:e}):t==="user-stats"?i.jsx(n8e,{}):t==="visitor-stats"?i.jsx(C4,{}):t==="visitor-stats"?i.jsx(C4,{}):t==="banned-users"?i.jsx(a8e,{}):t==="withdrawn-users"?i.jsx(WM,{onBack:()=>{}}):null,i8e=({toilet:t,onBack:e,onSave:r,onDelete:n})=>{const[a,s]=x.useState(J({},t)),[l,u]=x.useState(!1),[d,h]=x.useState([]),[m,p]=x.useState(!1),[b,y]=x.useState(!1),[_,w]=x.useState(!1),[j,k]=x.useState(!1),E=x.useRef(null),S=x.useRef(null),P=x.useRef(null),[C,I]=x.useState(!1);x.useEffect(()=>{s(J({},t)),T(null,null,function*(){k(!0);const L=yield oe.getReviews(t.id);h(L),k(!1)})},[t.id]),x.useEffect(()=>{if(!m||!P.current||!window.google)return;const R=new window.google.maps.Map(P.current,{center:{lat:a.lat,lng:a.lng},zoom:17,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1});E.current=R;const L=new window.google.maps.Marker({position:R.getCenter(),map:R,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#3B82F6",fillOpacity:1,strokeColor:"white",strokeWeight:2}});return S.current=L,R.addListener("center_changed",()=>{S.current&&S.current.setPosition(R.getCenter())}),()=>{S.current&&S.current.setMap(null)}},[m]);const $=()=>{navigator.geolocation&&(I(!0),navigator.geolocation.getCurrentPosition(R=>{const L={lat:R.coords.latitude,lng:R.coords.longitude};E.current&&(E.current.panTo(L),E.current.setZoom(17)),I(!1)},()=>{I(!1),alert("    .")},{enableHighAccuracy:!0}))},B=()=>{var U;if(!((U=window.google)!=null&&U.maps)||!E.current){p(!1);return}const R=E.current.getCenter(),L=R.lat(),V=R.lng();new window.google.maps.Geocoder().geocode({location:{lat:L,lng:V},language:"ko"},(K,W)=>{let X="  ";if(W==="OK"&&K&&K.length>0){const Q=K.find(M=>M.types.includes("street_address"));Q?X=Q.formatted_address:X=K[0].formatted_address,X=X.replace(/^\s*/,"")}s(Q=>je(J({},Q),{lat:L,lng:V,address:X})),p(!1)})},H=()=>T(null,null,function*(){y(!0);try{yield r(a)}finally{y(!1)}}),se=R=>T(null,null,function*(){confirm("  ?")&&(yield oe.deleteReview(R),h(L=>L.filter(V=>V.id!==R)),alert(" ."))}),D=()=>T(null,null,function*(){w(!0);try{yield n(a.id),u(!1)}finally{w(!1)}});return i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 max-w-2xl mx-auto shadow-xl bg-white min-h-full",children:[i.jsx("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-100 px-4 py-3 flex items-center justify-between shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(ao,{className:"w-6 h-6 rotate-180 text-gray-600"})}),i.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"  "})]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-200 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" (ID)"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm border border-gray-200 text-gray-700 font-mono",children:a.createdBy==="admin"||!a.createdBy?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500"}),""]}):i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-amber-500"}),a.creatorEmail||"  "," ",i.jsxs("span",{className:"text-xs text-gray-400",children:["(",a.createdBy,")"]})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:a.address,onChange:R=>s(je(J({},a),{address:R.target.value})),className:"flex-1 p-3 bg-gray-50 rounded-lg outline-none text-sm border border-gray-200 focus:border-blue-500 transition-colors"}),i.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm font-bold shrink-0",children:[i.jsx(gs,{className:"w-4 h-4"})," "]})]}),i.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[": ",a.lat.toFixed(6),", ",a.lng.toFixed(6)]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("input",{type:"text",value:a.name,onChange:R=>s(je(J({},a),{name:R.target.value})),placeholder:" ",className:"w-full p-3 bg-gray-50 rounded-lg outline-none text-sm border border-gray-200 focus:border-blue-500 transition-colors"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("input",{type:"number",value:a.floor||"",onChange:R=>s(je(J({},a),{floor:parseInt(R.target.value)||0})),placeholder:"1",className:"w-full p-3 bg-gray-50 rounded-lg outline-none text-sm border border-gray-200 focus:border-blue-500 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("input",{type:"text",value:a.password||"",onChange:R=>s(je(J({},a),{password:R.target.value,hasPassword:!!R.target.value})),placeholder:"  ",className:"w-full p-3 bg-gray-50 rounded-lg outline-none text-sm border border-gray-200 focus:border-blue-500 transition-colors"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border border-gray-100",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:" "}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>s(R=>je(J({},R),{stallCount:Math.max(0,(R.stallCount||0)-1)})),className:"w-8 h-8 rounded-full bg-white shadow-sm border border-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:i.jsx(Hw,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-bold text-lg w-6 text-center",children:a.stallCount||0}),i.jsx("button",{onClick:()=>s(R=>je(J({},R),{stallCount:(R.stallCount||0)+1})),className:"w-8 h-8 rounded-full bg-white shadow-sm border border-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-100",children:i.jsx(_c,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>s(je(J({},a),{hasPaper:!a.hasPaper})),className:`flex-1 py-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${a.hasPaper?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white border-gray-200 text-gray-400 hover:bg-gray-50"}`,children:[i.jsx(Vje,{className:"w-6 h-6"}),i.jsxs("span",{className:"text-sm font-bold",children:[" ",a.hasPaper?"":""]})]}),i.jsxs("button",{onClick:()=>s(je(J({},a),{hasBidet:!a.hasBidet})),className:`flex-1 py-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${a.hasBidet?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white border-gray-200 text-gray-400 hover:bg-gray-50"}`,children:[i.jsx(bNe,{className:"w-6 h-6"}),i.jsxs("span",{className:"text-sm font-bold",children:[" ",a.hasBidet?"":""]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>s(je(J({},a),{genderType:ft.MALE})),className:`flex-1 py-3 rounded-lg text-sm font-bold border transition-all ${a.genderType===ft.MALE?"bg-blue-600 text-white border-blue-600":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:""}),i.jsx("button",{onClick:()=>s(je(J({},a),{genderType:ft.FEMALE})),className:`flex-1 py-3 rounded-lg text-sm font-bold border transition-all ${a.genderType===ft.FEMALE?"bg-red-500 text-white border-red-500":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:""}),i.jsx("button",{onClick:()=>s(je(J({},a),{genderType:ft.UNISEX})),className:`flex-1 py-3 rounded-lg text-sm font-bold border transition-all ${a.genderType===ft.UNISEX?"bg-purple-600 text-white border-purple-600":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:""})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("textarea",{value:a.note||"",onChange:R=>s(je(J({},a),{note:R.target.value})),placeholder:":   ,   ",className:"w-full p-3 bg-gray-50 rounded-lg outline-none min-h-[80px] text-sm resize-none border border-gray-200 focus:border-blue-500 transition-colors"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700",children:"  ( )"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("button",{onClick:()=>s(je(J({},a),{isPrivate:!a.isPrivate})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.isPrivate?"bg-blue-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.isPrivate?"translate-x-6":"translate-x-1"}`})})})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[i.jsx($r,{className:"w-5 h-5 text-amber-500 fill-amber-500"})," "]}),i.jsxs("span",{className:"text-xs text-gray-500",children:[d.length,""]})]}),j?i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  ..."}):d.length>0?i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.map(R=>i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100 flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-bold text-gray-800",children:R.userName}),i.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((L,V)=>i.jsx($r,{className:`w-3 h-3 ${V<R.rating?"text-amber-500 fill-amber-500":"text-gray-300"}`},V))})]}),i.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:R.content}),i.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:new Date(R.createdAt).toLocaleDateString()})]}),i.jsx("button",{onClick:()=>se(R.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors shrink-0",title:" ",children:i.jsx(kr,{className:"w-4 h-4"})})]},R.id))}):i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  ."})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsxs("button",{onClick:H,disabled:b,className:"flex-1 py-4 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-colors flex justify-center items-center gap-2 text-base disabled:opacity-70",children:[b?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):i.jsx(fs,{className:"w-5 h-5"}),b?" ...":""]}),i.jsxs("button",{onClick:()=>u(!0),disabled:b||_,className:"flex-1 py-4 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors border border-red-100 flex justify-center items-center gap-2 text-base",children:[i.jsx(kr,{className:"w-5 h-5"}),""]})]})]}),m&&i.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"font-bold text-lg",children:" "}),i.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Xt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{ref:P,className:"w-full h-96",style:{minHeight:"400px"}}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-full pointer-events-none",children:i.jsx(gs,{className:"w-10 h-10 text-blue-600 drop-shadow-lg"})}),i.jsx("button",{onClick:$,disabled:C,className:"absolute bottom-4 right-4 p-3 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:C?i.jsx(ht,{className:"w-6 h-6 text-blue-600 animate-spin"}):i.jsx(hh,{className:"w-6 h-6 text-blue-600"})})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"     ."}),i.jsx("button",{onClick:B,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"  "})]})]})}),l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl border-t-4 border-red-500",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-3",children:" ?"}),i.jsx("p",{className:"text-gray-500 text-sm text-center mb-6",children:"    ."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""}),i.jsxs("button",{onClick:D,disabled:_,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[_&&i.jsx(ht,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Xb=()=>new Promise(t=>{if(window.kakao&&window.kakao.maps){t(!0);return}let e=0;const r=20,n=setInterval(()=>{e++,window.kakao&&window.kakao.maps?(clearInterval(n),t(!0)):e>=r&&(clearInterval(n),console.error("Kakao Maps SDK failed to load within timeout."),t(!1))},100)}),Zb=t=>T(null,null,function*(){return(yield Xb())?new Promise(r=>{const n=()=>{if(!window.kakao.maps.services){console.error("Kakao Maps SDK 'services' library not found."),r(null);return}const a=t.replace(/\([^)]*\)/g,"").replace(/\[[^\]]*\]/g,"").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/\s+/g," ").trim(),s=new window.kakao.maps.services.Geocoder,l=new window.kakao.maps.services.Places;s.addressSearch(a,(u,d)=>{var h;if(d===window.kakao.maps.services.Status.OK&&u.length>0){const m=u[0];r({lat:parseFloat(m.y),lng:parseFloat(m.x),address_name:((h=m.road_address)==null?void 0:h.address_name)||m.address.address_name,address_type:m.address_type||"REGION"})}else{console.warn(`[KakaoGeocoding] Address Search Failed for "${a}": Status=${d}. Retrying with cleaning...`);const m=a.replace(/(\s\d+(?:-\d+)?)\s+.+$/,"$1").trim();console.log(`[KakaoGeocoding] Pre-simplification: "${a}" -> Post-simplification: "${m}"`),m!==a?s.addressSearch(m,(p,b)=>{var y;if(b===window.kakao.maps.services.Status.OK&&p.length>0){console.log(`[KakaoGeocoding] Retry Success with simplified address: "${m}"`);const _=p[0];r({lat:parseFloat(_.y),lng:parseFloat(_.x),address_name:((y=_.road_address)==null?void 0:y.address_name)||_.address.address_name,address_type:_.address_type||"REGION"})}else console.warn(`[KakaoGeocoding] Simplified Search Failed. Trying Keyword Search for: "${a}"`),l.keywordSearch(a,(_,w)=>{if(w===window.kakao.maps.services.Status.OK&&_.length>0){console.log("[KakaoGeocoding] Keyword Search Success for address string");const j=_[0];r({lat:parseFloat(j.y),lng:parseFloat(j.x),address_name:j.road_address_name||j.address_name,address_type:"ROAD_ADDR"})}else console.error(`[KakaoGeocoding] All attempts failed for "${a}"`),r(null)})}):(console.warn(`[KakaoGeocoding] No simplification possible. Trying Keyword Search for: "${a}"`),l.keywordSearch(a,(p,b)=>{if(b===window.kakao.maps.services.Status.OK&&p.length>0){console.log("[KakaoGeocoding] Keyword Search Success for address string");const y=p[0];r({lat:parseFloat(y.y),lng:parseFloat(y.x),address_name:y.road_address_name||y.address_name,address_type:"ROAD_ADDR"})}else console.error(`[KakaoGeocoding] All attempts failed for "${a}"`),r(null)}))}})};window.kakao.maps.services?n():window.kakao.maps.load(()=>{n()})}):null}),YM=(t,e)=>T(null,null,function*(){return(yield Xb())?new Promise(n=>{const a=()=>{if(!window.kakao.maps.services){console.error("Kakao Maps SDK 'services' library not found."),n(null);return}new window.kakao.maps.services.Geocoder().coord2Address(e,t,(l,u)=>{var d;if(u===window.kakao.maps.services.Status.OK){const h=((d=l[0].road_address)==null?void 0:d.address_name)||l[0].address.address_name;n(h)}else n(null)})};window.kakao.maps.services?a():window.kakao.maps.load(()=>{a()})}):null}),XM=t=>T(null,null,function*(){return(yield Xb())?new Promise(r=>{const n=()=>{if(!window.kakao.maps.services){console.error("Kakao Maps SDK 'services' library not found."),r(null);return}new window.kakao.maps.services.Places().keywordSearch(t,(s,l)=>{if(l===window.kakao.maps.services.Status.OK&&s.length>0){const u=s[0];r({lat:parseFloat(u.y),lng:parseFloat(u.x),address_name:u.road_address_name||u.address_name,place_name:u.place_name})}else r(null)})};window.kakao.maps.services?n():window.kakao.maps.load(()=>{n()})}):null}),o8e=Object.freeze(Object.defineProperty({__proto__:null,checkKakaoSDK:Xb,geocodeAddressKakao:Zb,keywordSearchKakao:XM,reverseGeocodeKakao:YM},Symbol.toStringTag,{value:"Module"})),ZM=({onSuccess:t,onCancel:e})=>{const[r,n]=x.useState(null),[a,s]=x.useState("UTF-8"),[l,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(0),[b,y]=x.useState([]),[_,w]=x.useState([]),[j,k]=x.useState(!1),[E,S]=x.useState(!1),[P,C]=x.useState("admin"),I=x.useRef(null),$=x.useRef([]);Dr.useEffect(()=>{oe.getAdminAccountId().then(L=>{L&&L!=="00000000-0000-0000-0000-000000000000"&&C(L)})},[]);const B=(L,V="info")=>{const Z={message:L,type:V,timestamp:new Date().toLocaleTimeString()};$.current=[...$.current,Z],y(U=>[...U,Z])},H=L=>{if(L.target.files&&L.target.files[0]){const V=L.target.files[0];V.name.endsWith(".csv")?n(V):alert("CSV   .")}},se=L=>{const V=[];let Z=[],U="",K=!1;for(let W=0;W<L.length;W++){const X=L[W],Q=L[W+1];K?X==='"'?Q==='"'?(U+='"',W++):K=!1:U+=X:X==='"'?K=!0:X===","?(Z.push(U.trim()),U=""):X==="\r"||X===`
`?(Z.push(U.trim()),Z.length>0&&Z.some(M=>M!=="")&&V.push(Z),Z=[],U="",X==="\r"&&Q===`
`&&W++):U+=X}return(U!==""||Z.length>0)&&(Z.push(U.trim()),Z.some(W=>W!=="")&&V.push(Z)),V.slice(1)},D=()=>T(null,null,function*(){if(_.length===0){e();return}S(!0),p(0),S(!0),p(0),y([]),$.current=[],B("  ...","warning");const L=_.length,V=50;for(let Z=0;Z<L;Z+=V){const U=_.slice(Z,Z+V);yield Promise.all(U.map(X=>oe.deleteToilet(X)));const K=Math.min(Z+V,L),W=Math.floor(K/L*100);p(W),B(`  ... (${K}/${L})`,"warning")}B(` ! ${L}  .`,"success"),w([]),S(!1),k(!0)}),R=()=>T(null,null,function*(){if(!r)return;h(!0),u(!0),k(!1),p(0),y([]),$.current=[],w([]),B("  ...");const L=new FileReader;L.onload=V=>T(null,null,function*(){var Z,U,K,W,X,Q,M,G,q,ae,ie,be,te,he;try{const Y=(Z=V.target)==null?void 0:Z.result;p(5),B("  ...");const we=se(Y),Ce=we.length>0?we[0]:[],Ie=(Y.split(/\r?\n/)[0]||"").split(",").map(Ae=>Ae.replace(/"/g,"").trim());let Ve=Ie.findIndex(Ae=>Ae.includes("WGS84")||Ae.includes("")||Ae.toLowerCase().includes("lat")),Ze=Ie.findIndex(Ae=>Ae.includes("WGS84")||Ae.includes("")||Ae.toLowerCase().includes("lng")),ve=Ie.findIndex(Ae=>Ae.includes("")||Ae.includes("")||Ae.toLowerCase().includes("name")),Re=Ie.findIndex(Ae=>Ae.includes("")||Ae.toLowerCase().includes("road")),bt=Ie.findIndex(Ae=>Ae.includes("")||Ae.toLowerCase().includes("jibun")),hr=Ie.findIndex(Ae=>Ae.includes("")||Ae.toLowerCase().includes("type")),Ir=Ie.findIndex(Ae=>Ae.includes("-")||Ae.includes("")),Mn=Ie.findIndex(Ae=>Ae.includes("-")||Ae.includes("")),Wr=Ie.findIndex(Ae=>Ae.includes("")),St=Ie.findIndex(Ae=>Ae.includes("")||Ae.toLowerCase().includes("memo"));const yr=Ve!==-1&&Ze!==-1;yr?B("   (Fast-Path) .   .","success"):(B("  CSV  .     ."),Ve===-1&&(Ve=7),Ze===-1&&(Ze=8)),ve===-1&&(ve=1),Re===-1&&(Re=2),bt===-1&&(bt=3),hr===-1&&(hr=0),B(`  : (${ve}), (${Re}/${bt}), (${Ve},${Ze})${yr?", ("+Ir+"/"+Mn+")":""}`);const an=[],Zt=[];let jt=0,Yr=0,Gt=0;const bn=`upload_${Date.now()}`,sn=we.length,yn=Ae=>new Promise(We=>setTimeout(We,Ae));if(yr)for(let Ae=0;Ae<sn;Ae++)try{const We=we[Ae];if(We.length<2)continue;const Oe=((U=We[ve])==null?void 0:U.trim())||"";if(!Oe)continue;const Ue=parseFloat(((K=We[Ve])==null?void 0:K.trim())||"0"),Fe=parseFloat(((W=We[Ze])==null?void 0:W.trim())||"0");if(isNaN(Ue)||isNaN(Fe)||Ue===0||Fe===0){Ae<5&&B(`[] ${Oe}:    .`,"warning");continue}const ot=(We[Re]||We[bt]||"").trim(),_t=((X=We[Ir])==null?void 0:X.trim())||"",Et=((Q=We[Mn])==null?void 0:Q.trim())||"",mt=((M=We[Wr])==null?void 0:M.trim())||"",Pt=((G=We[St])==null?void 0:G.trim())||"";let _r="";_t&&(_r+=`: ${_t} `),Et&&(_r+=`: ${Et} `),mt&&(_r+=`
: ${mt}`),Pt&&(_r+=`
${Pt}`);const Xr={id:`t_${bn}_${Ae}`,name:Oe,address:ot,lat:Ue,lng:Fe,type:"public",genderType:ft.UNISEX,floor:1,hasPassword:!1,cleanliness:3,hasBidet:!1,hasPaper:!1,stallCount:(parseInt(_t)||0)+(parseInt(Et)||0)||1,crowdLevel:"medium",isUnlocked:!0,note:_r.trim(),createdBy:P,source:"admin",isVerified:!0,createdAt:new Date().toISOString()};an.push(Xr),jt++,Ae%50===0&&p(10+Math.floor(Ae/sn*80))}catch(We){console.error(`FastPath Row ${Ae} Error:`,We)}else{const{validateBulkItem:Ae,parseBulkRow:We}=yield Ni(()=>T(null,null,function*(){const{validateBulkItem:Oe,parseBulkRow:Ue}=yield import("./bulkRules-DuGqmwtl.js");return{validateBulkItem:Oe,parseBulkRow:Ue}}),[],import.meta.url);B("     ...");for(let Oe=0;Oe<sn;Oe++)try{const Ue=we[Oe];if(Ue.length<2)continue;const Fe=((q=Ue[ve])==null?void 0:q.trim())||"";if(!Fe)continue;const ot=((ae=Ue[Re])==null?void 0:ae.trim())||"",_t=((ie=Ue[bt])==null?void 0:ie.trim())||"",Et=ot||_t||"",mt=parseFloat(((be=Ue[Ve])==null?void 0:be.trim())||"0"),Pt=parseFloat(((te=Ue[Ze])==null?void 0:te.trim())||"0"),_r=((he=Ue[St])==null?void 0:he.trim())||"",Kt=We(Fe,Et);let Xr=!1;mt!==0&&Pt!==0&&mt>=33&&mt<=43&&Pt>=124&&Pt<=132&&(Xr=yield oe.checkIsOnLand(mt,Pt));let on=null;Kt.address&&(on=yield Zb(Kt.address),yield yn(100));const gt=Ae(Kt,mt,Pt,on,Xr);if(gt.action==="immediate"){const It=`t_${bn}_${Oe}`;an.push({id:It,name:gt.name,address:gt.address,lat:gt.lat,lng:gt.lng,type:"public",genderType:ft.UNISEX,floor:gt.floor,hasPassword:!1,cleanliness:3,hasBidet:!1,hasPaper:!1,stallCount:1,crowdLevel:"medium",isUnlocked:!0,note:_r,createdBy:P,source:"admin",isVerified:!0,createdAt:new Date().toISOString()}),jt++,B(`[] ${gt.name} - ${gt.reason}`,"success")}else gt.action==="review"?(Zt.push({upload_id:bn,name_raw:Fe,address_raw:Et,lat_raw:mt,lng_raw:Pt,name:gt.name,address:gt.address,lat:gt.lat,lng:gt.lng,floor:gt.floor,status:"review_needed",reason:gt.reason,logs:gt.logs}),Yr++,B(`[] ${gt.name} - ${gt.reason}`,"warning")):(Zt.push({upload_id:bn,name_raw:Fe,address_raw:Et,lat_raw:mt,lng_raw:Pt,name:gt.name,address:gt.address,lat:gt.lat,lng:gt.lng,floor:gt.floor,status:"rejected",reason:gt.reason,logs:gt.logs}),Gt++,B(`[] ${gt.name} - ${gt.reason}`,"error"));Oe%5===0&&p(10+Math.floor(Oe/sn*80))}catch(Ue){console.error(`Standard Row ${Oe} Error:`,Ue)}}p(90);const Ht=(Ae,We)=>Array.from({length:Math.ceil(Ae.length/We)},(Oe,Ue)=>Ae.slice(Ue*We,Ue*We+We));if(an.length>0){B(`    ${an.length}  ...`);const Ae=Ht(an,50);for(const We of Ae)yield oe.bulkAddToilets(We)}if(Zt.length>0){B(`   ${Zt.length}   ...`);const Ae=Ht(Zt,50);for(const We of Ae)yield oe.bulkSaveStaging(We)}const Le=an.map(Ae=>Ae.id);yield oe.saveUploadHistory({id:bn,fileName:r.name,uploadedAt:new Date().toISOString(),totalCount:sn,successCount:jt,addedCount:jt,updatedCount:0,failCount:Gt+Yr,uploadedToiletIds:Le,uploadedBy:P,logs:$.current.map(Ae=>Ae.message)}),p(100),k(!0),u(!1),B(`
  !`,"success"),yr?B(`  -  : ${jt}`,"success"):(B(`  -  : ${jt}`,"success"),B(`  -  : ${Yr} (  )`,"warning"),B(`  -  : ${Gt}`,"error")),t({fileName:r.name,totalCount:sn,successCount:jt,addedCount:jt,updatedCount:0,failCount:Gt+Yr,uploadedIds:Le,logs:$.current.map(Ae=>Ae.message)})}catch(Y){console.error(Y),B(`CRITICAL ERROR: ${Y}`,"error"),u(!1)}}),L.readAsText(r,a)});return i.jsxs(i.Fragment,{children:[!d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[i.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[i.jsx(yl,{className:"w-5 h-5 text-blue-600"}),"   "]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:i.jsx(Xt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:[i.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-colors cursor-pointer ${r?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,onClick:()=>{var L;return(L=I.current)==null?void 0:L.click()},children:[i.jsx("input",{type:"file",ref:I,onChange:H,accept:".csv",className:"hidden"}),r?i.jsxs(i.Fragment,{children:[i.jsx(wl,{className:"w-12 h-12 text-blue-500 mb-3"}),i.jsx("p",{className:"font-bold text-gray-900",children:r.name}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[(r.size/1024).toFixed(1)," KB"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(yl,{className:"w-12 h-12 text-gray-400 mb-3"}),i.jsx("p",{className:"font-bold text-gray-700",children:"CSV  "})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"encoding",value:"UTF-8",checked:a==="UTF-8",onChange:L=>s(L.target.value)}),i.jsx("span",{className:"text-sm",children:"UTF-8"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"encoding",value:"EUC-KR",checked:a==="EUC-KR",onChange:L=>s(L.target.value)}),i.jsx("span",{className:"text-sm",children:"EUC-KR ()"})]})]})]})]}),i.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:e,className:"px-5 py-2.5 text-gray-600 font-bold hover:bg-gray-200 rounded-xl transition-colors",children:""}),i.jsx("button",{onClick:R,disabled:!r,className:"px-5 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50",children:" "})]})]})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[i.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:i.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[i.jsx(yl,{className:"w-5 h-5 text-blue-600"}),E?"  ":l?"  ":" "]})}),i.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[i.jsxs("div",{className:"text-center py-4",children:[i.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 text-blue-600 rounded-full mb-4 relative",children:[(l||E)&&m<100?i.jsx(ht,{className:"w-8 h-8 animate-spin"}):i.jsx(fs,{className:"w-8 h-8"}),i.jsxs("span",{className:"absolute -bottom-8 font-black text-xl text-blue-600",children:[m,"%"]})]}),i.jsx("h4",{className:"text-lg font-bold text-gray-900 mt-6",children:E?"  ...":l?"  ...":" "}),(l||E)&&i.jsx("p",{className:"text-sm text-gray-500",children:"  ."})]}),i.jsx("div",{className:"bg-gray-900 rounded-xl p-4 h-64 overflow-y-auto font-mono text-xs space-y-1",children:b.map((L,V)=>i.jsxs("div",{className:`flex gap-2 ${L.type==="error"?"text-red-400":L.type==="success"?"text-green-400":L.type==="warning"?"text-amber-400":"text-gray-300"}`,children:[i.jsxs("span",{className:"text-gray-600 shrink-0",children:["[",L.timestamp,"]"]}),i.jsx("span",{children:L.message})]},V))})]}),i.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[!j&&i.jsx("button",{onClick:D,disabled:E,className:"px-5 py-2.5 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?" ...":""}),j&&i.jsx("button",{onClick:e,className:"px-5 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors",children:""})]})]})})]})},JM=({onRefresh:t})=>{const[e,r]=x.useState(!1),[n,a]=x.useState([]),[s,l]=x.useState(null),[u,d]=x.useState(!1),[h,m]=x.useState({current:0,total:0}),[p,b]=x.useState(!0),y=()=>T(null,null,function*(){b(!0);try{const k=yield oe.getUploadHistories();a(k)}finally{b(!1)}});x.useEffect(()=>{y()},[]);const _=k=>T(null,null,function*(){y(),r(!1),t&&t()}),w=k=>T(null,null,function*(){var S;d(!0),m({current:0,total:0});const E=n.find(P=>P.id===k);E&&m({current:0,total:((S=E.uploadedToiletIds)==null?void 0:S.length)||0}),yield oe.deleteUploadHistory(k,(P,C)=>{m({current:P,total:C})}),yield y(),d(!1),l(null),t&&t()}),j=k=>new Date(k).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"   "}),i.jsx("p",{className:"text-gray-600 text-sm",children:"CSV         ."})]}),i.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[i.jsx(yl,{className:"w-5 h-5"}),"CSV "]})]})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(wl,{className:"w-5 h-5 text-gray-600"})," "]}),p?i.jsx("div",{className:"bg-white p-12 rounded-xl border border-gray-100 text-center flex justify-center",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin"})}):n.length===0?i.jsxs("div",{className:"bg-white p-12 rounded-xl border border-gray-100 text-center",children:[i.jsx(yl,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:"   ."}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"CSV   ."})]}):i.jsx("div",{className:"space-y-3",children:n.map(k=>i.jsx("div",{className:"bg-white p-5 rounded-xl border border-gray-100 hover:border-blue-200 hover:shadow-md transition-all",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(wl,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsx("h5",{className:"font-bold text-gray-900",children:k.fileName})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[i.jsx(Aj,{className:"w-4 h-4"}),i.jsx("span",{children:j(k.uploadedAt)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[i.jsx("span",{className:"font-medium",children:""}),i.jsxs("span",{className:"font-bold text-blue-600",children:[k.totalCount,""]})]}),i.jsx("div",{className:"w-px h-4 bg-gray-200"}),i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600",children:[i.jsx(Gf,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-bold",children:[k.successCount,""]})]}),i.jsx("div",{className:"w-px h-4 bg-gray-200"}),i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600",children:[i.jsx(A6,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-bold",children:[k.failCount,""]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs pl-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-600",children:[i.jsx("span",{className:"font-medium",children:" :"}),i.jsxs("span",{className:"font-bold",children:[k.addedCount,""]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-amber-600",children:[i.jsx("span",{className:"font-medium",children:":"}),i.jsxs("span",{className:"font-bold",children:[k.updatedCount,""]})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{window.location.hash=`/admin?section=toilets&sub=bulk-review&uploadId=${k.id}`},className:"p-2.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors flex-shrink-0",title:"    ",children:i.jsx(mh,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>l(k.id),className:"p-2.5 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0",title:"",children:i.jsx(kr,{className:"w-5 h-5"})})]})]})},k.id))})]}),e&&i.jsx(ZM,{onSuccess:k=>_(),onCancel:()=>r(!1)}),s&&!u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl border-t-4 border-red-500",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-3",children:"  ?"}),i.jsxs("p",{className:"text-gray-600 text-sm text-center mb-6",children:["     .",i.jsx("br",{}),"    ."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>l(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""}),i.jsx("button",{onClick:()=>w(s),className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors",children:""})]})]})}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ht,{className:"w-8 h-8 text-red-600 animate-spin"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"  ..."}),i.jsx("p",{className:"text-gray-600 text-sm",children:"  ."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:" "}),i.jsxs("span",{className:"font-bold text-red-600",children:[h.current," / ",h.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-red-600 h-full transition-all duration-300",style:{width:`${h.total>0?h.current/h.total*100:0}%`}})})]}),i.jsx("p",{className:"text-center text-sm text-gray-500",children:h.current===h.total&&h.total>0?" .":`${h.current} ...`})]})})]})},Y1=[{id:"seoul",name:"",shortName:""},{id:"gyeonggi",name:"",shortName:""},{id:"incheon",name:"",shortName:""},{id:"gangwon",name:"",shortName:""},{id:"chungbuk",name:"",shortName:""},{id:"chungnam",name:"",shortName:""},{id:"daejeon",name:"",shortName:""},{id:"sejong",name:"",shortName:""},{id:"jeonbuk",name:"",shortName:""},{id:"jeonnam",name:"",shortName:""},{id:"gwangju",name:"",shortName:""},{id:"gyeongbuk",name:"",shortName:""},{id:"daegu",name:"",shortName:""},{id:"gyeongnam",name:"",shortName:""},{id:"busan",name:"",shortName:""},{id:"ulsan",name:"",shortName:""},{id:"jeju",name:"",shortName:""},{id:"overseas",name:"/",shortName:""}],l8e={};Y1.forEach(t=>l8e[t.name]=t.id);const c8e=t=>{if(!t)return{province:"",district:""};const e=t.trim(),n=e.split(/\s+/)[1]||"",a=e.substring(0,2);let s="overseas";switch(a){case"":s="seoul";break;case"":s="gyeonggi";break;case"":s="incheon";break;case"":s="gangwon";break;case"":s="jeju";break;case"":s="sejong";break;case"":s="daejeon";break;case"":s="daegu";break;case"":s="gwangju";break;case"":s="busan";break;case"":s="ulsan";break;case"":s="chungbuk";break;case"":s="chungnam";break;case"":s="jeonbuk";break;case"":s="jeonnam";break;case"":s="gyeongbuk";break;case"":s="gyeongnam";break;case"":e.includes("")?s="chungbuk":e.includes("")&&(s="chungnam");break;case"":e.includes("")?s="jeonbuk":e.includes("")&&(s="jeonnam");break;case"":e.includes("")?s="gyeongbuk":e.includes("")&&(s="gyeongnam");break}return{province:s,district:n}},u8e=()=>{const[t,e]=x.useState({}),[r,n]=x.useState(!0),[a,s]=x.useState(null),[l,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=()=>T(null,null,function*(){n(!0);try{const _=yield oe.getRegionalStats();if(_&&_.length>0){h(_),u("server"),n(!1);return}}catch(_){}try{let _=[],w=1;const j=1e3;let k=!0;for(;k;){const{data:E}=yield oe.getAdminToilets(w,j,{filterSource:"all"});if(!E||E.length===0?k=!1:(_=[..._,...E],E.length<j?k=!1:w++),w>50)break}m(_),u("client")}catch(_){console.error("Critical: Failed to fetch statistics data via fallback",_)}finally{n(!1)}}),h=_=>{const w=p();_.forEach(j=>{const k=j.province_id||"overseas",E=w[k]||w.overseas;if(!E)return;const S=parseInt(j.total_count||"0");E.total+=S,E.districts[j.district_name]={name:j.district_name,total:S,adminPublic:parseInt(j.admin_public_count||"0"),userMale:parseInt(j.user_male_count||"0"),userMaleLocked:parseInt(j.user_male_locked_count||"0"),userFemale:parseInt(j.user_female_count||"0"),userFemaleLocked:parseInt(j.user_female_locked_count||"0"),userUni:parseInt(j.user_uni_count||"0"),userUniLocked:parseInt(j.user_uni_locked_count||"0"),avgRating:0}}),e(w)},m=_=>{const w=p();_.forEach(j=>{const{province:k,district:E}=c8e(j.address||""),S=w[k];if(!S)return;S.districts[E]||(S.districts[E]={name:E,total:0,adminPublic:0,userMale:0,userMaleLocked:0,userFemale:0,userFemaleLocked:0,userUni:0,userUniLocked:0,avgRating:0});const P=S.districts[E];if(P.total++,S.total++,(j.source==="admin"||j.createdBy==="admin")&&!j.isPrivate)P.adminPublic++;else{const I=j.hasPassword;j.genderType===ft.MALE?(P.userMale++,I&&P.userMaleLocked++):j.genderType===ft.FEMALE?(P.userFemale++,I&&P.userFemaleLocked++):(P.userUni++,I&&P.userUniLocked++)}}),e(w)},p=()=>{const _={};return Y1.forEach(w=>{_[w.id]={id:w.id,name:w.name,shortName:w.shortName,aliases:[],districts:{},total:0}}),_},b=t,y=a?b[a]:null;return r?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px]",children:[i.jsx(ht,{className:"w-10 h-10 text-primary-500 animate-spin mb-4"}),i.jsx("p",{className:"text-gray-500",children:"  ..."})]}):i.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50 p-1",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsx("div",{children:y?i.jsxs("button",{onClick:()=>s(null),className:"group flex items-center gap-2 text-2xl font-bold text-gray-900 hover:text-blue-600 transition-colors",children:[i.jsx(fh,{className:"w-6 h-6 bg-gray-100 rounded-full p-1 group-hover:bg-blue-100 transition-colors"}),y.name,i.jsxs("span",{className:"text-lg font-medium text-gray-400 ml-2",children:[" ",y.total.toLocaleString(),""]})]}):i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Fw,{className:"w-6 h-6 text-gray-400"}),"  ",l==="server"&&i.jsx("span",{className:"ml-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full border border-green-100 flex items-center gap-1",children:"  "}),l==="client"&&i.jsx("span",{className:"ml-2 text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-full border border-amber-100 flex items-center gap-1",children:"   (SQL  )"})]})}),!y&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-white px-3 py-1.5 rounded-full border shadow-sm",children:[i.jsx(yje,{className:"w-4 h-4"}),i.jsxs("span",{children:[" ",Object.values(b).reduce((_,w)=>_+w.total,0).toLocaleString()," "]})]})]}),y?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-in slide-in-from-right-8 duration-300",children:[(()=>{const _=Object.values(y.districts),w=_.reduce((E,S)=>({name:" ",total:E.total+S.total,adminPublic:E.adminPublic+S.adminPublic,userMale:E.userMale+S.userMale,userMaleLocked:E.userMaleLocked+S.userMaleLocked,userFemale:E.userFemale+S.userFemale,userFemaleLocked:E.userFemaleLocked+S.userFemaleLocked,userUni:E.userUni+S.userUni,userUniLocked:E.userUniLocked+S.userUniLocked,avgRating:0}),{name:"Total",total:0,adminPublic:0,userMale:0,userMaleLocked:0,userFemale:0,userFemaleLocked:0,userUni:0,userUniLocked:0,avgRating:0}),j=_.reduce((E,S)=>E+(S._ratingCount||0),0),k=_.reduce((E,S)=>E+(S._ratingSum||0),0);return w.avgRating=j>0?k/j:0,i.jsx("div",{className:"col-span-full mb-4",children:i.jsx($4,{data:w,isMain:!0,regionName:y.name})})})(),Object.values(y.districts).sort((_,w)=>w.total-_.total).map(_=>i.jsx($4,{data:_,onClick:()=>{window.location.hash=`#/admin?section=toilets&sub=toilet-list&search=${encodeURIComponent(_.name)}`}},_.name))]}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in fade-in zoom-in-95 duration-300",children:Y1.map(_=>{const w=b[_.id],j=w?w.total:0;return i.jsxs("button",{onClick:()=>s(_.id),className:"relative flex flex-col items-start p-6 bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-md hover:border-blue-400 hover:-translate-y-1 transition-all group",children:[i.jsx("div",{className:"absolute top-6 right-6 w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center group-hover:bg-blue-50 transition-colors",children:i.jsx(Fw,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1 group-hover:text-blue-700",children:_.shortName}),i.jsx("div",{className:"text-sm text-gray-400 mb-4 group-hover:text-blue-400",children:_.name}),i.jsxs("div",{className:"mt-auto",children:[i.jsx("span",{className:"text-3xl font-extrabold text-gray-900 group-hover:text-blue-600",children:j.toLocaleString()}),i.jsx("span",{className:"text-sm text-gray-500 ml-1",children:""})]})]},_.id)})})]})},$4=({data:t,isMain:e=!1,regionName:r="",onClick:n})=>i.jsxs("div",{onClick:n,className:`
            rounded-2xl border p-5 transition-all text-left
            ${e?"bg-gradient-to-br from-blue-50 to-white border-blue-200 shadow-sm flex flex-col md:flex-row gap-6 items-center":"bg-white border-gray-100 hover:border-blue-300 hover:shadow-md group cursor-pointer"}
        `,children:[i.jsx("div",{className:`${e?"flex-1 border-r border-blue-100 pr-6 min-w-[200px]":"mb-4 border-b border-gray-50 pb-3"}`,children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:`font-bold flex items-center gap-2 text-gray-900 ${e?"text-xl":"text-lg"}`,children:[e?`${r}  `:t.name,e&&i.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded-full",children:"Total"})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[i.jsxs("span",{className:"text-2xl font-extrabold text-gray-900",children:[t.total.toLocaleString(),i.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:""})]}),i.jsxs("div",{className:"flex items-center text-amber-500 font-bold text-sm bg-amber-50 px-2 py-0.5 rounded-lg",children:[i.jsx($r,{className:"w-3.5 h-3.5 fill-current mr-1"}),t.avgRating.toFixed(1)]})]})]}),!e&&i.jsx("div",{className:"p-2 bg-gray-50 rounded-full group-hover:bg-blue-50 transition-colors",children:i.jsx(aT,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500"})})]})}),i.jsxs("div",{className:`grid gap-3 ${e?"flex-[2] grid-cols-2 md:grid-cols-4 w-full":"grid-cols-1"}`,children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 flex flex-col justify-center",children:[i.jsxs("span",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[i.jsx(aT,{className:"w-3 h-3"})," /"]}),i.jsx("span",{className:"font-bold text-gray-800 text-lg",children:t.adminPublic})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"()"}),t.userMaleLocked>0&&i.jsx(nw,{count:t.userMaleLocked})]}),i.jsx("span",{className:"font-bold text-gray-800 text-lg",children:t.userMale})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"()"}),t.userFemaleLocked>0&&i.jsx(nw,{count:t.userFemaleLocked})]}),i.jsx("span",{className:"font-bold text-gray-800 text-lg",children:t.userFemale})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"()"}),t.userUniLocked>0&&i.jsx(nw,{count:t.userUniLocked})]}),i.jsx("span",{className:"font-bold text-gray-800 text-lg",children:t.userUni})]})]})]}),nw=({count:t})=>i.jsxs("div",{className:"flex items-center text-[10px] text-gray-500 bg-white px-1.5 py-0.5 rounded border border-gray-200",children:[i.jsx(jl,{className:"w-2.5 h-2.5 mr-0.5 opacity-60"}),t]}),d8e=t=>{const e=new Date(t);return`${e.getMonth()+1}/${e.getDate()}`},P4=t=>{t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-e.getTime())/864e5+1)/7)},f8e=()=>{const[t,e]=x.useState(!0),[r,n]=x.useState("1m"),[a,s]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState({total:0,newThisWeek:0,lockRate:0,avgRating:0}),[m,p]=x.useState(null);x.useEffect(()=>{b()},[]);const b=()=>T(null,null,function*(){e(!0);try{const j=yield oe.getToiletStatsRaw();y(j),p("client")}catch(j){console.error(j)}finally{e(!1)}}),y=j=>{let k=[],E=0,S=0,P=0,C=0,I=0;const $=new Date;$.setDate($.getDate()-7),$.setHours(0,0,0,0);const B=new Map;j.forEach(H=>{var Z;if(!H.created_at)return;const se=H.created_at.split("T")[0];if(se.length!==10)return;const D=(Z=H.users)==null?void 0:Z.role;if(H.source==="admin"||H.created_by==="admin"||D==="ADMIN"||D==="VIP")return;B.has(se)||B.set(se,{dateStr:se,total:0,male:0,maleLocked:0,female:0,femaleLocked:0,uni:0,uniLocked:0,ratingSum:0,ratingCount:0});const L=B.get(se);L.total++,E++,H.rating_avg>0&&(L.ratingSum+=H.rating_avg,L.ratingCount++,C+=H.rating_avg,I++);const V=H.has_password;V&&S++,H.gender_type==="MALE"||H.gender_type==="male"?(L.male++,V&&L.maleLocked++):H.gender_type==="FEMALE"||H.gender_type==="female"?(L.female++,V&&L.femaleLocked++):(L.uni++,V&&L.uniLocked++),new Date(H.created_at)>=$&&P++}),k=Array.from(B.values()).map(H=>({date:new Date(H.dateStr),male:H.male,maleLocked:H.maleLocked,female:H.female,femaleLocked:H.femaleLocked,uni:H.uni,uniLocked:H.uniLocked,total:H.total,ratingSum:H.ratingSum,ratingCount:H.ratingCount})),h({total:E,newThisWeek:P,lockRate:E>0?S/E*100:0,avgRating:I>0?C/I:0}),s(k)};x.useEffect(()=>{if(t)return;const j=new Date,k=new Date;switch(k.setHours(0,0,0,0),r){case"1w":k.setDate(j.getDate()-7);break;case"1m":k.setMonth(j.getMonth()-1);break;case"3m":k.setMonth(j.getMonth()-3);break;case"6m":k.setMonth(j.getMonth()-6);break;case"1y":k.setFullYear(j.getFullYear()-1);break;case"custom":k.setMonth(j.getMonth()-1);break;default:k.setMonth(j.getMonth()-1);break}const E={},S=r==="3m"||r==="6m"||r==="1y",P=new Date(k),C=new Date;for(;P<=C;){let B="",H="";if(S){const se=P4(P);B=`${P.getFullYear()}-W${se}`,H=`${se}`}else{const se=P.getFullYear(),D=String(P.getMonth()+1).padStart(2,"0"),R=String(P.getDate()).padStart(2,"0");B=`${se}-${D}-${R}`,H=d8e(B)}E[B]||(E[B]={key:B,label:H,rawDate:new Date(P),male:0,maleLocked:0,female:0,femaleLocked:0,uni:0,uniLocked:0,total:0}),S?P.setDate(P.getDate()+7):P.setDate(P.getDate()+1)}a.filter(B=>B.date>=k).forEach(B=>{let H="";if(S){const se=P4(B.date);H=`${B.date.getFullYear()}-W${se}`}else{const se=B.date.getFullYear(),D=String(B.date.getMonth()+1).padStart(2,"0"),R=String(B.date.getDate()).padStart(2,"0");H=`${se}-${D}-${R}`}if(E[H]){const se=E[H];se.total+=B.total,se.male+=B.male,se.maleLocked+=B.maleLocked,se.female+=B.female,se.femaleLocked+=B.femaleLocked,se.uni+=B.uni,se.uniLocked+=B.uniLocked}});const $=Object.values(E).sort((B,H)=>B.rawDate.getTime()-H.rawDate.getTime());u($)},[a,r,t]);const _=d,w=({active:j,payload:k,label:E})=>{if(j&&k&&k.length){const S=k[0].payload;return i.jsxs("div",{className:"bg-white p-4 border border-blue-100 rounded-xl shadow-xl text-sm",children:[i.jsx("p",{className:"font-bold text-gray-800 mb-2",children:S.label}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsxs("span",{children:[": ",i.jsxs("span",{className:"font-bold",children:[S.male,""]})]}),i.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["(",S.maleLocked,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-pink-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-pink-500"}),i.jsxs("span",{children:[": ",i.jsxs("span",{className:"font-bold",children:[S.female,""]})]}),i.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["(",S.femaleLocked,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-amber-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),i.jsxs("span",{children:[": ",i.jsxs("span",{className:"font-bold",children:[S.uni,""]})]}),i.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["(",S.uniLocked,")"]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsxs("span",{className:"font-bold text-gray-900",children:[S.total,""]})]})]})]})}return null};return t?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px]",children:[i.jsx(ht,{className:"w-10 h-10 text-primary-500 animate-spin mb-4"}),i.jsx("p",{className:"text-gray-500",children:"   ..."}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"     ..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-end",children:m==="server"?i.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[i.jsx("span",{style:{fontSize:"10px"},children:""}),"  "]}):i.jsxs("span",{className:"flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full border border-blue-100",children:[i.jsx("span",{style:{fontSize:"10px"},children:""}),"    (  )"]})}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex flex-col",children:[i.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:"  "}),i.jsx("div",{className:"text-3xl font-black text-gray-900",children:_.total.toLocaleString()}),i.jsxs("div",{className:"mt-auto text-xs text-blue-500 font-medium flex items-center gap-1",children:[i.jsx(zh,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex flex-col",children:[i.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:"  "}),i.jsxs("div",{className:"text-3xl font-black text-blue-600",children:["+",_.newThisWeek]}),i.jsxs("div",{className:"mt-auto text-xs text-green-500 font-medium flex items-center gap-1",children:[i.jsx(dd,{className:"w-3 h-3"}),"   "]})]}),i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex flex-col",children:[i.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:" "}),i.jsxs("div",{className:"text-3xl font-black text-amber-500 flex items-center gap-1",children:[_.avgRating.toFixed(1)," ",i.jsx("span",{className:"text-lg text-amber-300",children:"/ 5.0"})]})]}),i.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex flex-col",children:[i.jsx("div",{className:"text-gray-500 text-sm font-medium mb-1",children:"() "}),i.jsxs("div",{className:"text-3xl font-black text-gray-700",children:[_.lockRate.toFixed(1),"%"]}),i.jsxs("div",{className:"mt-auto text-xs text-gray-400 font-medium flex items-center gap-1",children:[i.jsx(jl,{className:"w-3 h-3"})," ",_.lockRate>50?"  ":"  "]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"/  "}),i.jsx("div",{className:"flex bg-gray-50 p-1 rounded-lg border border-gray-200",children:["1w","1m","3m","6m","1y"].map(j=>i.jsx("button",{onClick:()=>n(j),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-colors ${r===j?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:{"1w":"1","1m":"1","3m":"3","6m":"6","1y":"1"}[j]},j))})]}),i.jsx("div",{className:"h-[400px] w-full",children:i.jsx(ci,{width:"100%",height:"100%",children:i.jsxs(xd,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),i.jsx(hi,{dataKey:"label",tick:{fontSize:12,fill:"#94a3b8"},axisLine:!1,tickLine:!1,dy:10}),i.jsx(mi,{tick:{fontSize:12,fill:"#94a3b8"},axisLine:!1,tickLine:!1,dx:-10}),i.jsx(di,{content:i.jsx(w,{}),cursor:{fill:"#f8fafc"}}),i.jsx(_l,{wrapperStyle:{paddingTop:"20px"}}),i.jsx(tn,{name:"",dataKey:"male",stackId:"a",fill:"#3b82f6",radius:[0,0,4,4],barSize:20}),i.jsx(tn,{name:"",dataKey:"female",stackId:"a",fill:"#ec4899",radius:[0,0,0,0],barSize:20}),i.jsx(tn,{name:"",dataKey:"uni",stackId:"a",fill:"#f59e0b",radius:[4,4,0,0],barSize:20})]})})})]})]})},h8e=({onEdit:t,onDelete:e})=>{const[r,n]=x.useState([]),[a,s]=x.useState(!1),[l,u]=x.useState(1),[d]=x.useState(100),[h,m]=x.useState(0),[p,b]=x.useState(""),[y,_]=x.useState(""),[w,j]=x.useState("all"),[k,E]=x.useState("all"),[S,P]=x.useState("all"),[C,I]=x.useState("all"),[$,B]=x.useState(""),[H,se]=x.useState(""),[D,R]=x.useState(null),[L,V]=x.useState(new Set),[Z,U]=x.useState(!1),[K,W]=x.useState(!1),[X,Q]=x.useState(!1);x.useEffect(()=>{const te=setTimeout(()=>_(p),500);return()=>clearTimeout(te)},[p]),x.useEffect(()=>{const te=window.location.hash,Y=new URLSearchParams(te.split("?")[1]).get("search");Y&&b(Y)},[]);const M=()=>T(null,null,function*(){s(!0);try{let te,he;const Y=new Date;C==="today"?te=new Date(Y.setHours(0,0,0,0)).toISOString():C==="week"?te=new Date(Y.setDate(Y.getDate()-7)).toISOString():C==="month"?te=new Date(Y.setMonth(Y.getMonth()-1)).toISOString():C==="custom"&&($&&(te=new Date($).toISOString()),H&&(he=new Date(H+"T23:59:59").toISOString()));const{data:we,count:Ce}=yield oe.getAdminToilets(l,d,{search:y,userIds:y?yield oe.searchUsers(y):void 0,source:w,type:k,visibility:S,startDate:te,endDate:he});n(we),m(Ce)}catch(te){console.error("Failed to fetch admin toilets",te)}finally{s(!1)}});x.useEffect(()=>{M()},[l,d,y,w,k,S,C,$,H]),x.useEffect(()=>{u(1),V(new Set)},[y,w,k,S,C]);const G=te=>{if(te.target.checked){const he=new Set(L);r.forEach(Y=>he.add(Y.id)),V(he)}else{const he=new Set(L);r.forEach(Y=>he.delete(Y.id)),V(he)}},q=te=>{const he=new Set(L);he.has(te)?he.delete(te):he.add(te),V(he)},ae=()=>T(null,null,function*(){if(L.size!==0){W(!0);try{yield oe.bulkDeleteToilets(Array.from(L)),V(new Set),Q(!1),M()}finally{W(!1)}}}),ie=()=>T(null,null,function*(){if(D){U(!0);try{yield e(D),R(null),M()}finally{U(!1)}}}),be=Math.ceil(h/d);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:", , (ID/) ...",value:p,onChange:te=>b(te.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("select",{value:w,onChange:te=>j(te.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:border-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"admin",children:" "}),i.jsx("option",{value:"user",children:" "})]}),i.jsxs("select",{value:k,onChange:te=>E(te.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:border-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"open",children:" (X)"}),i.jsx("option",{value:"closed",children:" (O)"})]}),i.jsxs("select",{value:S,onChange:te=>P(te.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium focus:outline-none focus:border-blue-500",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:"public",children:" ()"}),i.jsx("option",{value:"private",children:" ()"})]}),i.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),i.jsxs("div",{className:"flex gap-1 bg-gray-50 p-1 rounded-lg border border-gray-200",children:[["all","today","week","month"].map(te=>i.jsx("button",{onClick:()=>I(te),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-colors ${C===te?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:{all:"",today:"",week:"",month:""}[te]},te)),i.jsx("button",{onClick:()=>I("custom"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-colors ${C==="custom"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:""})]}),C==="custom"&&i.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[i.jsx("input",{type:"date",value:$,onChange:te=>B(te.target.value),className:"px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-xs"}),i.jsx("span",{className:"text-gray-400",children:"~"}),i.jsx("input",{type:"date",value:H,onChange:te=>se(te.target.value),className:"px-2 py-1.5 bg-gray-50 border border-gray-200 rounded-lg text-xs"})]})]}),i.jsxs("div",{className:"text-sm text-gray-500 font-medium flex items-center gap-4",children:[i.jsxs("span",{children:[" ",i.jsx("span",{className:"text-blue-600 font-bold",children:h}),"  ."]}),L.size>0&&i.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in zoom-in duration-200",children:[i.jsx("span",{className:"text-gray-400",children:"|"}),i.jsxs("span",{className:"font-bold text-gray-700",children:[L.size," "]}),i.jsxs("button",{onClick:()=>Q(!0),className:"px-3 py-1.5 bg-red-50 text-red-600 text-xs font-bold rounded-lg hover:bg-red-100 transition-colors flex items-center gap-1",children:[i.jsx(kr,{className:"w-3 h-3"}),"  "]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:a?i.jsx("div",{className:"flex justify-center p-12",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin"})}):i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold border-b border-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 w-[40px]",children:i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",onChange:G,checked:r.length>0&&r.every(te=>L.has(te.id))})}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:" "}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-center",children:""}),i.jsx("th",{className:"px-4 py-3 whitespace-nowrap text-right",children:""})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(te=>i.jsxs("tr",{className:`hover:bg-blue-50 transition-colors group ${L.has(te.id)?"bg-blue-50/50":""}`,children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:L.has(te.id),onChange:()=>q(te.id)})}),i.jsxs("td",{className:"px-4 py-3 max-w-[200px]",children:[i.jsx("div",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors truncate",title:te.name,children:te.name}),i.jsx("div",{className:"mt-1",children:te.isPrivate&&i.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 text-[10px] rounded font-bold flex items-center gap-0.5 w-fit",children:[i.jsx(jl,{className:"w-3 h-3"})," "]})})]}),i.jsx("td",{className:"px-4 py-3",children:te.createdBy==="admin"||te.source==="admin"||!te.createdBy?i.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-lg font-bold",children:""}):i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs rounded-lg font-bold w-fit mb-1",children:""}),te.creatorEmail?i.jsx("span",{className:"text-sm text-gray-700 font-mono font-bold",children:te.creatorEmail.split("@")[0]}):i.jsx("span",{className:"text-xs text-gray-400",children:"ID "})]})}),i.jsx("td",{className:"px-4 py-3 text-gray-600 max-w-[200px] truncate",title:te.address,children:te.address}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("div",{className:"flex justify-center",children:i.jsx(j6,{type:te.genderType,className:"w-6 h-6"})})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1 text-amber-500 font-bold",children:[i.jsx($r,{className:"w-3 h-3 fill-current"}),i.jsx("span",{children:(te.ratingAvg||0).toFixed(1)})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${te.hasPassword?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:te.hasPassword?"":""})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>t(te),className:"p-2 bg-gray-100 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"",children:i.jsx($j,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>R(te.id),className:"p-2 bg-gray-100 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"",children:i.jsx(kr,{className:"w-4 h-4"})})]})})]},te.id)),r.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-4 py-12 text-center text-gray-400",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Nl,{className:"w-8 h-8 opacity-20"}),i.jsx("span",{children:"  ."})]})})})]})]})}),be>1&&i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-t border-gray-100",children:[i.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",l," of ",be]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>u(te=>Math.max(1,te-1)),disabled:l===1,className:"px-3 py-1 rounded-md bg-white border border-gray-200 text-gray-600 disabled:opacity-50 text-sm font-medium hover:bg-gray-50",children:""}),Array.from({length:Math.min(5,be)},(te,he)=>null),i.jsxs("div",{className:"flex gap-1",children:[l>2&&i.jsx("span",{className:"px-2",children:"..."}),l>1&&i.jsx("button",{onClick:()=>u(l-1),className:"w-8 h-8 rounded-md bg-white border border-gray-200 text-gray-600 text-sm",children:l-1}),i.jsx("button",{className:"w-8 h-8 rounded-md bg-blue-600 text-white text-sm font-bold",children:l}),l<be&&i.jsx("button",{onClick:()=>u(l+1),className:"w-8 h-8 rounded-md bg-white border border-gray-200 text-gray-600 text-sm",children:l+1}),l<be-1&&i.jsx("span",{className:"px-2",children:"..."})]}),i.jsx("button",{onClick:()=>u(te=>Math.min(be,te+1)),disabled:l===be,className:"px-3 py-1 rounded-md bg-white border border-gray-200 text-gray-600 disabled:opacity-50 text-sm font-medium hover:bg-gray-50",children:""})]})]})]}),D&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl border-t-4 border-red-500",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-3",children:" ?"}),i.jsx("p",{className:"text-gray-500 text-sm text-center mb-6",children:"    ."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>R(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""}),i.jsxs("button",{onClick:ie,disabled:Z,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[Z&&i.jsx(ht,{className:"w-4 h-4 animate-spin"}),""]})]})]})}),X&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl border-t-4 border-red-500",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsxs("h3",{className:"text-xl font-bold text-center mb-2",children:[" ",L.size," ?"]}),i.jsxs("div",{className:"text-center mb-6 space-y-2",children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"    ."}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-700 text-left",children:[i.jsx("span",{className:"font-bold block mb-1",children:" "}),"  ,    ",i.jsx("span",{className:"font-bold underline",children:"  ."})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""}),i.jsxs("button",{onClick:ae,disabled:K,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[K&&i.jsx(ht,{className:"w-4 h-4 animate-spin"})," "]})]})]})})]})},m8e=({subSection:t,setRefreshTrigger:e,initialEditToiletId:r,onBackToReports:n})=>{const[a,s]=x.useState("list"),[l,u]=x.useState(null);x.useEffect(()=>{T(null,null,function*(){if(r)try{const[y]=yield oe.getToiletsByIds([r]);y&&(u(y),s("edit"))}catch(y){console.error("Failed to fetch deep-linked toilet:",y)}})},[r]);const d=b=>{u(b),s("edit")},h=()=>{n?n():(s("list"),u(null))},m=b=>T(null,null,function*(){yield oe.updateToilet(b),alert("."),h(),setTimeout(()=>e(y=>y+1),100)}),p=b=>T(null,null,function*(){yield oe.deleteToilet(b),alert("."),a==="edit"&&h(),setTimeout(()=>e(y=>y+1),100)});return t==="toilet-map"?i.jsx(u8e,{}):t==="toilet-chart"?i.jsx(f8e,{}):t==="toilet-bulk"?i.jsx(JM,{onRefresh:()=>e(b=>b+1)}):t===""||t==="toilet-list"?a==="edit"&&l?i.jsx(i8e,{toilet:l,onBack:h,onSave:m,onDelete:p}):i.jsx(h8e,{onEdit:d,onDelete:p}):null},g8e=({url:t,index:e,onChange:r,onRemove:n})=>{const[a,s]=Dr.useState(null),l=h=>{if(!h)return null;const m=h.trim();if(/^[a-zA-Z0-9_-]{11}$/.test(m))return m;const p=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|shorts\/)([^#&?]*).*/,b=m.match(p);return b&&b[2].length===11?b[2]:null},u=Dr.useMemo(()=>l(t),[t]),d=u?`https://img.youtube.com/vi/${u}/mqdefault.jpg`:null;return Dr.useEffect(()=>{if(!u){s(null);return}T(null,null,function*(){try{const m=`https://www.youtube.com/watch?v=${u}`,b=yield(yield fetch(`https://noembed.com/embed?url=${m}`)).json();b.title&&s(b.title)}catch(m){}})},[u]),i.jsxs("div",{className:"flex items-start gap-3 bg-white p-2 rounded-lg border border-red-100 shadow-sm group",children:[i.jsx("div",{className:"w-20 h-14 bg-gray-100 rounded overflow-hidden shrink-0 flex items-center justify-center border border-gray-200 text-xs text-gray-400 relative",children:d?i.jsx("img",{src:d,alt:"Thumbnail",className:"w-full h-full object-cover"}):i.jsx("span",{className:"scale-75",children:"No Img"})}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center h-14",children:[i.jsx("div",{className:"mb-1",children:a?i.jsx("div",{className:"text-xs font-bold text-gray-800 truncate leading-tight",title:a,children:a}):i.jsx("div",{className:"text-[10px] text-gray-400 h-3"})}),i.jsx("input",{type:"text",placeholder:"URL  ID (: 2S47kMBvbDg)",className:"w-full p-1.5 border rounded text-[11px] focus:border-red-500 outline-none bg-gray-50 focus:bg-white transition-colors",value:t,onChange:h=>r(h.target.value)})]}),i.jsx("button",{onClick:n,className:"self-center p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"  ",children:i.jsx(Xt,{className:"w-4 h-4"})})]})},p8e=({subSection:t,refreshTrigger:e})=>{const r=()=>{var q,ae,ie,be,te,he;const[a,s]=x.useState({interstitialSource:"admob",bannerSource:"admob",testMode:!0,bannersEnabled:!0,youtubeUrls:["","","","",""],customBanners:[],adMobIds:{banner:"",interstitial:"",reward:"",rewardInterstitial:"",appOpen:"",native:""}}),[l,u]=x.useState(!0),[d,h]=x.useState(!1),[m,p]=x.useState(null),[b,y]=x.useState(""),[_,w]=x.useState("BANNER"),[j,k]=x.useState(null),[E,S]=x.useState(!1),[P,C]=x.useState(null),[I,$]=x.useState(null),[B,H]=x.useState(null),[se,D]=x.useState(null),[R,L]=x.useState(null),[V,Z]=x.useState(null),U={BANNER:"Banner (/)",NATIVE_LIST:"Native ()",NATIVE_MODAL:"Native ()",NATIVE_DETAIL:"Detail ( )"};x.useEffect(()=>{T(null,null,function*(){try{const we=yield oe.getAdConfig();we.interstitialSource||(we.interstitialSource="admob"),we.bannerSource||(we.bannerSource="admob"),we.customBanners||(we.customBanners=[]),we.youtubeUrls?we.youtubeUrls=we.youtubeUrls.filter(Ce=>Ce&&Ce.trim()!==""):we.youtubeUrls=[],we.testMode===void 0&&(we.testMode=!0),s(we)}catch(we){console.error("Failed to load ad config",we)}finally{u(!1)}})},[e]);const K=Y=>T(null,null,function*(){s(Y);try{yield oe.saveAdConfig(Y)}catch(we){console.error("Failed to save ad config",we),alert(`    . (   )
`+(we.message||we))}}),W=(Y,we)=>{const Ce=[...a.youtubeUrls];Ce[Y]=we.trim(),K(je(J({},a),{youtubeUrls:Ce}))},X=Y=>{if(Y.target.files&&Y.target.files[0]){const we=Y.target.files[0];if(we.size>500*1024){alert("  500KB  .");return}const Ce=new FileReader;Ce.onloadend=()=>{const ce=Ce.result,ue=new Image;ue.onload=()=>{const Ie=ue.naturalWidth,Ve=ue.naturalHeight,Ze=Ie/Ve;D(Ie),L(Ve),H(Ze),k(ce),p(we),Ze<5?$(`  (${Ze.toFixed(1)}:1).          ,     .`):$(null)},ue.src=ce},Ce.readAsDataURL(we)}},Q=()=>T(null,null,function*(){if(!m||!j)return;h(!0);const Y={id:Date.now().toString(),imageUrl:j,targetUrl:b,createdAt:Date.now(),ratio:B||void 0,width:se||void 0,height:R||void 0,type:_},we=[...a.customBanners,Y],Ce=je(J({},a),{customBanners:we});yield K(Ce),p(null),k(null),y(""),h(!1)}),M=Y=>{C(Y)},G=()=>T(null,null,function*(){if(!P)return;const Y=a.customBanners.filter(Ce=>Ce.id!==P);let we=a.bannerSource;Y.length===0&&we==="custom"&&(we="admob"),yield K(je(J({},a),{customBanners:Y,bannerSource:we})),C(null)});return l?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"  ..."}):i.jsxs("div",{className:"space-y-8 pb-20",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2 border-b pb-2 border-gray-200",children:i.jsx("h2",{className:"text-xl font-black text-gray-900",children:"0.   "})}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-800",children:"AdMob  "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"OFF    . (AndroidManifest.xml App ID   )"})]}),i.jsx("button",{onClick:()=>K(je(J({},a),{testMode:!a.testMode})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${a.testMode?"bg-indigo-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.testMode?"translate-x-6":"translate-x-1"}`})})]}),a.testMode&&i.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200 text-xs text-amber-700 font-medium",children:"  ** **      .    ID     ."})]}),!a.testMode&&i.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex items-center gap-2 border-b pb-2 border-gray-200",children:i.jsx("h2",{className:"text-xl font-black text-gray-900",children:"0.1.   ID "})}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Banner ID (/)"}),i.jsx("input",{type:"text",value:((q=a.adMobIds)==null?void 0:q.banner)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{banner:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50 from-neutral-50",placeholder:"ca-app-pub-..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Native ID (/)"}),i.jsx("input",{type:"text",value:((ae=a.adMobIds)==null?void 0:ae.native)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{native:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50",placeholder:"ca-app-pub-..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Interstitial ID ()"}),i.jsx("input",{type:"text",value:((ie=a.adMobIds)==null?void 0:ie.interstitial)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{interstitial:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50",placeholder:"ca-app-pub-..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Reward ID ()"}),i.jsx("input",{type:"text",value:((be=a.adMobIds)==null?void 0:be.reward)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{reward:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50",placeholder:"ca-app-pub-..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Reward Int. ID ()"}),i.jsx("input",{type:"text",value:((te=a.adMobIds)==null?void 0:te.rewardInterstitial)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{rewardInterstitial:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50",placeholder:"ca-app-pub-..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500",children:"App Open ID ()"}),i.jsx("input",{type:"text",value:((he=a.adMobIds)==null?void 0:he.appOpen)||"",onChange:Y=>s(je(J({},a),{adMobIds:je(J({},a.adMobIds),{appOpen:Y.target.value})})),className:"w-full p-2 border rounded font-mono text-sm bg-gray-50",placeholder:"ca-app-pub-..."})]})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:()=>K(a),className:"px-4 py-2 bg-gray-800 text-white rounded font-bold text-sm",children:" "})})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2 border-b pb-2 border-gray-200",children:i.jsx("h2",{className:"text-xl font-black text-gray-900",children:"0.5.    "})}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-800",children:"   "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"OFF       . ( )"})]}),i.jsx("button",{onClick:()=>K(je(J({},a),{bannersEnabled:!a.bannersEnabled})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${a.bannersEnabled!==!1?"bg-green-500":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.bannersEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 border-gray-200",children:[i.jsx("h2",{className:"text-xl font-black text-gray-900",children:"1.   (Interstitial)"}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:" ,    "})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"  "}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>K(je(J({},a),{interstitialSource:"admob"})),className:`flex-1 py-4 rounded-xl border-2 font-bold transition-all flex flex-col items-center gap-1 ${a.interstitialSource==="admob"?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 text-gray-400 hover:border-gray-300"}`,children:[i.jsx("span",{children:"AdMob ( )"}),i.jsx("span",{className:"text-xs font-normal opacity-70",children:"  "})]}),i.jsxs("button",{onClick:()=>K(je(J({},a),{interstitialSource:"youtube"})),className:`flex-1 py-4 rounded-xl border-2 font-bold transition-all flex flex-col items-center gap-1 ${a.interstitialSource==="youtube"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 text-gray-400 hover:border-gray-300"}`,children:[i.jsx("span",{children:"YouTube "}),i.jsx("span",{className:"text-xs font-normal opacity-70",children:"  / "})]})]})]}),a.interstitialSource==="youtube"&&i.jsxs("div",{className:"glass-panel p-4 rounded-xl bg-red-50/50 border border-red-100 animate-in slide-in-from-top-2",children:[i.jsxs("h3",{className:"font-bold text-gray-900 mb-2 text-sm flex items-center gap-2",children:["YouTube  ",i.jsx("span",{className:"text-[10px] font-normal text-red-500 bg-red-100 px-2 py-0.5 rounded-full",children:"   / 5  "})]}),i.jsxs("div",{className:"space-y-3",children:[a.youtubeUrls.map((Y,we)=>i.jsx(g8e,{url:Y,index:we,onChange:Ce=>W(we,Ce),onRemove:()=>{const Ce=a.youtubeUrls.filter((ce,ue)=>ue!==we);K(je(J({},a),{youtubeUrls:Ce}))}},we)),i.jsx("button",{onClick:()=>{K(je(J({},a),{youtubeUrls:[...a.youtubeUrls,""]}))},className:"w-full py-2 border-2 border-dashed border-red-200 text-red-400 font-bold rounded-lg hover:border-red-400 hover:text-red-500 hover:bg-red-50 transition-all text-sm flex items-center justify-center gap-1",children:i.jsx("span",{children:"+  "})}),a.youtubeUrls.length===0&&i.jsx("div",{className:"text-center py-4 text-xs text-red-400 font-medium",children:"  .  ."})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-red-100 grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-700",children:"  ()"}),i.jsx("input",{type:"number",value:a.durationUnlock||15,onChange:Y=>K(je(J({},a),{durationUnlock:Number(Y.target.value)})),className:"w-full p-2 border rounded text-sm focus:border-red-500 outline-none bg-white text-center font-bold text-red-600",min:"5"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-700",children:"  ()"}),i.jsx("input",{type:"number",value:a.durationPoint||15,onChange:Y=>K(je(J({},a),{durationPoint:Number(Y.target.value)})),className:"w-full p-2 border rounded text-sm focus:border-red-500 outline-none bg-white text-center font-bold text-red-600",min:"5"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-700",children:"  ()"}),i.jsx("input",{type:"number",value:a.durationNavigation||5,onChange:Y=>K(je(J({},a),{durationNavigation:Number(Y.target.value)})),className:"w-full p-2 border rounded text-sm focus:border-red-500 outline-none bg-white text-center font-bold text-red-600",min:"3"})]})]})]})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 border-gray-200",children:[i.jsx("h2",{className:"text-xl font-black text-gray-900",children:"2. / "}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:" ,     "})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"  "}),i.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg relative h-12 w-full max-w-md mx-auto",children:[i.jsx("div",{className:`absolute top-1 bottom-1 w-[calc(50%-4px)] bg-white rounded-md shadow-sm transition-all duration-300 ease-out border border-gray-200 ${a.bannerSource==="custom"?"left-[calc(50%+2px)]":"left-1"}`}),i.jsx("button",{onClick:()=>K(je(J({},a),{bannerSource:"admob"})),className:`flex-1 relative z-10 font-bold text-sm transition-colors ${a.bannerSource==="admob"?"text-indigo-600":"text-gray-500"}`,children:"AdMob ()"}),i.jsx("button",{onClick:()=>K(je(J({},a),{bannerSource:"custom"})),className:`flex-1 relative z-10 font-bold text-sm transition-colors ${a.bannerSource==="custom"?"text-amber-600":"text-gray-500"}`,children:"  ()"})]})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 space-y-3",children:[i.jsx("h4",{className:"font-bold text-sm text-gray-800 flex items-center gap-2",children:"     ( )"}),i.jsxs("div",{className:"bg-white p-3 rounded-lg border text-[11px] leading-relaxed font-mono select-all",children:["[     -   ]",i.jsx("br",{}),i.jsx("br",{}),"1.   (High-DPI    )",i.jsx("br",{}),"-  / : 1080 x 200 px (   720px )",i.jsx("br",{}),"- () : 1080 x 270 px (4:1  )",i.jsx("br",{}),"-   : 1080 x 216 px (5:1 )",i.jsx("br",{}),"-   : 1080 x 800 px (3:2 ~ 4:3 )",i.jsx("br",{}),i.jsx("br",{}),"* 1080px  (/)   .",i.jsx("br",{}),"*   ,        .",i.jsx("br",{}),i.jsx("br",{}),"2.   ",i.jsx("br",{}),"-  10%  ' '     .",i.jsx("br",{}),"-         .",i.jsx("br",{}),"- :  500KB   (JPG/PNG/GIF )",i.jsx("br",{}),i.jsx("br",{})," ' '        ."]}),i.jsx("p",{className:"text-[10px] text-gray-500",children:"*             ."})]}),a.bannerSource==="custom"&&i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"bg-amber-50/50 border border-amber-100 rounded-xl p-4",children:[i.jsx("h4",{className:"font-bold text-sm text-gray-800 mb-3",children:"  "}),i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"flex gap-2 mb-2",children:[{id:"BANNER",label:"Banner (/)",desc:"1080x200 (5:1)"},{id:"NATIVE_LIST",label:"Native ()",desc:"1080x216 (5:1)"},{id:"NATIVE_MODAL",label:"Native ()",desc:"1080x800 (1.35:1)"},{id:"NATIVE_DETAIL",label:"Detail ( )",desc:"1080x270 (4:1)"}].map(Y=>i.jsxs("button",{onClick:()=>w(Y.id),className:`px-3 py-2 rounded-lg text-xs font-bold border transition-all flex flex-col items-center ${_===Y.id?"bg-amber-100 border-amber-300 text-amber-800 shadow-sm":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:[i.jsx("span",{children:Y.label}),i.jsx("span",{className:"font-normal opacity-75 md:block hidden",children:Y.desc})]},Y.id))})}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex gap-3 items-start",children:[i.jsxs("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden border border-gray-300 relative group cursor-pointer shrink-0",children:[j?i.jsx("img",{src:j,className:"w-full h-full object-cover",alt:"Preview"}):i.jsxs("span",{className:"text-xs text-gray-500 text-center p-1",children:["",i.jsx("br",{}),""]}),i.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("input",{type:"text",value:b,onChange:Y=>y(Y.target.value),placeholder:" URL (: https://mysite.com)",className:"w-full p-2 border border-amber-200 rounded text-sm outline-none focus:border-amber-500"}),i.jsxs("div",{className:"text-xs text-gray-500",children:["*  : ",i.jsx("strong",{children:"5:1 "})," ( /)",i.jsx("br",{}),"* ",i.jsx("strong",{children:"3:2 "})," (/)",i.jsx("br",{}),"* 500KB  JPG/PNG/GIF"]}),I&&i.jsxs("div",{className:"text-xs text-amber-600 font-bold",children:[" ",I]})]})]}),i.jsx("button",{onClick:Q,disabled:!m||d,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-lg shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?i.jsx(ht,{className:"w-5 h-5 animate-spin mx-auto"}):" "})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h4",{className:"font-bold text-sm text-gray-800",children:["  (",a.customBanners.length,")"]}),a.customBanners.length>0&&i.jsx("button",{onClick:()=>S(!0),className:"text-xs text-red-500 underline hover:text-red-700 font-medium",children:"   ()"})]}),a.customBanners.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:["  .",i.jsx("br",{}),i.jsx("span",{className:"text-xs",children:"  AdMob  ."})]}):i.jsx("div",{className:"grid gap-3",children:a.customBanners.map(Y=>i.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-lg border border-gray-200 shadow-sm relative group items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded overflow-hidden shrink-0 cursor-zoom-in ring-1 ring-black/5 hover:ring-indigo-500 transition-all",onClick:()=>Z(Y.imageUrl),children:i.jsx("img",{src:Y.imageUrl,className:"w-full h-full object-cover",alt:"Banner"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:[new Date(Y.createdAt).toLocaleDateString()," ",Y.width&&Y.height?`  ${Y.width}x${Y.height}`:"",Y.ratio?` (${Y.ratio.toFixed(1)}:1)`:""]}),i.jsx("div",{className:"text-sm font-medium text-blue-600 truncate",children:Y.targetUrl||" "}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${Y.type==="NATIVE_LIST"?"bg-purple-100 text-purple-700":Y.type==="NATIVE_MODAL"?"bg-green-100 text-green-700":Y.type==="NATIVE_DETAIL"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:U[Y.type||"BANNER"]||Y.type||"BANNER"})})]}),i.jsx("button",{onClick:()=>M(Y.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",children:i.jsx(Xt,{className:"w-5 h-5"})})]},Y.id))})]})]})]})]}),E&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:i.jsx(Xt,{className:"w-6 h-6 text-red-600"})}),i.jsx("h3",{className:"font-black text-xl text-gray-900 mb-2 text-center",children:"  ?"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6 text-center leading-relaxed",children:[" ",i.jsx("strong",{children:"   "})," .       ."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 text-gray-500 font-bold bg-gray-100 hover:bg-gray-200 rounded-xl transition-all",children:""}),i.jsx("button",{onClick:()=>T(null,null,function*(){try{const Y=je(J({},a),{customBanners:[],bannerSource:"admob"});yield oe.saveAdConfig(Y),S(!1),window.location.reload()}catch(Y){alert(" : "+(Y.message||Y)),S(!1)}}),className:"flex-1 py-3 text-white font-bold bg-red-500 hover:bg-red-600 rounded-xl shadow-lg shadow-red-200 transition-all",children:" "})]})]})}),P&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:i.jsx(Xt,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"font-black text-xl text-gray-900 mb-2",children:"  ?"}),i.jsx("p",{className:"text-sm text-gray-500 mb-6 leading-relaxed",children:"    ."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>C(null),className:"flex-1 py-3 text-gray-500 font-bold bg-gray-100 hover:bg-gray-200 rounded-xl transition-all",children:""}),i.jsx("button",{onClick:G,className:"flex-1 py-3 text-white font-bold bg-red-500 hover:bg-red-600 rounded-xl shadow-lg shadow-red-200 transition-all",children:""})]})]})}),V&&i.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>Z(null),children:i.jsxs("div",{className:"relative max-w-4xl w-full max-h-[90vh] flex items-center justify-center",children:[i.jsx("img",{src:V,alt:"Full Preview",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl",onClick:Y=>Y.stopPropagation()}),i.jsx("button",{onClick:()=>Z(null),className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors",children:i.jsx(Xt,{className:"w-8 h-8"})})]})})]})},n=()=>{const[a,s]=x.useState("week"),[l,u]=x.useState(""),[d,h]=x.useState(""),[m,p]=x.useState([]),[b,y]=x.useState(!1);x.useEffect(()=>{if(a==="custom")return;const w=new Date,j=new Date;switch(a){case"week":j.setDate(w.getDate()-7);break;case"month":j.setMonth(w.getMonth()-1);break;case"6month":j.setMonth(w.getMonth()-6);break;case"year":j.setFullYear(w.getFullYear()-1);break}h(w.toISOString().split("T")[0]),u(j.toISOString().split("T")[0])},[a]),x.useEffect(()=>{T(null,null,function*(){y(!0);try{let j=7;a==="month"&&(j=30),a==="6month"&&(j=180),a==="year"&&(j=365);const k=yield oe.getAdStatsBreakdown(j);console.log(" AdStats Data:",k),p(k)}finally{y(!1)}})},[a,l,d]);const _=m.reduce((w,j)=>w+(j.myPage||0)+(j.unlock||0)+(j.review||0),0);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 space-y-3",children:[i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[[{value:"week",label:"1"},{value:"month",label:"1"},{value:"6month",label:"6"},{value:"year",label:"1"}].map(w=>i.jsx("button",{onClick:()=>s(w.value),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${a===w.value?"bg-amber-100 text-amber-700":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:w.label},w.value)),i.jsx("button",{onClick:()=>s("custom"),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${a==="custom"?"bg-amber-100 text-amber-700":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:" "})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg",children:[i.jsx("input",{type:"date",value:l,onChange:w=>{u(w.target.value),s("custom")},className:"bg-white border border-gray-200 rounded px-2 py-1 text-sm focus:outline-none focus:border-amber-500"}),i.jsx("span",{className:"text-gray-400",children:"~"}),i.jsx("input",{type:"date",value:d,onChange:w=>{h(w.target.value),s("custom")},className:"bg-white border border-gray-200 rounded px-2 py-1 text-sm focus:outline-none focus:border-amber-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"   "}),i.jsxs("div",{className:"text-2xl font-black text-amber-500",children:[b?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):_.toLocaleString(),""]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"  "}),i.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[b?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):m.length?Math.round(_/m.length).toLocaleString():0,""]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:b?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):m.length>0?m.reduce((w,j)=>{const k=(j.myPage||0)+(j.unlock||0)+(j.review||0),E=(w.myPage||0)+(w.unlock||0)+(w.review||0);return k>E?j:w},m[0]).date:"-"}),i.jsx("div",{className:"text-xs text-amber-500 font-bold",children:m.length>0?Math.max(...m.map(w=>(w.myPage||0)+(w.unlock||0)+(w.review||0))).toLocaleString()+"":""})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[i.jsx("div",{className:"mb-6",children:i.jsx("h3",{className:"font-bold text-gray-900",children:"   "})}),b?i.jsxs("div",{className:"h-48 flex items-center justify-center text-gray-400",children:[i.jsx(ht,{className:"w-8 h-8 animate-spin mb-2"}),i.jsx("span",{className:"sr-only",children:" ..."})]}):i.jsx("div",{className:"h-64 section-chart",style:{minHeight:"250px"},children:i.jsx(ci,{width:"100%",height:"100%",children:i.jsxs(xd,{data:m,margin:{top:10,right:0,left:-20,bottom:0},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),i.jsx(hi,{dataKey:"date",tick:{fontSize:10,fill:"#9ca3af"},tickFormatter:w=>w.slice(5),axisLine:!1,tickLine:!1}),i.jsx(mi,{tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1}),i.jsx(di,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),i.jsx(_l,{iconType:"circle",wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),i.jsx(tn,{dataKey:"myPage",name:"()",stackId:"a",fill:"#FBBF24",radius:[0,0,0,0]}),i.jsx(tn,{dataKey:"unlock",name:" ",stackId:"a",fill:"#60A5FA",radius:[0,0,0,0]}),i.jsx(tn,{dataKey:"review",name:" ",stackId:"a",fill:"#F472B6",radius:[4,4,0,0]})]})})})]})]})};return t===""||t==="ad-config"?i.jsx(r,{}):t==="ad-performance"?i.jsx(n,{}):null},b8e=({setRefreshTrigger:t,currentUser:e,onNavigateToToilet:r})=>{const[n,a]=x.useState([]),[s,l]=x.useState(1),[u]=x.useState(20),[d,h]=x.useState(0),[m,p]=x.useState(!1),[b,y]=x.useState("unprocessed"),[_,w]=x.useState("all"),[j,k]=x.useState(""),[E,S]=x.useState(""),[P,C]=x.useState(null),[I,$]=x.useState(!1),[B,H]=x.useState(null),[se,D]=x.useState(!1),[R,L]=x.useState(!1),[V,Z]=x.useState(null),[U,K]=x.useState(!1),[W,X]=x.useState(!1),[Q,M]=x.useState(!1),[G,q]=x.useState(""),[ae,ie]=x.useState(!1);x.useEffect(()=>{const ve=setTimeout(()=>{S(j),l(1)},500);return()=>clearTimeout(ve)},[j]);const be=()=>T(null,null,function*(){p(!0);try{const{data:ve,count:Re}=yield oe.getAdminReports(s,u,{search:E,status:b,reason:_});a(ve),h(Re)}catch(ve){console.error("Failed to fetch reports:",ve)}finally{p(!1)}});x.useEffect(()=>{be()},[s,b,_,E]),x.useEffect(()=>{l(1)},[b,_]),x.useEffect(()=>{P?T(null,null,function*(){K(!0);try{const Re=yield oe.getToilet(P.toiletId);Z(Re)}catch(Re){console.error("Failed to fetch toilet details:",Re),Z(null)}finally{K(!1)}}):Z(null)},[P]);const te=ve=>T(null,null,function*(){ie(!0);try{const Re=yield oe.getToilet(ve.toiletId);if(!Re&&!ve.reason.includes("")){alert("  ."),yield oe.dismissReport(ve.id),be(),t(bt=>bt+1),$(!1);return}ve.reason===" "||ve.reason===" "?(yield oe.deleteToilet(ve.toiletId),alert(" .")):ve.reason==="  "?(yield oe.banToilet(ve.toiletId,ve.reason,e.id),alert("    .")):ve.reason===" "?Re&&(yield oe.updateToilet(je(J({},Re),{hasPaper:!1})),alert("   .")):ve.reason===" "?Re&&(yield oe.updateToilet(je(J({},Re),{hasBidet:!1})),alert("   .")):alert("."),yield oe.approveReport(ve.id,ve.reporterId),be(),t(bt=>bt+1),$(!1)}finally{ie(!1)}}),he=ve=>T(null,null,function*(){ie(!0);try{yield oe.dismissReport(ve.id),be(),t(Re=>Re+1),$(!1)}finally{ie(!1)}}),Y=ve=>ve.reporterEmail?w6(ve.reporterEmail):"  ",we=ve=>{if(ve.status==="dismissed")return"";if(ve.status!=="resolved")return" ";switch(ve.reason){case" ":case" ":return" ";case"  ":return"  ";case" ":return"  ";case" ":return"  ";default:return" "}},Ce=ve=>{if(!ve.toiletDetails)return i.jsx("span",{className:"text-gray-300",children:"-"});const Re=ve.toiletDetails;switch(ve.reason){case" ":return i.jsx("span",{className:`font-bold ${Re.hasPaper?"text-green-600":"text-red-500"}`,children:Re.hasPaper?"O ()":"X ()"});case" ":return i.jsx("span",{className:`font-bold ${Re.hasBidet?"text-blue-600":"text-red-500"}`,children:Re.hasBidet?"O ()":"X ()"});case" ":case" ":return i.jsx("div",{children:Re.hasPassword?i.jsxs("span",{className:"text-red-500 font-bold",children:["O (",Re.password||"****",")"]}):i.jsx("span",{className:"text-green-600 font-bold",children:"X ()"})});default:return i.jsx("span",{className:"text-gray-300",children:"-"})}},ce=ve=>{r&&($(!1),r(ve,"reports"))},ue=ve=>T(null,null,function*(){L(!0);try{const Re=yield oe.getUserById(ve);Re?(H(Re),D(!0)):alert("    .")}catch(Re){console.error(Re),alert("     .")}finally{L(!1)}}),Ie=ve=>T(null,null,function*(){if(!B)return;const Re=je(J({},B),{role:ve});yield oe.saveUser(Re),H(Re)}),Ve=ve=>T(null,null,function*(){if(!B)return;const Re=Math.max(0,B.credits+ve),bt=je(J({},B),{credits:Re});yield oe.saveUser(bt),H(bt)}),Ze=Math.ceil(d/u);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[i.jsx("div",{className:"bg-white p-2 rounded-xl border border-gray-100 shadow-sm flex",children:[{id:"unprocessed",label:"",color:"red"},{id:"processed",label:"",color:"blue"},{id:"all",label:"",color:"gray"}].map(ve=>i.jsx("button",{onClick:()=>y(ve.id),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${b===ve.id?`bg-${ve.color}-100 text-${ve.color}-600`:"text-gray-400 hover:bg-gray-50"}`,children:ve.label},ve.id))}),i.jsxs("div",{className:"bg-white px-3 rounded-xl border border-gray-100 shadow-sm flex items-center",children:[i.jsx("span",{className:"text-xs font-bold text-gray-400 mr-2 whitespace-nowrap",children:""}),i.jsxs("select",{value:_,onChange:ve=>w(ve.target.value),className:"w-full py-2 bg-transparent text-sm font-bold text-gray-700 outline-none",children:[i.jsx("option",{value:"all",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:"  ",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:" ",children:" "}),i.jsx("option",{value:"",children:" ( )"})]})]}),i.jsxs("div",{className:"bg-white px-3 rounded-xl border border-gray-100 shadow-sm flex items-center",children:[i.jsx("div",{className:"mr-2",children:i.jsx(to,{className:"h-4 w-4 text-gray-400"})}),i.jsx("input",{type:"text",className:"w-full py-2 bg-transparent text-sm placeholder-gray-400 outline-none",placeholder:", , ...",value:j,onChange:ve=>k(ve.target.value)})]})]}),i.jsxs("div",{className:"flex justify-between px-1 mb-2 items-center",children:[i.jsx("span",{className:"text-sm text-gray-400",children:m?" ...":`${d} `}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>l(ve=>Math.max(1,ve-1)),disabled:s===1||m,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-50",children:i.jsx(fh,{className:"w-5 h-5"})}),i.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[s," / ",Ze||1]}),i.jsx("button",{onClick:()=>l(ve=>Math.min(Ze,ve+1)),disabled:s===Ze||Ze===0||m,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-50",children:i.jsx(ud,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden min-h-[400px]",children:m?i.jsx("div",{className:"flex justify-center items-center h-full py-20",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold border-b border-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap",children:" "}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap w-[200px]",children:""})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map(ve=>i.jsxs("tr",{className:"hover:bg-red-50/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("button",{onClick:()=>ce(ve.toiletId),className:"font-bold text-gray-800 hover:text-blue-600 transition-colors text-left",children:ve.toiletName})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-gray-800 font-medium",children:ve.reason}),ve.status==="resolved"&&i.jsx("span",{className:"text-[10px] text-blue-600 font-bold bg-blue-50 w-fit px-1.5 rounded mt-0.5",children:""}),ve.status==="dismissed"&&i.jsx("span",{className:"text-[10px] text-gray-500 font-bold bg-gray-100 w-fit px-1.5 rounded mt-0.5",children:""})]})}),i.jsx("td",{className:"px-4 py-3 text-center text-sm",children:Ce(ve)}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("button",{onClick:()=>ue(ve.reporterId),className:"text-gray-600 hover:text-blue-600 hover:underline transition-colors flex items-center gap-1",disabled:R,children:[i.jsx(to,{className:"w-3.5 h-3.5"}),Y(ve)]})}),i.jsx("td",{className:"px-4 py-3 text-center text-xs text-gray-400",children:new Date(ve.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("div",{className:"flex justify-center gap-2",children:ve.status==="pending"?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>he(ve),disabled:ae,className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-1 text-xs font-bold",title:"",children:[i.jsx(kr,{className:"w-3.5 h-3.5"}),""]}),i.jsxs("button",{onClick:()=>te(ve),disabled:ae,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1 text-xs font-bold shadow-sm",title:"",children:[i.jsx(fs,{className:"w-3.5 h-3.5"}),""]})]}):i.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${ve.status==="resolved"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"}`,children:we(ve)})})})]},ve.id)),n.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-gray-400",children:"  ."})})]})]})})}),i.jsx("div",{className:"md:hidden grid grid-cols-1 gap-3",children:m?i.jsx("div",{className:"text-center py-10",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"})}):n.length>0?n.map(ve=>i.jsxs("button",{onClick:()=>{C(ve),$(!0)},className:"w-full text-left bg-white p-4 rounded-xl border border-red-100 shadow-sm hover:shadow-md transition-all active:scale-[0.98]",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("div",{className:"font-bold text-gray-800",children:ve.toiletName}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(ve.createdAt).toLocaleDateString()})]}),i.jsx("div",{className:"text-sm text-red-500 font-medium",children:ve.reason}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[": ",Y(ve)]})]},ve.id)):i.jsx("div",{className:"col-span-full text-center text-gray-400 py-10",children:"  ."})}),i.jsxs("div",{className:"md:hidden flex justify-center py-4 gap-4",children:[i.jsx("button",{onClick:()=>l(ve=>Math.max(1,ve-1)),disabled:s===1||m,className:"p-2 bg-white rounded-full shadow disabled:opacity-50",children:i.jsx(fh,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold flex items-center",children:s}),i.jsx("button",{onClick:()=>l(ve=>Math.min(Ze,ve+1)),disabled:s===Ze||Ze===0||m,className:"p-2 bg-white rounded-full shadow disabled:opacity-50",children:i.jsx(ud,{className:"w-6 h-6"})})]}),I&&P&&i.jsx("div",{className:"md:hidden fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in fade-in zoom-in",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 border-b pb-2",children:"  "}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsx("div",{className:"font-bold text-gray-900",children:P.toiletName}),U?i.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"  ..."}):V?i.jsxs("div",{className:"mt-2 text-xs bg-gray-50 p-2 rounded border border-gray-100 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:V.hasPaper?"text-green-600 font-bold":"text-gray-400",children:V.hasPaper?"  ":"  "}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("span",{className:V.hasBidet?"text-blue-600 font-bold":"text-gray-400",children:V.hasBidet?"  ":"  "})]}),i.jsx("div",{className:"flex items-center gap-2",children:V.hasPassword?i.jsxs("span",{className:"text-red-500 font-bold flex items-center gap-1",children:[" ",V.password||" "]}):i.jsx("span",{className:"text-green-600 font-bold",children:" "})})]}):i.jsx("div",{className:"mt-2 text-xs text-red-400",children:"     ."})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),i.jsx("div",{className:"font-bold text-red-600 bg-red-50 p-3 rounded-lg border border-red-100",children:P.reason})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),i.jsxs("button",{onClick:()=>{ue(P.reporterId),$(!1)},className:"text-sm text-gray-700 hover:text-blue-600 hover:underline flex items-center gap-1",children:[i.jsx(to,{className:"w-3.5 h-3.5"}),Y(P)]})]})]}),i.jsx("div",{className:"flex gap-2 mb-2",children:i.jsx("button",{onClick:()=>ce(P.toiletId),className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:"  "})}),P.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>he(P),disabled:ae,className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:" ()"}),i.jsx("button",{onClick:()=>te(P),disabled:ae,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-200",children:""})]}),i.jsx("button",{onClick:()=>$(!1),className:"w-full mt-2 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""})]})}),se&&B&&i.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"sticky top-0 bg-white z-10 p-6 border-b flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold",children:"  "}),i.jsx("button",{onClick:()=>D(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(Xt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:B.email[0].toUpperCase()}),i.jsx("div",{className:"font-bold text-lg mb-1",children:B.email}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",B.id]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-bold mb-3",children:" "}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:[Be.USER,Be.VIP,Be.ADMIN].map(ve=>i.jsx("button",{onClick:()=>Ie(ve),className:`py-3 rounded-xl font-bold text-sm ${B.role===ve?ve===Be.ADMIN?"bg-red-600 text-white":ve===Be.VIP?"bg-amber-500 text-white":"bg-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:ve===Be.ADMIN?"ADMIN":ve===Be.VIP?"VIP":"USER"},ve))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-bold mb-3",children:" "}),i.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 mb-3 text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),i.jsx("div",{className:"text-3xl font-black text-amber-600",children:B.credits})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[-10,-5,5,10].map(ve=>i.jsxs("button",{onClick:()=>Ve(ve),className:`py-2 rounded-lg font-bold text-sm ${ve<0?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[ve>0?"+":"",ve]},ve))}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[i.jsx("button",{onClick:()=>Ve(50),className:"py-2 rounded-lg font-bold text-sm bg-blue-100 text-blue-600",children:"+50"}),i.jsx("button",{onClick:()=>Ve(100),className:"py-2 rounded-lg font-bold text-sm bg-purple-100 text-purple-600",children:"+100"})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("label",{className:"block text-sm font-bold text-red-600 mb-3",children:"  "}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[i.jsx("button",{onClick:()=>X(!0),className:"py-2.5 rounded-lg font-bold text-sm bg-orange-100 text-orange-600",children:" "}),i.jsx("button",{onClick:()=>M(!0),className:"py-2.5 rounded-lg font-bold text-sm bg-red-100 text-red-600",children:" "})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:" :   |  :  "})]}),i.jsx("button",{onClick:()=>D(!1),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold mt-4",children:""})]})]})}),W&&B&&i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[i.jsx("span",{className:"font-bold text-orange-600",children:B.email})," ",i.jsx("br",{})," ?"]}),i.jsx("div",{className:"bg-yellow-50 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-xs text-yellow-800 text-center",children:["   ",i.jsx("br",{}),"   ."]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>X(!1),className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold",children:""}),i.jsx("button",{onClick:()=>T(null,null,function*(){yield oe.deleteUser(B.id),t(ve=>ve+1),X(!1),D(!1),alert(" .")}),className:"py-3 bg-orange-600 text-white rounded-xl font-bold",children:""})]})]})}),Q&&B&&i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:[i.jsx("span",{className:"font-bold text-red-600",children:B.email})," ",i.jsx("br",{})," ?"]}),i.jsx("div",{className:"bg-red-50 rounded-lg p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-red-800 text-center",children:["   ",i.jsx("br",{}),"   ",i.jsx("strong",{children:" "}),"."]})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),i.jsx("textarea",{value:G,onChange:ve=>q(ve.target.value),placeholder:"  ...",className:"w-full p-3 border rounded-lg resize-none",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>{M(!1),q("")},className:"py-3 bg-gray-100 text-gray-700 rounded-xl font-bold",children:""}),i.jsx("button",{onClick:()=>T(null,null,function*(){if(!G.trim()){alert("  .");return}yield oe.banUserPermanently(B.id,G,"admin"),t(ve=>ve+1),M(!1),D(!1),q(""),alert("  .")}),className:"py-3 bg-red-600 text-white rounded-xl font-bold",children:" "})]})]})})]})},y8e=({onRefresh:t,onNavigateToToilet:e})=>{const[r,n]=x.useState([]),[a,s]=x.useState(1),[l]=x.useState(20),[u,d]=x.useState(0),[h,m]=x.useState(!1),[p,b]=x.useState(""),[y,_]=x.useState(""),[w,j]=x.useState("week"),[k,E]=x.useState(""),[S,P]=x.useState(""),[C,I]=x.useState([]),[$,B]=x.useState([]),[H,se]=x.useState(null),[D,R]=x.useState(!1),[L,V]=x.useState(!1),[Z,U]=x.useState(!1);x.useEffect(()=>{const q=setTimeout(()=>{_(p),s(1)},500);return()=>clearTimeout(q)},[p]),x.useEffect(()=>{const q=window.location.hash,ie=new URLSearchParams(q.split("?")[1]).get("search");ie&&b(ie)},[]);const K=()=>T(null,null,function*(){m(!0);try{const{data:q,count:ae}=yield oe.getAdminReviews(a,l,{search:y,period:w,startDate:k,endDate:S,ratings:C,types:$.length>0?$:void 0});n(q),d(ae)}catch(q){console.error("Failed to fetch reviews:",q)}finally{m(!1)}});x.useEffect(()=>{K()},[a,w,k,S,C,$,y]),x.useEffect(()=>{s(1)},[w,k,S,C,$]);const W=q=>{C.includes(q)?I(C.filter(ae=>ae!==q)):I([...C,q])},X=q=>{$.includes(q)?B($.filter(ae=>ae!==q)):B([...$,q])},Q=()=>T(null,null,function*(){if(H){U(!0);try{yield oe.adminDeleteReview(H.id),t(),K(),V(!1),R(!1)}finally{U(!1)}}}),M=q=>q==="MALE"?"":q==="FEMALE"?"":q==="UNISEX"?"":q||"",G=Math.ceil(u/l);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-3 py-2",children:[i.jsx(Nl,{className:"w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:" ...",value:p,onChange:q=>b(q.target.value),className:"flex-1 bg-transparent outline-none text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-2",children:" "}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"today",label:""},{value:"week",label:" 1"},{value:"month",label:" 1"},{value:"custom",label:" "}].map(q=>i.jsx("button",{onClick:()=>j(q.value),className:`py-2 rounded-lg text-xs font-bold ${w===q.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"} `,children:q.label},q.value))}),w==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[i.jsx("input",{type:"date",value:k,onChange:q=>E(q.target.value),className:"px-3 py-2 border rounded-lg text-sm"}),i.jsx("input",{type:"date",value:S,onChange:q=>P(q.target.value),className:"px-3 py-2 border rounded-lg text-sm"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-2",children:"  ()"}),i.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[i.jsx("button",{onClick:()=>I([]),className:`py-1.5 rounded text-xs font-bold ${C.length===0?"bg-yellow-500 text-white":"bg-gray-100"} `,children:""}),[5,4,3,2,1].map(q=>i.jsxs("button",{onClick:()=>W(q),className:`py-1.5 rounded text-xs font-bold ${C.includes(q)?"bg-yellow-500 text-white":"bg-gray-100"} `,children:[q,""]},q))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-2",children:"  ()"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("button",{onClick:()=>B([]),className:`py-1.5 rounded text-xs font-bold ${$.length===0?"bg-purple-600 text-white":"bg-gray-100"} `,children:""}),[{value:"MALE",label:""},{value:"FEMALE",label:""},{value:"UNISEX",label:""}].map(q=>i.jsx("button",{onClick:()=>X(q.value),className:`py-1.5 rounded text-xs font-bold ${$.includes(q.value)?"bg-purple-600 text-white":"bg-gray-100"} `,children:q.label},q.value))]})]})]})]}),i.jsxs("div",{className:"flex justify-between px-1 items-center",children:[i.jsx("span",{className:"text-sm font-bold text-gray-500",children:h?" ...":i.jsxs(i.Fragment,{children:[" ",i.jsx("span",{className:"text-blue-600",children:u}),""]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s(q=>Math.max(1,q-1)),disabled:a===1||h,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-50",children:i.jsx(fh,{className:"w-5 h-5"})}),i.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[a," / ",G||1]}),i.jsx("button",{onClick:()=>s(q=>Math.min(G,q+1)),disabled:a===G||G===0||h,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-50",children:i.jsx(ud,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden min-h-[400px]",children:h?i.jsx("div",{className:"flex justify-center items-center h-full py-20",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold border-b border-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[40%]",children:" "}),i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:""}),i.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:""})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(q=>{const ae=q.toiletName||" ",ie=q.userEmail||q.userId;return i.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("div",{className:"line-clamp-2 cursor-pointer hover:text-blue-600",onClick:()=>{se(q),R(!0)},children:q.content})}),i.jsx("td",{className:"px-4 py-3 font-bold text-gray-700",children:i.jsx("button",{onClick:()=>{e?e(q.toiletId,"reviews"):window.location.hash=`#/detail/${q.toiletId}`},className:"font-bold text-gray-700 hover:text-blue-600 transition-colors text-left",children:ae})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex justify-center text-yellow-500 font-bold gap-0.5",children:[i.jsx($r,{className:"w-3.5 h-3.5 fill-current"}),i.jsx("span",{children:q.rating})]})}),i.jsx("td",{className:"px-4 py-3 text-gray-600",children:ie}),i.jsx("td",{className:"px-4 py-3 text-center text-xs text-gray-400",children:new Date(q.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("button",{onClick:()=>{se(q),V(!0)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(kr,{className:"w-4 h-4"})})})]},q.id)}),r.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:" ."})})]})]})})}),i.jsx("div",{className:"md:hidden grid grid-cols-1 gap-3",children:h?i.jsx("div",{className:"text-center py-10",children:i.jsx(ht,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"})}):r.length>0?r.map(q=>{const ae=q.toiletName||" ",ie=q.userEmail||q.userId;return i.jsxs("div",{onClick:()=>{se(q),R(!0)},className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all active:scale-[0.98] cursor-pointer",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded ${q.rating>=4?"bg-green-100 text-green-700":q.rating>=3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"} `,children:[q.rating,".0"]}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(q.createdAt).toLocaleDateString()})]}),i.jsx("div",{className:"text-sm font-bold text-gray-900 mb-1",children:i.jsx("button",{onClick:be=>{be.stopPropagation(),e?e(q.toiletId,"reviews"):window.location.hash=`#/detail/${q.toiletId}`},className:"font-bold text-gray-900 hover:text-blue-600 transition-colors text-left",children:ae})}),i.jsx("p",{className:"text-sm text-gray-600 line-clamp-3 mb-3",children:q.content}),i.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 border-t pt-2",children:i.jsx("span",{children:ie})})]},q.id)}):i.jsx("div",{className:"text-center text-gray-400 py-10",children:" ."})}),i.jsxs("div",{className:"md:hidden flex justify-center py-4 gap-4",children:[i.jsx("button",{onClick:()=>s(q=>Math.max(1,q-1)),disabled:a===1||h,className:"p-2 bg-white rounded-full shadow disabled:opacity-50",children:i.jsx(fh,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold flex items-center",children:a}),i.jsx("button",{onClick:()=>s(q=>Math.min(G,q+1)),disabled:a===G||G===0||h,className:"p-2 bg-white rounded-full shadow disabled:opacity-50",children:i.jsx(ud,{className:"w-6 h-6"})})]}),D&&H&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold",children:" "}),i.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Xt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:""}),i.jsx("p",{className:"text-sm font-bold",children:H.userEmail||H.userId})]}),i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg space-y-2",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-blue-600 mb-1",children:" "}),i.jsxs("p",{className:"text-sm font-bold flex items-center gap-2",children:[H.toiletName||" ",H.toiletGender&&i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${H.toiletGender==="MALE"?"bg-blue-100 text-blue-700 border-blue-200":H.toiletGender==="FEMALE"?"bg-pink-100 text-pink-700 border-pink-200":"bg-purple-100 text-purple-700 border-purple-200"}`,children:M(H.toiletGender)})]})]})}),H.toiletAddress&&i.jsxs("p",{className:"text-xs text-gray-600 flex items-start gap-1",children:[i.jsx(gs,{className:"w-3 h-3 mt-0.5 shrink-0"}),H.toiletAddress]}),i.jsx("div",{className:"pt-2",children:i.jsxs("button",{onClick:()=>{e?(e(H.toiletId,"reviews"),R(!1)):(window.location.hash=`#/detail/${H.toiletId}`,R(!1))},className:"w-full py-2 bg-white border border-blue-200 hover:bg-blue-50 text-blue-600 text-xs font-bold rounded-lg transition-colors flex items-center justify-center gap-1",children:[i.jsx(gs,{className:"w-3 h-3"}),"    "]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-2",children:""}),i.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((q,ae)=>i.jsx($r,{className:`w-6 h-6 ${ae<H.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"} `},ae)),i.jsxs("span",{className:"ml-2 text-lg font-bold",children:[H.rating,".0"]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-2",children:" "}),i.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg whitespace-pre-wrap",children:H.content})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>{V(!0),R(!1)},disabled:Z,className:"py-3 bg-red-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"})," "]}),i.jsx("button",{onClick:()=>R(!1),className:"py-3 bg-gray-100 rounded-xl font-bold",children:""})]})]})}),L&&H&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-in fade-in zoom-in",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"   ?"}),H.rewarded?i.jsx("div",{className:"bg-red-50 rounded-lg p-3 mb-6 border border-red-100",children:i.jsxs("p",{className:"text-xs text-red-700 text-center font-bold break-keep",children:["     .",i.jsx("br",{}),"     ."]})}):i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["    ,",i.jsx("br",{}),"  ."]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{onClick:()=>V(!1),className:"py-3 bg-gray-100 rounded-xl font-bold",children:""}),i.jsxs("button",{onClick:Q,disabled:Z,className:"py-3 bg-red-600 text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[Z&&i.jsx(ht,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},_8e=({setRefreshTrigger:t})=>{const[e,r]=x.useState({toilets:0,reviews:0,users:0}),[n,a]=x.useState(!1),[s,l]=x.useState(!1),[u,d]=x.useState(!0),h=x.useRef(null),m=()=>T(null,null,function*(){d(!0);try{const j=yield oe.getDataStats();r(j)}finally{d(!1)}});x.useEffect(()=>{m()},[]);const p=()=>T(null,null,function*(){l(!0);try{const j=yield oe.downloadBackup(),k=new Blob([j],{type:"application/json"}),E=URL.createObjectURL(k),S=document.createElement("a");S.href=E,S.download=`share_toilet_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(E),alert("  !")}catch(j){console.error(j),alert("    .")}finally{l(!1)}}),b=j=>T(null,null,function*(){var S;const k=(S=j.target.files)==null?void 0:S[0];if(!k)return;l(!0);const E=new FileReader;E.onload=P=>T(null,null,function*(){var C;try{const I=(C=P.target)==null?void 0:C.result,$=yield oe.importData(I);$.success?(t(B=>B+1),yield m(),alert($.message)):alert(": "+$.message)}catch(I){console.error(I),alert("  ")}finally{l(!1),h.current&&(h.current.value="")}}),E.readAsText(k)}),y=()=>T(null,null,function*(){if(confirm(` !

  .
    .

 ?`)&&confirm(`   ?

 .`)){l(!0);try{yield oe.clearAllData(),t(j=>j+1),yield m(),alert("  .")}catch(j){console.error(j),alert("  ")}finally{l(!1)}}}),_=j=>T(null,null,function*(){l(!0);try{let k;j==="bundang"?k=yield oe.generateSampleData():k=yield oe.generateSeoulData(),t(E=>E+1),yield m(),alert(k.message)}catch(k){console.error(k),alert("   ")}finally{l(!1)}}),w=()=>T(null,null,function*(){if(confirm(`   Supabase  ?
     Supabase DB .`)){l(!0);try{const j=JSON.parse(localStorage.getItem("db_toilets_v2")||"[]"),k=JSON.parse(localStorage.getItem("db_reviews_v2")||"[]"),E=JSON.parse(localStorage.getItem("db_users_v2")||"[]");if(j.length===0&&k.length===0&&E.length===0){alert("   ."),l(!1);return}const S={toilets:j,reviews:k,users:E},P=yield oe.importData(JSON.stringify(S));alert(P.message),t(C=>C+1),yield m()}catch(j){console.error(j),alert(" : "+j.message)}finally{l(!1)}}});return i.jsxs("div",{className:"space-y-4",children:[s&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl flex flex-col items-center",children:[i.jsx(ht,{className:"w-10 h-10 text-blue-600 animate-spin mb-3"}),i.jsx("p",{className:"font-bold text-gray-700",children:" ..."})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(S6,{className:"w-5 h-5"}),"  "]}),u?i.jsx("div",{className:"flex justify-center p-4",children:i.jsx(ht,{className:"w-6 h-6 animate-spin text-gray-400"})}):i.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-black text-blue-600",children:e.toilets}),i.jsx("div",{className:"text-xs text-gray-600 mt-1",children:""})]}),i.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-black text-amber-600",children:e.reviews}),i.jsx("div",{className:"text-xs text-gray-600 mt-1",children:""})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-black text-green-600",children:e.users}),i.jsx("div",{className:"text-xs text-gray-600 mt-1",children:""})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"  "}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[i.jsxs("button",{onClick:p,disabled:s,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(Oj,{className:"w-5 h-5"}),"  "]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{ref:h,type:"file",accept:".json",onChange:b,className:"hidden",id:"import-file",disabled:s}),i.jsxs("label",{htmlFor:"import-file",className:`w-full py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 cursor-pointer ${s?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(fs,{className:"w-5 h-5"}),"  "]})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("button",{onClick:()=>a(!0),disabled:s,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(yl,{className:"w-5 h-5"}),"CSV  "]})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-3",children:" :          ."}),n&&i.jsx(ZM,{onSuccess:()=>T(null,null,function*(){a(!1),t(j=>j+1),yield m()}),onCancel:()=>a(!1)})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(V1e,{className:"w-5 h-5 text-orange-600"})," "]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"   (LocalStorage)   Supabase  ."}),i.jsxs("button",{onClick:w,disabled:s,className:"w-full py-3 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(yl,{className:"w-5 h-5"}),"   Supabase "]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(fs,{className:"w-5 h-5 text-indigo-600"}),"  "]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        50   ."}),i.jsxs("button",{onClick:()=>_("bundang"),disabled:s,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(fs,{className:"w-5 h-5"}),"/    (100)"]}),i.jsxs("button",{onClick:()=>_("seoul"),disabled:s,className:"w-full mt-3 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(fs,{className:"w-5 h-5"}),"     (1000)"]})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsxs("h3",{className:"font-bold text-red-800 mb-2 flex items-center gap-2",children:[i.jsx(io,{className:"w-5 h-5"})," "]}),i.jsx("p",{className:"text-xs text-red-600 mb-3",children:"    !"}),i.jsxs("button",{onClick:y,disabled:s,className:"w-full py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[i.jsx(kr,{className:"w-5 h-5"}),"  "]})]})]})},x8e=()=>{const[t,e]=x.useState(th),[r,n]=x.useState(th),[a,s]=x.useState(10),[l,u]=x.useState(10),[d,h]=x.useState(!1),[m,p]=x.useState(!1),[b,y]=x.useState(!0),[_,w]=x.useState(!1);x.useEffect(()=>{T(null,null,function*(){y(!0);try{const[I,$]=yield Promise.all([oe.getCreditPolicy(),oe.getSystemSetting("level_up_reward","10")]);e(I),n(I);const B=parseInt($,10);s(B),u(B)}finally{y(!1)}})},[]),x.useEffect(()=>{const C=JSON.stringify(t)!==JSON.stringify(r);h(C||a!==l)},[t,r,a,l]);const j=(C,I)=>{if(C==="unlockCost"){e(je(J({},t),{[C]:Math.abs(I)}));return}I<0||e(je(J({},t),{[C]:I}))},k=()=>{e(J({},th))},E=()=>T(null,null,function*(){w(!0);try{const C=je(J({},t),{adView:t.unlockCost});yield Promise.all([oe.saveCreditPolicy(C),oe.setSystemSetting("level_up_reward",a.toString(),"Credits awarded on level up")]),e(C),n(C),u(a),p(!1),alert("  !")}finally{w(!1)}}),S=[{key:"signup",label:"",icon:Vw,color:"bg-blue-500",description:"   "},{key:"toiletSubmit",label:" ",icon:gs,color:"bg-green-500",description:"   "},{key:"reviewSubmit",label:" ",icon:$r,color:"bg-yellow-500",description:"   "},{key:"reportSubmit",label:" ",icon:O6,color:"bg-red-500",description:"  "},{key:"unlockCost",label:"/",icon:jl,color:"bg-gray-600",description:"    (     )"},{key:"referralReward",label:" ",icon:Vw,color:"bg-indigo-500",description:"    ( )"},{key:"ownerReviewReward",label:"  ",icon:$r,color:"bg-yellow-600",description:"      ( )"},{key:"ownerUnlockReward",label:" () ",icon:Hp,color:"bg-teal-500",description:"     ( )"}];if(b)return i.jsxs("div",{className:"flex items-center justify-center p-12",children:[i.jsx(ht,{className:"w-8 h-8 animate-spin text-amber-500"}),i.jsx("span",{className:"ml-2 text-gray-500",children:"  ..."})]});const P=C=>{const I=C.icon,$=t[C.key],B=$,H=r[C.key],se=H,D=$!==H;return i.jsx("div",{className:`bg-white rounded-xl border-2 p-5 shadow-sm transition-all ${D?"border-amber-400 ring-2 ring-amber-100":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`${C.color} rounded-lg p-3 shrink-0`,children:i.jsx(I,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:C.label}),i.jsx("p",{className:"text-xs text-gray-500 mb-3",children:C.description}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"number",min:"0",value:B,onChange:R=>j(C.key,parseInt(R.target.value)||0),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg font-bold text-center focus:ring-2 focus:ring-amber-400 focus:border-amber-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:""}),D&&i.jsxs("span",{className:"ml-auto text-xs text-amber-600 font-bold bg-amber-50 px-2 py-1 rounded",children:[" (",se,"  ",B,")"]})]})]})]})},C.key)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Kp,{className:"w-8 h-8"}),i.jsx("h2",{className:"text-2xl font-black",children:"  "})]}),i.jsx("p",{className:"text-amber-50 text-sm",children:"     ."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[i.jsx("span",{className:"w-1 h-6 bg-blue-500 rounded-full"}),"  ()"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.filter(C=>["signup","referralReward","toiletSubmit","reviewSubmit","reportSubmit"].includes(C.key)).map(C=>P(C)),i.jsx("div",{className:`bg-white rounded-xl border-2 p-5 shadow-sm transition-all ${a!==l?"border-amber-400 ring-2 ring-amber-100":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-indigo-500 rounded-lg p-3 shrink-0",children:i.jsx(Hp,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:" "}),i.jsx("p",{className:"text-xs text-gray-500 mb-3",children:" (Class)  "}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"number",min:"0",value:a,onChange:C=>s(parseInt(C.target.value)||0),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg font-bold text-center focus:ring-2 focus:ring-amber-400 focus:border-amber-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:""}),a!==l&&i.jsxs("span",{className:"ml-auto text-xs text-amber-600 font-bold bg-amber-50 px-2 py-1 rounded",children:[" (",l,"  ",a,")"]})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[i.jsx("span",{className:"w-1 h-6 bg-teal-500 rounded-full"}),"  ( )"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.filter(C=>["ownerReviewReward","ownerUnlockReward"].includes(C.key)).map(C=>P(C))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[i.jsx("span",{className:"w-1 h-6 bg-red-500 rounded-full"}),"  "]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.filter(C=>["unlockCost"].includes(C.key)).map(C=>P(C))})]}),i.jsxs("div",{className:"flex gap-3 sticky bottom-0 bg-white p-4 border-t border-gray-200 -mx-4 z-10 shadow-inner",children:[i.jsxs("button",{onClick:k,disabled:_,className:"flex items-center gap-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-colors disabled:opacity-50",children:[i.jsx(Fje,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>p(!0),disabled:!d||_,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all ml-auto ${d&&!_?"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600 shadow-lg shadow-amber-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[_?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):i.jsx(Pj,{className:"w-5 h-5"}),_?" ...":"  "]})]}),m&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center",children:i.jsx(Kp,{className:"w-8 h-8 text-amber-500"})})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"  ?"}),i.jsxs("p",{className:"text-gray-600 text-center text-sm mb-6",children:["   ,",i.jsx("br",{}),"      ."]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2",children:" :"}),S.map(C=>{const I=t[C.key],$=r[C.key];return I!==$?i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:C.label}),i.jsxs("span",{className:"font-bold text-amber-600",children:[$,"  ",I," "]})]},C.key):null}),a!==l&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:" "}),i.jsxs("span",{className:"font-bold text-amber-600",children:[l,"  ",a," "]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>p(!1),disabled:_,className:"flex-1 py-3 bg-gray-100 rounded-xl font-bold hover:bg-gray-200",children:""}),i.jsx("button",{onClick:E,disabled:_,className:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 shadow-lg shadow-amber-200 flex items-center justify-center gap-2",children:_?i.jsx(ht,{className:"w-4 h-4 animate-spin"}):""})]})]})})]})},v8e=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(30);x.useEffect(()=>{T(null,null,function*(){n(!0);try{const d=yield oe.getCreditStats(a);e(d)}catch(d){console.error("Failed to fetch credit stats",d)}finally{n(!1)}})},[a]);const l=[{label:"7",value:7},{label:"30",value:30},{label:"3",value:90},{label:"6",value:180},{label:"1",value:365}];return r?i.jsx("div",{className:"flex justify-center items-center h-96",children:i.jsx(ht,{className:"w-8 h-8 animate-spin text-blue-500"})}):i.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[i.jsx(Aj,{className:"w-5 h-5 text-gray-500"}),i.jsx("span",{className:"font-bold",children:"  "})]}),i.jsx("div",{className:"flex gap-2",children:l.map(u=>i.jsx("button",{onClick:()=>s(u.value),className:`px-3 py-1.5 rounded-lg text-sm font-bold transition-all ${a===u.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:u.label},u.value))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"   (Net Balance)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"      / ."})]}),i.jsx("div",{className:"h-80",children:i.jsx(ci,{width:"100%",height:"100%",children:i.jsxs(VM,{data:t,margin:{top:20,right:30,left:0,bottom:0},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1}),i.jsx(hi,{dataKey:"date",tick:{fontSize:12},tickFormatter:u=>u.slice(5).replace("-","/")}),i.jsx(mi,{}),i.jsx(di,{labelFormatter:u=>`: ${u}`,contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),i.jsx(_l,{}),i.jsx(B0,{type:"monotone",dataKey:"earned",stackId:"1",fill:"#4ade80",stroke:"#22c55e",fillOpacity:.2,name:" (Earned)"}),i.jsx(B0,{type:"monotone",dataKey:"spent",stackId:"2",fill:"#f87171",stroke:"#ef4444",fillOpacity:.2,name:" (Spent)"}),i.jsx(D2,{type:"monotone",dataKey:"net",stroke:"#2563eb",strokeWidth:3,dot:!1,name:" (Net)"})]})})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"   (Earnings Breakdown)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]}),i.jsx("div",{className:"h-80",children:i.jsx(ci,{width:"100%",height:"100%",children:i.jsxs(xd,{data:t,margin:{top:20,right:30,left:0,bottom:0},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1}),i.jsx(hi,{dataKey:"date",tick:{fontSize:12},tickFormatter:u=>u.slice(5).replace("-","/")}),i.jsx(mi,{}),i.jsx(di,{cursor:{fill:"transparent"},content:({active:u,payload:d,label:h})=>u&&d&&d.length?i.jsxs("div",{className:"bg-white p-3 border border-gray-100 shadow-lg rounded-xl text-xs",children:[i.jsx("p",{className:"font-bold mb-2",children:h}),d.map((m,p)=>i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:m.color}}),i.jsx("span",{className:"text-gray-600 w-24",children:rp(m.name)}),i.jsxs("span",{className:"font-bold",children:[m.value," C"]})]},p)),i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 flex justify-between font-bold",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[d.reduce((m,p)=>m+p.value,0)," C"]})]})]}):null}),i.jsx(_l,{formatter:u=>rp(u)}),i.jsx(tn,{dataKey:"earnedDetail.signup",stackId:"a",fill:"#3b82f6",name:"signup"}),i.jsx(tn,{dataKey:"earnedDetail.referral",stackId:"a",fill:"#6366f1",name:"referral"}),i.jsx(tn,{dataKey:"earnedDetail.review",stackId:"a",fill:"#8b5cf6",name:"review"}),i.jsx(tn,{dataKey:"earnedDetail.ad_reward",stackId:"a",fill:"#ec4899",name:"ad_reward"}),i.jsx(tn,{dataKey:"earnedDetail.video_reward",stackId:"a",fill:"#d946ef",name:"video_reward"}),i.jsx(tn,{dataKey:"earnedDetail.toilet_register",stackId:"a",fill:"#10b981",name:"toilet_register"}),i.jsx(tn,{dataKey:"earnedDetail.other",stackId:"a",fill:"#9ca3af",name:"other"})]})})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"   (Spending Breakdown)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"     ."})]}),i.jsx("div",{className:"h-80",children:i.jsx(ci,{width:"100%",height:"100%",children:i.jsxs(xd,{data:t,margin:{top:20,right:30,left:0,bottom:0},children:[i.jsx(fi,{strokeDasharray:"3 3",vertical:!1}),i.jsx(hi,{dataKey:"date",tick:{fontSize:12},tickFormatter:u=>u.slice(5).replace("-","/")}),i.jsx(mi,{}),i.jsx(di,{cursor:{fill:"transparent"},content:({active:u,payload:d,label:h})=>u&&d&&d.length?i.jsxs("div",{className:"bg-white p-3 border border-gray-100 shadow-lg rounded-xl text-xs",children:[i.jsx("p",{className:"font-bold mb-2",children:h}),d.map((m,p)=>i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:m.color}}),i.jsx("span",{className:"text-gray-600 w-24",children:rp(m.name)}),i.jsxs("span",{className:"font-bold",children:[m.value," C"]})]},p)),i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 flex justify-between font-bold",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[d.reduce((m,p)=>m+p.value,0)," C"]})]})]}):null}),i.jsx(_l,{formatter:u=>rp(u)}),i.jsx(tn,{dataKey:"spentDetail.toilet_unlock",stackId:"a",fill:"#f59e0b",name:"toilet_unlock"}),i.jsx(tn,{dataKey:"spentDetail.report_penalty",stackId:"a",fill:"#ef4444",name:"report_penalty"}),i.jsx(tn,{dataKey:"spentDetail.other",stackId:"a",fill:"#9ca3af",name:"other"})]})})})]})]})};function rp(t){return{signup:"",referral:" ",review:" ",ad_reward:" ",video_reward:" ",toilet_register:" ",toilet_unlock:" ",report_penalty:" ",other:"",earned:" ",spent:" ",net:""}[t]||t}const H0=({isOpen:t,message:e,onClose:r,onConfirm:n,isConfirm:a,type:s="success"})=>{const{t:l}=nn();if(!t)return null;const u=a?"confirm":s;let d=i.jsx(kc,{className:"w-6 h-6"}),h="bg-primary-50 text-primary";return u==="confirm"?(d=i.jsx(Tj,{className:"w-6 h-6"}),h="bg-amber-100 text-amber-500"):u==="error"&&(d=i.jsx(zw,{className:"w-6 h-6"}),h="bg-red-100 text-red-500"),i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-xs p-6 shadow-2xl animate-in zoom-in-95 duration-200 relative mb-[10vh]",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center mb-5 ${h}`,children:d}),i.jsx("p",{className:"text-gray-900 dark:text-white font-medium text-base mb-6 whitespace-pre-line leading-relaxed",children:e}),i.jsx("div",{className:"flex gap-2 w-full",children:u==="confirm"?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:r,className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:l("cancel","")}),i.jsx("button",{onClick:()=>{n&&n(),r()},className:"flex-1 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-600 transition-colors",children:l("confirm","")})]}):i.jsx("button",{onClick:r,className:`w-full py-3 rounded-xl font-bold text-white transition-colors ${u==="error"?"bg-red-500 hover:bg-red-600":"bg-primary hover:bg-primary-600"}`,children:l("confirm","")})})]})})})},w8e=({onRefresh:t})=>{const[e,r]=x.useState([]),[n,a]=x.useState([]),[s,l]=x.useState(!0),[u,d]=x.useState(!1),[h,m]=x.useState([]),[p,b]=x.useState("all"),[y,_]=x.useState("all"),[w,j]=x.useState(0),[k,E]=x.useState(1e3),[S,P]=x.useState(""),[C,I]=x.useState(""),[$,B]=x.useState(""),[H,se]=x.useState(!1),[D,R]=x.useState(!1),[L,V]=x.useState({isOpen:!1,message:"",type:"success"}),Z=()=>V(q=>je(J({},q),{isOpen:!1})),U=()=>T(null,null,function*(){l(!0);try{const[q,ae]=yield Promise.all([oe.getUsers(),oe.getAllNotifications()]);r(q.filter(ie=>ie.role!==Be.GUEST)),a(ae)}catch(q){console.error(q)}finally{l(!1)}});x.useEffect(()=>{U()},[]);const K=x.useMemo(()=>e.filter(q=>!(S&&!q.email.toLowerCase().includes(S.toLowerCase())||p!=="all"&&q.gender!==p||y!=="all"&&q.role!==y||q.credits<w||q.credits>k)),[e,S,p,y,w,k]),W={totalSent:n.length,successRate:n.length>0?Math.round(n.filter(q=>q.deliveryStatus==="sent").length/n.length*100):0,totalUsers:e.filter(q=>q.notificationEnabled).length},X=()=>{h.length===K.length?m([]):m(K.map(q=>q.id))},Q=q=>{h.includes(q)?m(h.filter(ae=>ae!==q)):m([...h,q])},M=()=>T(null,null,function*(){console.log("[PushMgmt] executeSend started"),d(!0);try{console.log(`[PushMgmt] Sending to ${h.length} users:`,h);const q=yield Promise.all(h.map(be=>T(null,null,function*(){try{console.log(`[PushMgmt] Creating notification for ${be}...`);const te=yield oe.createNotification(tr.ADMIN_MESSAGE,be,C,$);console.log(`[PushMgmt] Created DB record: ${te.id}. Triggering push...`);const he=yield oe.sendPushNotification(te);return console.log(`[PushMgmt] Delivery result for ${be}:`,he),he}catch(te){return console.error(`[PushMgmt] Failed to send to ${be}`,te),{success:!1,pushSent:!1}}}))),ae=q.filter(be=>be.success).length,ie=q.filter(be=>be.pushSent).length;console.log(`[PushMgmt] Finished sending. In-app: ${ae}, Push: ${ie}`),ae>0?(V({isOpen:!0,message:`  :
-   : ${ae}
-   : ${ie}`,type:"success"}),I(""),B(""),m([])):V({isOpen:!0,message:` . ( 0)
   .`,type:"error"}),t(),U()}catch(q){V({isOpen:!0,message:`     : ${q.message||"   "}`,type:"error"}),console.error(q)}finally{d(!1)}}),G=()=>{if(!C.trim()||!$.trim()){V({isOpen:!0,message:"  .",type:"error"});return}if(h.length===0){V({isOpen:!0,message:"  .",type:"error"});return}V({isOpen:!0,message:`${h.length}    ?`,type:"confirm",onConfirm:()=>{console.log("[PushMgmt] Confirm modal - confirmed"),M()}})};return s?i.jsx("div",{className:"flex justify-center items-center p-12",children:i.jsx(ht,{className:"w-8 h-8 animate-spin text-purple-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(so,{className:"w-8 h-8 opacity-80"}),i.jsx(dd,{className:"w-5 h-5"})]}),i.jsx("div",{className:"text-3xl font-black",children:W.totalSent}),i.jsx("div",{className:"text-sm opacity-90",children:"  "})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(kc,{className:"w-8 h-8 opacity-80"})}),i.jsxs("div",{className:"text-3xl font-black",children:[W.successRate,"%"]}),i.jsx("div",{className:"text-sm opacity-90",children:" "})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx(zh,{className:"w-8 h-8 opacity-80"})}),i.jsx("div",{className:"text-3xl font-black",children:W.totalUsers}),i.jsx("div",{className:"text-sm opacity-90",children:"  "})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[i.jsx(Kw,{className:"w-6 h-6 text-blue-600"}),"   "]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(oje,{className:"w-5 h-5 text-gray-600"}),i.jsx("span",{className:"font-bold text-sm",children:" "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),i.jsx("input",{type:"text",value:S,onChange:q=>P(q.target.value),placeholder:" ...",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-1",children:""}),i.jsxs("select",{value:p,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm",children:[i.jsx("option",{value:"all",children:""}),i.jsx("option",{value:ft.MALE,children:""}),i.jsx("option",{value:ft.FEMALE,children:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-1",children:""}),i.jsxs("select",{value:y,onChange:q=>_(q.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm",children:[i.jsx("option",{value:"all",children:""}),i.jsx("option",{value:Be.USER,children:"USER"}),i.jsx("option",{value:Be.VIP,children:"VIP"}),i.jsx("option",{value:Be.ADMIN,children:"ADMIN"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("input",{type:"number",value:w,onChange:q=>j(Number(q.target.value)),placeholder:"",className:"w-1/2 px-2 py-2 border rounded-lg text-xs"}),i.jsx("input",{type:"number",value:k,onChange:q=>E(Number(q.target.value)),placeholder:"",className:"w-1/2 px-2 py-2 border rounded-lg text-xs"})]})]})]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[" : ",i.jsxs("strong",{children:[K.length,""]})," | : ",i.jsxs("strong",{children:[h.length,""]})]}),i.jsx("button",{onClick:X,className:"px-4 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-bold hover:bg-blue-700",children:h.length===K.length?" ":" "})]})]}),i.jsx("div",{className:"bg-gray-50 rounded-xl p-4 max-h-60 overflow-y-auto mb-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[K.map(q=>i.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors ${h.includes(q.id)?"bg-blue-100 border-blue-300":"bg-white border-gray-200"} border`,children:[i.jsx("input",{type:"checkbox",checked:h.includes(q.id),onChange:()=>Q(q.id),className:"w-4 h-4"}),i.jsx(to,{className:"w-4 h-4 text-gray-400"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-bold truncate",children:q.email}),i.jsxs("div",{className:"text-xs text-gray-500",children:[q.role," | ",q.credits," "]})]})]},q.id)),K.length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-400 text-sm",children:"    ."})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:"  "}),i.jsx("input",{type:"text",value:C,onChange:q=>I(q.target.value),placeholder:":  ,   ...",className:"w-full px-4 py-3 border rounded-xl text-sm",maxLength:50}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[C.length,"/50"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:"  "}),i.jsx("textarea",{value:$,onChange:q=>B(q.target.value),placeholder:"    ...",className:"w-full px-4 py-3 border rounded-xl text-sm resize-none",rows:4,maxLength:200}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[$.length,"/200"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>se(!H),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200",children:H?" ":""}),i.jsxs("button",{onClick:G,disabled:h.length===0||!C||!$||u,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[u?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):i.jsx(Kw,{className:"w-5 h-5"}),h.length," "]})]}),H&&C&&$&&i.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded-xl",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"   "}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center text-2xl flex-shrink-0",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-bold text-sm mb-1",children:C}),i.jsx("div",{className:"text-xs text-gray-300",children:$}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]})]})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(so,{className:"w-6 h-6 text-purple-600"})," "]}),i.jsx("button",{onClick:()=>R(!D),className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-bold hover:bg-purple-700",children:D?"":""})]}),D&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left font-bold",children:""}),i.jsx("th",{className:"px-4 py-3 text-left font-bold",children:""}),i.jsx("th",{className:"px-4 py-3 text-left font-bold",children:""}),i.jsx("th",{className:"px-4 py-3 text-center font-bold",children:""}),i.jsx("th",{className:"px-4 py-3 text-center font-bold",children:""})]})}),i.jsxs("tbody",{className:"divide-y",children:[n.slice(0,50).map(q=>{const ae=e.find(ie=>ie.id===q.userId);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-bold",children:q.type==="admin_message"?"":""})}),i.jsx("td",{className:"px-4 py-3 font-medium",children:q.title}),i.jsx("td",{className:"px-4 py-3 text-gray-600",children:(ae==null?void 0:ae.email)||"  "}),i.jsx("td",{className:"px-4 py-3 text-center",children:q.deliveryStatus==="sent"?i.jsx(kc,{className:"w-4 h-4 text-green-600 inline"}):q.deliveryStatus==="failed"?i.jsx(A6,{className:"w-4 h-4 text-red-600 inline"}):i.jsx("span",{className:"text-yellow-600 text-xs",children:""})}),i.jsx("td",{className:"px-4 py-3 text-center text-xs text-gray-500",children:new Date(q.sentAt).toLocaleString("ko-KR")})]},q.id)}),n.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400",children:"  ."})})]})]})})]}),i.jsx(H0,{isOpen:L.isOpen,message:L.message,type:L.type,onClose:Z,onConfirm:L.onConfirm})]})},j8e=()=>{const[t,e]=x.useState(null),[r,n]=x.useState(!0),[a,s]=x.useState(!1),l=()=>T(null,null,function*(){n(!0);try{const m=yield oe.getVersionPolicy();e(m)}catch(m){console.error(m),alert("  .")}finally{n(!1)}});x.useEffect(()=>{l()},[]);const u=()=>T(null,null,function*(){if(t){s(!0);try{yield oe.saveVersionPolicy(t),alert("  .   .")}catch(m){console.error(m),alert(" ")}finally{s(!1)}}}),d=m=>{t&&e(je(J({},t),{android:J(J({},t.android),m)}))},h=m=>{t&&e(je(J({},t),{ios:J(J({},t.ios),m)}))};return r?i.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):t?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(Wp,{className:"w-6 h-6 text-blue-600"}),"  "]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"          ."})]}),i.jsxs("button",{onClick:u,disabled:a,className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 flex items-center gap-2 disabled:bg-gray-300 transition-colors",children:[a?" ...":" ",i.jsx(Pj,{className:"w-4 h-4"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-green-700",children:[i.jsx(Dj,{className:"w-5 h-5"}),"Android "]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  (Latest Version)"}),i.jsx("input",{type:"text",value:t.android.latestVersion,onChange:m=>d({latestVersion:m.target.value}),className:"w-full p-2 border rounded-lg text-sm",placeholder:": 1.0.2"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"   (Min Version)"}),i.jsx("input",{type:"text",value:t.android.minVersion,onChange:m=>d({minVersion:m.target.value}),className:"w-full p-2 border rounded-lg text-sm border-red-200 bg-red-50",placeholder:": 1.0.0"}),i.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["   ",i.jsx("strong",{children:" "}),"   (  )"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" URL"}),i.jsx("input",{type:"text",value:t.android.storeUrl,onChange:m=>d({storeUrl:m.target.value}),className:"w-full p-2 border rounded-lg text-sm text-gray-600",placeholder:"market://details?id=..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  "}),i.jsx("textarea",{value:t.android.updateMessage,onChange:m=>d({updateMessage:m.target.value}),className:"w-full p-2 border rounded-lg text-sm h-20",placeholder:"   "})]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-800",children:[i.jsx(p1e,{className:"w-5 h-5"}),"iOS "]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  (Latest Version)"}),i.jsx("input",{type:"text",value:t.ios.latestVersion,onChange:m=>h({latestVersion:m.target.value}),className:"w-full p-2 border rounded-lg text-sm",placeholder:": 1.0.2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"   (Min Version)"}),i.jsx("input",{type:"text",value:t.ios.minVersion,onChange:m=>h({minVersion:m.target.value}),className:"w-full p-2 border rounded-lg text-sm border-red-200 bg-red-50",placeholder:": 1.0.0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:" URL"}),i.jsx("input",{type:"text",value:t.ios.storeUrl,onChange:m=>h({storeUrl:m.target.value}),className:"w-full p-2 border rounded-lg text-sm text-gray-600",placeholder:"https://apps.apple.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"  "}),i.jsx("textarea",{value:t.ios.updateMessage,onChange:m=>h({updateMessage:m.target.value}),className:"w-full p-2 border rounded-lg text-sm h-20",placeholder:"   "})]})]})]})]}),i.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-xl text-sm text-blue-800 flex items-start gap-2",children:[i.jsx(Tj,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold",children:"   "}),i.jsxs("ul",{className:"list-disc pl-4 mt-1 space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:" "}),":    <    (  )"]}),i.jsxs("li",{children:[i.jsx("strong",{children:" "}),":    <   (   )"]}),i.jsxs("li",{children:["  ",i.jsx("code",{children:"X.Y.Z"}),"  Semver (Semantic Versioning)  ."]})]})]})]})]})}):i.jsx("div",{className:"p-8 text-center text-red-500",children:"   ."})},N8e=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(null),[l,u]=x.useState(null),[d,h]=x.useState(null),[m,p]=x.useState({name:"",address:"",lat:0,lng:0,floor:1}),[b,y]=x.useState(!1);x.useEffect(()=>{const B=new URLSearchParams(window.location.hash.split("?")[1]).get("uploadId");B&&u(B),_(B)},[]);const _=$=>T(null,null,function*(){n(!0);const B=$!==void 0?$:l,H=yield oe.getBulkItems(B||void 0);e(H),n(!1)}),w=$=>T(null,null,function*(){if(confirm(`"${$.name}"()   ?`)){s($.id);try{const B={id:`t_bulk_${$.id}`,name:$.name,address:$.address,lat:$.lat,lng:$.lng,type:"public",genderType:ft.UNISEX,floor:$.floor||1,hasPassword:!1,cleanliness:3,hasBidet:!1,hasPaper:!1,stallCount:1,crowdLevel:"medium",isUnlocked:!0,note:`Bulk Upload Reviewed (Origin: ${$.reason})`,createdBy:"admin",source:"admin",isVerified:!0,createdAt:new Date().toISOString()},H=yield oe.bulkAddToilets([B]);if(H.added>0||H.updated>0)yield oe.updateBulkItemStatus($.id,"done"),e(se=>se.filter(D=>D.id!==$.id));else throw new Error("Database insert failed")}catch(B){console.error(B),alert("   .")}finally{s(null)}}}),j=$=>T(null,null,function*(){if(confirm(`"${$.name}"()   ?`)){s($.id);try{yield oe.updateBulkItemStatus($.id,"rejected"),e(l?B=>B.map(H=>H.id===$.id?je(J({},H),{status:"rejected"}):H):B=>B.filter(H=>H.id!==$.id))}catch(B){console.error(B)}finally{s(null)}}}),k=$=>T(null,null,function*(){if(confirm(`"${$.name}"()  ? ( )`)){s($.id);try{yield oe.deleteBulkItem($.id),e(B=>B.filter(H=>H.id!==$.id))}catch(B){console.error(B)}finally{s(null)}}}),E=($,B)=>{window.open(`https://map.kakao.com/link/map/${$},${B}`,"_blank")},S=$=>{h($),p({name:$.name,address:$.address,lat:$.lat,lng:$.lng,floor:$.floor||1})},P=()=>{h(null)},C=()=>T(null,null,function*(){if(m.address){y(!0);try{const $=yield Zb(m.address);$?(p(B=>je(J({},B),{lat:$.lat,lng:$.lng})),alert(` !
${$.lat}, ${$.lng}`)):alert("    .")}catch($){alert(" ")}finally{y(!1)}}}),I=()=>T(null,null,function*(){if(d)try{yield oe.updateBulkItemContent(d.id,m),e($=>$.map(B=>B.id===d.id?J(J({},B),m):B)),h(null)}catch($){alert(" ")}});return r?i.jsxs("div",{className:"p-8 text-center text-gray-500 flex flex-col items-center gap-2",children:[i.jsx(Wp,{className:"animate-spin"}),"   ..."]}):(t.filter($=>$.status==="review_needed"),i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("div",{children:i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:["  ",l&&i.jsxs("span",{className:"text-sm font-normal bg-gray-100 px-2 py-1 rounded text-gray-500",children:["Batch: ",l]})]})}),i.jsxs("div",{className:"flex gap-2",children:[l&&i.jsx("button",{onClick:()=>{u(null),_(null)},className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200",children:" "}),i.jsxs("button",{onClick:()=>_(),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 flex items-center gap-1",children:[i.jsx(Wp,{size:16})," "]})]})]}),i.jsx("div",{className:"grid gap-4",children:t.length===0?i.jsx("div",{className:"p-12 text-center text-gray-400 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:"  ."}):t.map($=>i.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex flex-col md:flex-row gap-4 items-start md:items-center ${$.status==="rejected"?"bg-gray-50 border-gray-200 opacity-75":"bg-white border-blue-100"}`,children:[$.status==="rejected"&&i.jsx("div",{className:"text-red-500 font-bold text-xs absolute top-4 right-4 md:static md:w-16",children:"[]"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-bold text-lg",children:$.name}),i.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:["F",$.floor]}),$.status==="review_needed"&&i.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded font-medium",children:""})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-1",children:$.address}),i.jsxs("div",{className:"text-xs text-red-500 font-medium bg-red-50 inline-block px-2 py-1 rounded mb-1",children:[": ",$.reason]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1 flex gap-2",children:i.jsxs("span",{children:[": ",$.lat.toFixed(6),", ",$.lng.toFixed(6)]})})]}),i.jsxs("div",{className:"flex gap-2 self-end md:self-center",children:[i.jsx("button",{onClick:()=>E($.lat,$.lng),className:"p-2 text-gray-500 hover:bg-gray-100 rounded tooltip",title:" ",children:i.jsx(gs,{size:20})}),i.jsx("button",{onClick:()=>S($),disabled:a===$.id,className:"p-2 text-blue-600 hover:bg-blue-50 rounded tooltip",title:"",children:i.jsx(I6,{size:20})}),i.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),$.status!=="rejected"&&i.jsx("button",{onClick:()=>j($),disabled:a===$.id,className:"px-3 py-1.5 border border-red-200 text-red-600 rounded hover:bg-red-50 text-sm font-medium",children:""}),i.jsxs("button",{onClick:()=>w($),disabled:a===$.id,className:"px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm font-medium flex items-center gap-1",children:[i.jsx(fs,{size:16})," "]}),$.status==="rejected"&&i.jsx("button",{onClick:()=>k($),disabled:a===$.id,className:"p-2 text-gray-400 hover:text-red-600 rounded",title:" ",children:i.jsx(kr,{size:20})})]})]},$.id))}),d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[i.jsx("h3",{className:"text-xl font-bold",children:" "}),i.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600",children:i.jsx(Xt,{})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),i.jsx("input",{type:"text",className:"w-full border rounded-lg p-2",value:m.name,onChange:$=>p(je(J({},m),{name:$.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2",value:m.address,onChange:$=>p(je(J({},m),{address:$.target.value}))}),i.jsx("button",{onClick:C,disabled:b,className:"px-3 py-2 bg-gray-100 rounded hover:bg-gray-200 text-sm whitespace-nowrap",children:" "})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" (Lat)"}),i.jsx("input",{type:"number",step:"0.000001",className:"w-full border rounded-lg p-2",value:m.lat,onChange:$=>p(je(J({},m),{lat:parseFloat($.target.value)}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" (Lng)"}),i.jsx("input",{type:"number",step:"0.000001",className:"w-full border rounded-lg p-2",value:m.lng,onChange:$=>p(je(J({},m),{lng:parseFloat($.target.value)}))})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("button",{onClick:()=>E(m.lat,m.lng),className:"text-sm text-blue-600 hover:underline flex items-center justify-end gap-1",children:[i.jsx(T6,{size:14}),"    "]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),i.jsx("input",{type:"number",className:"w-full border rounded-lg p-2",value:m.floor,onChange:$=>p(je(J({},m),{floor:parseInt($.target.value)}))})]})]}),i.jsxs("div",{className:"mt-8 flex justify-end gap-3 pt-4 border-t",children:[i.jsx("button",{onClick:P,className:"px-5 py-2.5 text-gray-600 font-bold hover:bg-gray-200 rounded-xl",children:""}),i.jsxs("button",{onClick:I,className:"px-5 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 flex items-center gap-2",children:[i.jsx(Pj,{size:18})," "]})]})]})})]}))},kp={National:{name:" ()",keywords:["","","","National"],minLat:32,maxLat:43,minLng:124,maxLng:132},Seoul:{name:"",keywords:["","","Seoul"],minLat:37.41,maxLat:37.72,minLng:126.76,maxLng:127.19},Busan:{name:"",keywords:["","","Busan"],minLat:34.87,maxLat:35.39,minLng:128.73,maxLng:129.31},Daegu:{name:"",keywords:["","","Daegu"],minLat:35.6,maxLat:36.02,minLng:128.34,maxLng:128.77},Incheon:{name:"",keywords:["","","Incheon"],minLat:36.95,maxLat:37.9,minLng:124.59,maxLng:126.8},Gwangju:{name:"",keywords:["","","Gwangju"],minLat:35.06,maxLat:35.26,minLng:126.66,maxLng:127.01},Daejeon:{name:"",keywords:["","","Daejeon"],minLat:36.17,maxLat:36.5,minLng:127.24,maxLng:127.54},Ulsan:{name:"",keywords:["","","Ulsan"],minLat:35.3,maxLat:35.72,minLng:128.95,maxLng:129.46},Sejong:{name:"",keywords:["","","","Sejong"],minLat:36.4,maxLat:36.7,minLng:127.1,maxLng:127.4},Gyeonggi:{name:"",keywords:["","","Gyeonggi"],minLat:36.88,maxLat:38.3,minLng:126.37,maxLng:127.86},Gangwon:{name:"",keywords:["","","","Gangwon"],minLat:37.02,maxLat:38.64,minLng:127.08,maxLng:129.36},Chungbuk:{name:"",keywords:["","","Chungbuk"],minLat:36,maxLat:37.26,minLng:127.27,maxLng:128.64},Chungnam:{name:"",keywords:["","","Chungnam"],minLat:35.97,maxLat:37.07,minLng:125.52,maxLng:127.65},Jeonbuk:{name:"",keywords:["","","","Jeonbuk"],minLat:35.3,maxLat:36.15,minLng:125.96,maxLng:127.95},Jeonnam:{name:"",keywords:["","","Jeonnam"],minLat:33.89,maxLat:35.5,minLng:125.07,maxLng:127.8},Gyeongbuk:{name:"",keywords:["","","Gyeongbuk"],minLat:35.55,maxLat:37.55,minLng:127.8,maxLng:130.94},Gyeongnam:{name:"",keywords:["","","Gyeongnam"],minLat:34.47,maxLat:35.9,minLng:127.56,maxLng:129.25},Jeju:{name:"",keywords:["","","","Jeju"],minLat:33.1,maxLat:34.01,minLng:126.08,maxLng:127}},k8e=({selectedRegion:t,onRegionChange:e})=>i.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"1.    "}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(kp).filter(([r])=>r==="National").map(([r,n])=>i.jsx("button",{onClick:()=>e(r),className:`
                            px-6 py-2 rounded-lg text-sm font-bold transition-all border-2
                            ${t===r?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-blue-50 text-blue-700 border-blue-100 hover:bg-blue-100 hover:border-blue-200"}
                        `,children:n.name},r))}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Object.entries(kp).filter(([r])=>r!=="National").map(([r,n])=>i.jsx("button",{onClick:()=>e(r),className:`
                            px-4 py-2 rounded-lg text-sm font-bold transition-all
                            ${t===r?"bg-indigo-600 text-white shadow-md ring-2 ring-indigo-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                        `,children:n.name},r))}),t&&i.jsxs("p",{className:"mt-2 text-xs text-blue-600 font-medium",children:["*  : ",kp[t].name," (    )"]})]}),S8e=({file:t,regionKey:e})=>{const[r,n]=x.useState([]),[a,s]=x.useState({current:0,total:0}),[l,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState({success:0,error:0,aiFixed:0,duplicate:0}),[b,y]=x.useState([]),[_,w]=x.useState([]),[j,k]=x.useState({show:!1,title:"",path:""}),[E,S]=x.useState("all"),[P,C]=x.useState({}),I=x.useRef(null),$=x.useRef(!1),B=x.useRef(!1),H=x.useRef({kakao:0}),se=x.useRef(0);x.useEffect(()=>{var X;(X=I.current)==null||X.scrollIntoView({behavior:"smooth"})},[r]);const D=(X,Q="info",M)=>{n(G=>[...G,{id:++se.current,message:X,type:Q,timestamp:new Date().toLocaleTimeString(),recordIdx:M}])},R=X=>{const Q=X.split(/\r?\n/);if(Q.length<2)return[];Q[0].split(",").map(G=>G.replace(/"/g,"").trim());const M=[];for(let G=1;G<Q.length;G++){const q=Q[G].trim();if(!q)continue;const ae=[];let ie=!1,be="";for(let te of q)te==='"'?ie=!ie:te===","&&!ie?(ae.push(be.trim()),be=""):be+=te;ae.push(be.trim()),ae.length>0&&M.push(ae)}return M},L=X=>new Promise(Q=>setTimeout(Q,X)),V=()=>T(null,null,function*(){var Yr,Gt,bn,sn,yn,Ht,Le,Ae,We;if(!t||!e)return;u(!0),h(!1),$.current=!1,B.current=!1,n([]),p({success:0,error:0,aiFixed:0,duplicate:0}),y([]),w([]),C({}),H.current={kakao:0};const X=yield t.text(),Q=R(X),M=Q.length>0?X.split(/\r?\n/)[0].split(","):[];let G=-1,q=-1,ae=-1,ie=-1,be=-1,te=-1,he=-1,Y=-1,we=-1;M.map(Oe=>Oe.replace(/"/g,"").trim()).forEach((Oe,Ue)=>{const Fe=Oe.toLowerCase();Fe.includes("")||Fe.includes("")?G=Ue:Fe.includes("")?q=Ue:Fe.includes("")?ae=Ue:Fe.includes("")||Fe==="lat"||Fe==="latitude"?ie=Ue:Fe.includes("")||Fe==="lng"||Fe==="lon"||Fe==="longitude"?be=Ue:Fe.includes("")?te=Ue:Fe.includes("")||Fe.includes("")?he=Ue:Fe.includes("")||Fe.includes("")?Y=Ue:Fe.includes("")&&(we=Ue)}),G===-1&&(G=0),q===-1&&(q=1),ie===-1&&(ie=11),be===-1&&(be=12),D(` : (${G}), (${q}), (${ae}), (${ie}, ${be})`);const ce=Q.length;s({current:0,total:ce});const ue=kp[e],Ie=[],Ve=[],Ze=new Map;let ve=0;D(` : ${ce}  / : ${ue.name} `,"info");const Re=new Map,bt=new Map,hr=new Map,Ir=(Oe,Ue)=>Re.has(Oe)?(D(`[Cache]   : "${Oe}"`,"info",Ue),Re.get(Oe)):Zb(Oe).then(Fe=>(H.current.kakao++,Fe&&Re.set(Oe,Fe),Fe)),Mn=(Oe,Ue)=>bt.has(Oe)?(D(`[Cache]    : "${Oe}"`,"info",Ue),bt.get(Oe)):XM(Oe).then(Fe=>(H.current.kakao++,Fe&&bt.set(Oe,Fe),Fe)),Wr=(Oe,Ue,Fe)=>{const ot=`${Oe.toFixed(6)},${Ue.toFixed(6)}`;return hr.has(ot)?(D(`[Cache]   : ${ot}`,"info",Fe),hr.get(ot)):YM(Oe,Ue).then(_t=>(H.current.kakao++,_t&&hr.set(ot,_t),_t))},St=Oe=>Oe.replace(/\(.*\)/g,"").replace(/\[.*\]/g,"").replace(/[----]/g,"").replace(/[^\w\s-]/g," ").replace(/[a-zA-Z0-9]+\s*F/gi,"").replace(/\d+/g,"").replace(/\d+/g,"").replace(//g,"").replace(/(||||)/g,"").replace(/\s+/g," ").trim(),yr=Oe=>{let Ue="1",Fe=Oe;const ot=Fe.match(/B(\d+)/i)||Fe.match(/\s*(\d+)/);if(ot)Ue=`- ${ot[1]} `,Fe=Fe.replace(ot[0],"");else{const _t=Fe.match(/(\d+)F/i)||Fe.match(/(\d+)/);_t&&(Ue=_t[1],Fe=Fe.replace(_t[0],""))}return{floor:Ue,cleanName:Fe.trim()}},an=(Oe,Ue,Fe,ot)=>{const Et=Oe*Math.PI/180,mt=Fe*Math.PI/180,Pt=(Fe-Oe)*Math.PI/180,_r=(ot-Ue)*Math.PI/180,Kt=Math.sin(Pt/2)*Math.sin(Pt/2)+Math.cos(Et)*Math.cos(mt)*Math.sin(_r/2)*Math.sin(_r/2);return 6371e3*2*Math.atan2(Math.sqrt(Kt),Math.sqrt(1-Kt))},Zt=Oe=>!Oe||e==="National"||Oe.includes(ue.name)?Oe:`${ue.name} ${Oe} `,jt=Oe=>Oe.replace(/\(.*?\)/g,"").trim();for(let Oe=0;Oe<ce;Oe++){for(;B.current&&(yield L(500),!$.current););if($.current)break;const Ue=Q[Oe],Fe=((Yr=te>-1?Ue[te]:"")==null?void 0:Yr.replace(/"/g,""))||"",ot=((Gt=Ue[G])==null?void 0:Gt.replace(/"/g,""))||"",{floor:_t,cleanName:Et}=yr(ot),mt=St(Et),Pt=((bn=Ue[q])==null?void 0:bn.replace(/"/g,"").replace(/\(.*?\)/g,"").trim())||"",_r=((sn=Ue[ae])==null?void 0:sn.replace(/"/g,"").replace(/\(.*?\)/g,"").trim())||"";let Kt=Pt||_r;const Xr=((yn=he>-1?Ue[he]:"0")==null?void 0:yn.replace(/"/g,""))||"0",on=((Ht=Y>-1?Ue[Y]:"0")==null?void 0:Ht.replace(/"/g,""))||"0",gt=((Le=we>-1?Ue[we]:"")==null?void 0:Le.replace(/"/g,""))||"";let It=parseFloat(((Ae=Ue[ie])==null?void 0:Ae.replace(/"/g,""))||"0"),Jt=parseFloat(((We=Ue[be])==null?void 0:We.replace(/"/g,""))||"0"),Aa=It,sa=Jt;if(!ot)continue;let ar=`[${Oe+1}/${ce}] ${ot} `,sr="",Ta=!1,Mr=Kt;const ir=`${mt}|${Kt}`;if(Ze.has(ir)){const Wt=Ze.get(ir);D(`${ar}: [Duplicate]    .`,"warning",Oe),D(` : ${ot} | ${Kt}`,"warning",Oe),D(` : #${Wt.idx+1} ${Wt.name} | ${Wt.address}`,"warning",Oe),ve++,p(Nt=>je(J({},Nt),{duplicate:Nt.duplicate+1})),C(Nt=>je(J({},Nt),{[Oe]:"duplicate"})),s(Nt=>je(J({},Nt),{current:Oe+1}));continue}Ze.set(ir,{idx:Oe,name:ot,address:Kt});let xr=It!==0&&Jt!==0;xr&&(It<ue.minLat||It>ue.maxLat||Jt<ue.minLng||Jt>ue.maxLng)&&(D(`${ar}:   (${ue.name})   -> `,"warning",Oe),xr=!1,It=0,Jt=0,Aa=0,sa=0);try{let Wt=null,Nt="";if(Kt&&Kt.trim()!==ue.name){const Rt=[];Pt&&Rt.push({addr:Zt(Pt),type:"road"}),_r&&_r!==Pt&&Rt.push({addr:Zt(_r),type:"jibun"}),Rt.length===0&&Rt.push({addr:Zt(Kt),type:"general"});for(const vt of Rt){if(Wt)break;D(`${ar}:   [${vt.type}]-> "${vt.addr}"`,"info",Oe);const ne=yield Ir(vt.addr,Oe);if(yield L(100),ne&&ne.address_type!=="REGION"){const xe=yield Wr(ne.lat,ne.lng,Oe);if(yield L(100),xe){const Se=ue.name.substring(0,2),De=ne.lat>=ue.minLat&&ne.lat<=ue.maxLat&&ne.lng>=ue.minLng&&ne.lng<=ue.maxLng,Me=xe.includes(Se);if(De||Me){Wt=ne,Nt=vt.addr;break}}}}}if(Wt){const Rt=Wt.lat,vt=Wt.lng,ne=jt(Wt.address_name);if(Mr=mt&&!ne.includes(mt)?`${ne} ${mt}`:ne,xr){const xe=an(Aa,sa,Rt,vt);xe<=500?(It=Aa,Jt=sa,D(`${ar}: [Keep Original]    (${Math.round(xe)}m)   `,"success",Oe)):(It=Rt,Jt=vt,Ta=!0,D(`${ar}: [Corrected]    (${Math.round(xe)}m) ->   `,"warning",Oe))}else It=Rt,Jt=vt,D(`${ar}:    ->  `,"success",Oe)}else if(xr){It=Aa,Jt=sa,D(`${ar}: [Keep Original]    ->   `,"info",Oe);const Rt=yield Wr(It,Jt,Oe);Rt&&(Mr=mt&&!Rt.includes(mt)?`${jt(Rt)} ${mt}`:jt(Rt),D(`${ar}:      `,"success",Oe))}else if(mt&&mt.length>2){const Rt=e==="National"?mt:`${ue.name} ${mt}`;D(`${ar}: [Fallback]    -> "${Rt}"`,"info",Oe);const vt=yield Mn(Rt,Oe);if(vt){const ne=yield Wr(vt.lat,vt.lng,Oe);ne&&ne.includes(ue.name.substring(0,2))&&(It=vt.lat,Jt=vt.lng,Mr=jt(vt.address_name),D(`${ar}: [Fallback]     `,"success",Oe))}}if((It===0||Jt===0)&&(Kt.includes(ue.name)||(Mr=`${ue.name} ${Kt} `)),!(It>=ue.minLat&&It<=ue.maxLat&&Jt>=ue.minLng&&Jt<=ue.maxLng)&&It!==0&&(D(`${ar}:  ${ue.name}  (${It}, ${Jt})`,"warning",Oe),e!=="National")){const Rt=Kt.includes(ue.name)?Kt:`${ue.name} ${Kt} `;D(`${ar}:     (${Rt})...`,"info",Oe);const vt=yield Ir(Rt,Oe);yield L(100),vt&&vt.address_type!=="REGION"&&vt.lat>=ue.minLat&&vt.lat<=ue.maxLat&&vt.lng>=ue.minLng&&vt.lng<=ue.maxLng&&(It=vt.lat,Jt=vt.lng,Mr=`${jt(vt.address_name)} ${mt} `,D(`${ar}:     `,"success",Oe),Ta=!0)}if(It!==0&&Jt!==0&&It>=ue.minLat&&It<=ue.maxLat&&Jt>=ue.minLng&&Jt<=ue.maxLng){const Rt={type:Fe,toilet_name:mt,address:Mr,floor:_t,male_toilet_count:Xr,female_toilet_count:on,opening_hours:gt,lat:It,lng:Jt,id:crypto.randomUUID(),road_address:Mr,jibun_address:"",is_unisex:!1,password:"",created_at:new Date().toISOString(),is_public:!0,region:ue.name};Ie.push(Rt),p(vt=>je(J({},vt),{success:vt.success+1,aiFixed:vt.aiFixed+(Ta?1:0)})),C(vt=>je(J({},vt),{[Oe]:Ta?"fixed":"success"})),D(`${ar}:  `,"success",Oe)}else sr=It===0?"   ":`  ${ue.name}  `;sr&&(D(`${ar}:   - ${sr} `,"error",Oe),Ve.push({originalRow:Ue,errorReason:sr}),p(Rt=>je(J({},Rt),{error:Rt.error+1})),C(Rt=>je(J({},Rt),{[Oe]:"error"})))}catch(Wt){console.error(Wt);const Nt=Wt instanceof Error?Wt.message:String(Wt);D(`${ar}:   - ${Nt} `,"error",Oe),Ve.push({originalRow:Ue,errorReason:Nt}),p(ga=>je(J({},ga),{error:ga.error+1})),C(ga=>je(J({},ga),{[Oe]:"error"}))}s(Wt=>je(J({},Wt),{current:Oe+1}))}y(Ie),w(Ve),u(!1),D("==============================================","info"),D(` API  :   ${H.current.kakao} `,"info"),D(` ! : ${Ie.length},  : ${ve}, : ${Ve.length} `,"info")}),Z=()=>{h(!d),B.current=!B.current,B.current?D(" ","warning"):D(" ","info")},U=()=>T(null,null,function*(){if(b.length===0)return;const M="\uFEFF"+[["","","","","","","","WGS84","WGS84"].join(","),...b.map(q=>[`"${q.type}"`,`"${q.toilet_name}"`,`"${q.address}"`,`"${q.floor}"`,`"${q.male_toilet_count}"`,`"${q.female_toilet_count}"`,`"${q.opening_hours}"`,q.lat,q.lng].join(","))].join(`
`),G=`Cleaned_${e}_${Date.now()}.csv`;try{const ae=yield(yield fetch("/__save_file__",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:G,content:M})})).json();if(ae.success)k({show:!0,title:"   ",path:ae.path});else throw new Error(ae.error)}catch(q){alert(`  : ${q.message} `)}}),K=()=>T(null,null,function*(){if(_.length===0)return;const q="\uFEFF"+[[...(yield t.text()).split(/\r?\n/)[0].split(",").map(ie=>ie.replace(/"/g,"").trim()),""].join(","),..._.map(ie=>[...ie.originalRow.map(te=>`"${te.replace(/"/g,"")}"`),`"${ie.errorReason}"`].join(","))].join(`
`),ae=`Errors_${e}_${Date.now()}.csv`;try{const be=yield(yield fetch("/__save_file__",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:ae,content:q})})).json();if(be.success)k({show:!0,title:"   ",path:be.path});else throw new Error(be.error)}catch(ie){alert(`   : ${ie.message}`)}}),W=()=>T(null,null,function*(){if(r.length===0)return;const M="\uFEFF"+[["","",""].join(","),...r.map(q=>[`"${q.timestamp}"`,`"${q.type}"`,`"${q.message.replace(/"/g,'""')}"`].join(","))].join(`
`),G=`Log_${e}_${Date.now()}.csv`;try{const ae=yield(yield fetch("/__save_file__",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:G,content:M})})).json();if(ae.success)k({show:!0,title:"  ",path:ae.path});else throw new Error(ae.error)}catch(q){alert(`  : ${q.message}`)}});return i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 mt-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[i.jsx(ht,{className:`w-5 h-5 ${l?"animate-spin text-blue-500":"text-gray-400"}`})," "]}),i.jsxs("div",{className:"flex gap-2",children:[l&&i.jsxs("button",{onClick:Z,className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-sm font-bold flex items-center gap-1",children:[d?i.jsx(lT,{className:"w-4 h-4"}):i.jsx(Lje,{className:"w-4 h-4"}),d?"":""]}),!l&&t&&i.jsxs("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-blue-700",children:[i.jsx(lT,{className:"w-4 h-4"})," "]})]})]}),a.total>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[i.jsxs("span",{children:[": ",Math.floor(a.current/a.total*100),"%"]}),i.jsxs("span",{children:[a.current," / ",a.total]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.current/a.total*100}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-4",children:[i.jsxs("div",{onClick:()=>S("all"),className:`p-3 rounded-lg border transition-all cursor-pointer ${E==="all"?"bg-gray-100 border-gray-400 ring-2 ring-gray-200":"bg-white border-gray-100 hover:bg-gray-50"}`,children:[i.jsx("div",{className:"text-gray-600 font-bold text-xl",children:a.total}),i.jsx("div",{className:"text-xs text-gray-500 font-medium",children:""})]}),i.jsxs("div",{onClick:()=>S("success"),className:`p-3 rounded-lg border transition-all cursor-pointer ${E==="success"?"bg-green-100 border-green-400 ring-2 ring-green-200":"bg-green-50 border-green-100 hover:bg-green-100/50"}`,children:[i.jsx("div",{className:"text-green-600 font-bold text-xl",children:m.success}),i.jsx("div",{className:"text-xs text-green-700 font-medium",children:""})]}),i.jsxs("div",{onClick:()=>S("fixed"),className:`p-3 rounded-lg border transition-all cursor-pointer ${E==="fixed"?"bg-indigo-100 border-indigo-400 ring-2 ring-indigo-200":"bg-indigo-50 border-indigo-100 hover:bg-indigo-100/50"}`,children:[i.jsx("div",{className:"text-indigo-600 font-bold text-xl",children:m.aiFixed}),i.jsx("div",{className:"text-xs text-indigo-700 font-medium",children:""})]}),i.jsxs("div",{onClick:()=>S("duplicate"),className:`p-3 rounded-lg border transition-all cursor-pointer ${E==="duplicate"?"bg-amber-100 border-amber-400 ring-2 ring-amber-200":"bg-amber-50 border-amber-100 hover:bg-amber-100/50"}`,children:[i.jsx("div",{className:"text-amber-600 font-bold text-xl",children:m.duplicate}),i.jsx("div",{className:"text-xs text-amber-700 font-medium",children:""})]}),i.jsxs("div",{onClick:()=>S("error"),className:`p-3 rounded-lg border transition-all cursor-pointer ${E==="error"?"bg-red-100 border-red-400 ring-2 ring-red-200":"bg-red-50 border-red-100 hover:bg-red-100/50"}`,children:[i.jsx("div",{className:"text-red-600 font-bold text-xl",children:m.error}),i.jsx("div",{className:"text-xs text-red-700 font-medium",children:""})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 h-80 overflow-y-auto font-mono text-xs space-y-1 mb-6",children:[r.length===0&&i.jsx("div",{className:"text-gray-500 text-center py-20",children:" ...    ."}),r.filter(X=>E==="all"?!0:X.recordIdx===void 0?!1:P[X.recordIdx]===E).map(X=>i.jsxs("div",{className:`flex gap-2 animate-in slide-in-from-left-2 duration-200 ${X.type==="error"?"text-red-400":X.type==="success"?"text-green-400":X.type==="warning"?"text-amber-400":X.type==="ai"?"text-purple-400":"text-gray-300"}`,children:[i.jsxs("span",{className:"text-gray-600 shrink-0",children:["[",X.timestamp,"]"]}),i.jsx("span",{children:X.message})]},X.id)),i.jsx("div",{ref:I})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:U,disabled:b.length===0,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(Oj,{className:"w-5 h-5"}),"    (",b.length,")"]}),i.jsxs("button",{onClick:K,disabled:_.length===0,className:"flex-1 py-3 bg-red-100 text-red-600 rounded-xl font-bold hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(io,{className:"w-5 h-5"}),"   (",_.length,")"]}),i.jsxs("button",{onClick:W,disabled:r.length===0,className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(wl,{className:"w-5 h-5"}),"  (",r.length,")"]})]}),j.show&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-200",children:i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(kc,{className:"w-10 h-10 text-green-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:j.title}),i.jsx("p",{className:"text-gray-500 mb-6",children:"    ."}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-8 text-left border border-gray-100",children:[i.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase block mb-1",children:" "}),i.jsx("code",{className:"text-sm text-blue-600 break-all font-mono",children:j.path})]}),i.jsx("button",{onClick:()=>k(je(J({},j),{show:!1})),className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg",children:""})]})})})]})},E8e=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(null),a=s=>{s.target.files&&s.target.files[0]&&n(s.target.files[0])};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"   "}),i.jsx("p",{className:"text-gray-500 mt-1",children:"  CSV  ,   AI       ."})]}),i.jsx(k8e,{selectedRegion:t,onRegionChange:e}),i.jsxs("div",{className:`bg-white p-6 rounded-xl border border-gray-200 transition-opacity ${t?"":"opacity-50 pointer-events-none"}`,children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"2.  CSV  "}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("label",{className:"flex-1 cursor-pointer group",children:i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 flex flex-col items-center justify-center bg-gray-50 group-hover:bg-blue-50 group-hover:border-blue-300 transition-all",children:[r?i.jsxs(i.Fragment,{children:[i.jsx(wl,{className:"w-10 h-10 text-blue-600 mb-3"}),i.jsx("p",{className:"font-bold text-gray-900",children:r.name}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[(r.size/1024).toFixed(1)," KB"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(yl,{className:"w-10 h-10 text-gray-400 group-hover:text-blue-500 mb-3"}),i.jsx("p",{className:"font-medium text-gray-600 group-hover:text-blue-600",children:" CSV  "})]}),i.jsx("input",{type:"file",className:"hidden",accept:".csv",onChange:a})]})}),i.jsxs("div",{className:"hidden md:flex flex-col gap-2 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold",children:"1"}),i.jsx("span",{children:" "})]}),i.jsx("div",{className:"h-4 w-px bg-gray-300 ml-3"}),i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 font-bold",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center text-xs",children:"2"}),i.jsx("span",{children:" "})]}),i.jsx("div",{className:"h-4 w-px bg-gray-300 ml-3"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold",children:"3"}),i.jsx("span",{children:"  "})]})]})]})]}),t&&r&&i.jsx("div",{className:"animate-fade-in-up",children:i.jsx(S8e,{file:r,regionKey:t})})]})},A8e=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState({msg_review_reminder:"",msg_review_received:"",msg_report_received:"",msg_nightlife_mon:"",msg_nightlife_tue:"",msg_nightlife_wed:"",msg_nightlife_thu:"",msg_nightlife_fri:"",msg_nightlife_sat:"",msg_nightlife_sun:"",msg_milestone_reached:"",milestone_threshold:"",msg_level_up:"",msg_point_gift:"",msg_new_toilet_nearby:"",new_toilet_radius:""}),a=()=>T(null,null,function*(){e(!0);try{const d=Object.keys(r),h=yield Promise.all(d.map(p=>oe.getSystemSetting(p,""))),m={};d.forEach((p,b)=>m[p]=h[b]),n(m)}catch(d){console.error(d),alert("  .")}finally{e(!1)}});x.useEffect(()=>{a()},[]);const s=(d,h)=>{n(m=>je(J({},m),{[d]:h}))},l=(d,h)=>T(null,null,function*(){const m=r[d];e(!0);try{yield oe.setSystemSetting(d,m,h),alert(".")}catch(p){console.error(p),alert(" .")}finally{e(!1)}}),u=(d,h,m,p,b="textarea")=>i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:h}),i.jsx("p",{className:"text-xs text-gray-500",children:m})]}),i.jsxs("div",{className:"flex gap-4",children:[b==="textarea"?i.jsx("textarea",{value:r[d],onChange:y=>s(d,y.target.value),placeholder:p,className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 min-h-[80px] text-sm"}):i.jsx("input",{type:"text",value:r[d],onChange:y=>s(d,y.target.value),placeholder:p,className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 text-sm"}),i.jsx("button",{onClick:()=>l(d,h),disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 disabled:opacity-50 h-fit self-end shrink-0 text-sm",children:""})]})]});return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(P6,{className:"w-8 h-8 text-blue-600"}),"  "]}),i.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(Wp,{className:`w-5 h-5 ${t?"animate-spin":""}`})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 border-b pb-2",children:"   "}),u("msg_review_reminder","   ( 5 )","     5  ","   ?"),u("msg_review_received","    ","      (: [name])","[name]    ."),u("msg_report_received","    ","     (: [name], [reason])","[name]    . (: [reason])")]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 border-b pb-2",children:" /  ()"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4 bg-gray-50 p-3 rounded-lg",children:"(  1)  (  )    ."}),u("msg_nightlife_mon"," ","  ","..."),u("msg_nightlife_tue"," ","  ","..."),u("msg_nightlife_wed"," ","  ","..."),u("msg_nightlife_thu"," ","  ","..."),u("msg_nightlife_fri"," ","  ","..."),u("msg_nightlife_sat"," ","   ( )"," ..."),u("msg_nightlife_sun"," ","   ( )"," ...")]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 border-b pb-2",children:"   "}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u("milestone_threshold","   ()","      (: 10)","10","text"),u("new_toilet_radius","    (km)","     (: 2.0)","2.0","text")]}),u("msg_milestone_reached","  ","   (: [name], [count])","! [name]  [count] !"),u("msg_level_up","  ","    (: [old], [new], [reward])","! [new]  !"),u("msg_point_gift","  ","    (: [amount], [reason])"," [amount]  ! (: [reason])"),u("msg_new_toilet_nearby","   ","     (: [radius], [count])","  [radius]km  [count]  !")]})]})};var QM=typeof global=="object"&&global&&global.Object===Object&&global,T8e=typeof self=="object"&&self&&self.Object===Object&&self,Ei=QM||T8e||Function("return this")(),Tl=Ei.Symbol,e8=Object.prototype,O8e=e8.hasOwnProperty,C8e=e8.toString,Ff=Tl?Tl.toStringTag:void 0;function $8e(t){var e=O8e.call(t,Ff),r=t[Ff];try{t[Ff]=void 0;var n=!0}catch(s){}var a=C8e.call(t);return n&&(e?t[Ff]=r:delete t[Ff]),a}var P8e=Object.prototype,R8e=P8e.toString;function D8e(t){return R8e.call(t)}var L8e="[object Null]",I8e="[object Undefined]",R4=Tl?Tl.toStringTag:void 0;function zd(t){return t==null?t===void 0?I8e:L8e:R4&&R4 in Object(t)?$8e(t):D8e(t)}function go(t){return t!=null&&typeof t=="object"}var Pc=Array.isArray;function Rl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function t8(t){return t}var M8e="[object AsyncFunction]",U8e="[object Function]",q8e="[object GeneratorFunction]",B8e="[object Proxy]";function q2(t){if(!Rl(t))return!1;var e=zd(t);return e==U8e||e==q8e||e==M8e||e==B8e}var aw=Ei["__core-js_shared__"],D4=(function(){var t=/[^.]+$/.exec(aw&&aw.keys&&aw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function z8e(t){return!!D4&&D4 in t}var F8e=Function.prototype,H8e=F8e.toString;function Uc(t){if(t!=null){try{return H8e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var K8e=/[\\^$.*+?()[\]{}|]/g,V8e=/^\[object .+?Constructor\]$/,G8e=Function.prototype,W8e=Object.prototype,Y8e=G8e.toString,X8e=W8e.hasOwnProperty,Z8e=RegExp("^"+Y8e.call(X8e).replace(K8e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J8e(t){if(!Rl(t)||z8e(t))return!1;var e=q2(t)?Z8e:V8e;return e.test(Uc(t))}function Q8e(t,e){return t==null?void 0:t[e]}function qc(t,e){var r=Q8e(t,e);return J8e(r)?r:void 0}var X1=qc(Ei,"WeakMap"),L4=Object.create,e7e=(function(){function t(){}return function(e){if(!Rl(e))return{};if(L4)return L4(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function t7e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function r7e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var n7e=800,a7e=16,s7e=Date.now;function i7e(t){var e=0,r=0;return function(){var n=s7e(),a=a7e-(n-r);if(r=n,a>0){if(++e>=n7e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function o7e(t){return function(){return t}}var K0=(function(){try{var t=qc(Object,"defineProperty");return t({},"",{}),t}catch(e){}})(),l7e=K0?function(t,e){return K0(t,"toString",{configurable:!0,enumerable:!1,value:o7e(e),writable:!0})}:t8,c7e=i7e(l7e);function u7e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var d7e=9007199254740991,f7e=/^(?:0|[1-9]\d*)$/;function r8(t,e){var r=typeof t;return e=e==null?d7e:e,!!e&&(r=="number"||r!="symbol"&&f7e.test(t))&&t>-1&&t%1==0&&t<e}function B2(t,e,r){e=="__proto__"&&K0?K0(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function gm(t,e){return t===e||t!==t&&e!==e}var h7e=Object.prototype,m7e=h7e.hasOwnProperty;function n8(t,e,r){var n=t[e];(!(m7e.call(t,e)&&gm(n,r))||r===void 0&&!(e in t))&&B2(t,e,r)}function g7e(t,e,r,n){var a=!r;r||(r={});for(var s=-1,l=e.length;++s<l;){var u=e[s],d=void 0;d===void 0&&(d=t[u]),a?B2(r,u,d):n8(r,u,d)}return r}var I4=Math.max;function p7e(t,e,r){return e=I4(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=I4(n.length-e,0),l=Array(s);++a<s;)l[a]=n[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=n[a];return u[e]=r(l),t7e(t,this,u)}}function b7e(t,e){return c7e(p7e(t,e,t8),t+"")}var y7e=9007199254740991;function a8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=y7e}function Jb(t){return t!=null&&a8(t.length)&&!q2(t)}function _7e(t,e,r){if(!Rl(r))return!1;var n=typeof e;return(n=="number"?Jb(r)&&r8(e,r.length):n=="string"&&e in r)?gm(r[e],t):!1}function x7e(t){return b7e(function(e,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(a--,s):void 0,l&&_7e(r[0],r[1],l)&&(s=a<3?void 0:s,a=1),e=Object(e);++n<a;){var u=r[n];u&&t(e,u,n,s)}return e})}var v7e=Object.prototype;function z2(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||v7e;return t===r}function w7e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var j7e="[object Arguments]";function M4(t){return go(t)&&zd(t)==j7e}var s8=Object.prototype,N7e=s8.hasOwnProperty,k7e=s8.propertyIsEnumerable,Z1=M4((function(){return arguments})())?M4:function(t){return go(t)&&N7e.call(t,"callee")&&!k7e.call(t,"callee")};function S7e(){return!1}var i8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,U4=i8&&typeof module=="object"&&module&&!module.nodeType&&module,E7e=U4&&U4.exports===i8,q4=E7e?Ei.Buffer:void 0,A7e=q4?q4.isBuffer:void 0,Ch=A7e||S7e,T7e="[object Arguments]",O7e="[object Array]",C7e="[object Boolean]",$7e="[object Date]",P7e="[object Error]",R7e="[object Function]",D7e="[object Map]",L7e="[object Number]",I7e="[object Object]",M7e="[object RegExp]",U7e="[object Set]",q7e="[object String]",B7e="[object WeakMap]",z7e="[object ArrayBuffer]",F7e="[object DataView]",H7e="[object Float32Array]",K7e="[object Float64Array]",V7e="[object Int8Array]",G7e="[object Int16Array]",W7e="[object Int32Array]",Y7e="[object Uint8Array]",X7e="[object Uint8ClampedArray]",Z7e="[object Uint16Array]",J7e="[object Uint32Array]",jr={};jr[H7e]=jr[K7e]=jr[V7e]=jr[G7e]=jr[W7e]=jr[Y7e]=jr[X7e]=jr[Z7e]=jr[J7e]=!0;jr[T7e]=jr[O7e]=jr[z7e]=jr[C7e]=jr[F7e]=jr[$7e]=jr[P7e]=jr[R7e]=jr[D7e]=jr[L7e]=jr[I7e]=jr[M7e]=jr[U7e]=jr[q7e]=jr[B7e]=!1;function Q7e(t){return go(t)&&a8(t.length)&&!!jr[zd(t)]}function F2(t){return function(e){return t(e)}}var o8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ah=o8&&typeof module=="object"&&module&&!module.nodeType&&module,e9e=ah&&ah.exports===o8,sw=e9e&&QM.process,vd=(function(){try{var t=ah&&ah.require&&ah.require("util").types;return t||sw&&sw.binding&&sw.binding("util")}catch(e){}})(),B4=vd&&vd.isTypedArray,H2=B4?F2(B4):Q7e,t9e=Object.prototype,r9e=t9e.hasOwnProperty;function l8(t,e){var r=Pc(t),n=!r&&Z1(t),a=!r&&!n&&Ch(t),s=!r&&!n&&!a&&H2(t),l=r||n||a||s,u=l?w7e(t.length,String):[],d=u.length;for(var h in t)(e||r9e.call(t,h))&&!(l&&(h=="length"||a&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||r8(h,d)))&&u.push(h);return u}function c8(t,e){return function(r){return t(e(r))}}var n9e=c8(Object.keys,Object),a9e=Object.prototype,s9e=a9e.hasOwnProperty;function i9e(t){if(!z2(t))return n9e(t);var e=[];for(var r in Object(t))s9e.call(t,r)&&r!="constructor"&&e.push(r);return e}function o9e(t){return Jb(t)?l8(t):i9e(t)}function l9e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var c9e=Object.prototype,u9e=c9e.hasOwnProperty;function d9e(t){if(!Rl(t))return l9e(t);var e=z2(t),r=[];for(var n in t)n=="constructor"&&(e||!u9e.call(t,n))||r.push(n);return r}function u8(t){return Jb(t)?l8(t,!0):d9e(t)}var $h=qc(Object,"create");function f9e(){this.__data__=$h?$h(null):{},this.size=0}function h9e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var m9e="__lodash_hash_undefined__",g9e=Object.prototype,p9e=g9e.hasOwnProperty;function b9e(t){var e=this.__data__;if($h){var r=e[t];return r===m9e?void 0:r}return p9e.call(e,t)?e[t]:void 0}var y9e=Object.prototype,_9e=y9e.hasOwnProperty;function x9e(t){var e=this.__data__;return $h?e[t]!==void 0:_9e.call(e,t)}var v9e="__lodash_hash_undefined__";function w9e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$h&&e===void 0?v9e:e,this}function Rc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rc.prototype.clear=f9e;Rc.prototype.delete=h9e;Rc.prototype.get=b9e;Rc.prototype.has=x9e;Rc.prototype.set=w9e;function j9e(){this.__data__=[],this.size=0}function Qb(t,e){for(var r=t.length;r--;)if(gm(t[r][0],e))return r;return-1}var N9e=Array.prototype,k9e=N9e.splice;function S9e(t){var e=this.__data__,r=Qb(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():k9e.call(e,r,1),--this.size,!0}function E9e(t){var e=this.__data__,r=Qb(e,t);return r<0?void 0:e[r][1]}function A9e(t){return Qb(this.__data__,t)>-1}function T9e(t,e){var r=this.__data__,n=Qb(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function So(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}So.prototype.clear=j9e;So.prototype.delete=S9e;So.prototype.get=E9e;So.prototype.has=A9e;So.prototype.set=T9e;var Ph=qc(Ei,"Map");function O9e(){this.size=0,this.__data__={hash:new Rc,map:new(Ph||So),string:new Rc}}function C9e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ey(t,e){var r=t.__data__;return C9e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function $9e(t){var e=ey(this,t).delete(t);return this.size-=e?1:0,e}function P9e(t){return ey(this,t).get(t)}function R9e(t){return ey(this,t).has(t)}function D9e(t,e){var r=ey(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Bc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bc.prototype.clear=O9e;Bc.prototype.delete=$9e;Bc.prototype.get=P9e;Bc.prototype.has=R9e;Bc.prototype.set=D9e;function L9e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var d8=c8(Object.getPrototypeOf,Object),I9e="[object Object]",M9e=Function.prototype,U9e=Object.prototype,f8=M9e.toString,q9e=U9e.hasOwnProperty,B9e=f8.call(Object);function z9e(t){if(!go(t)||zd(t)!=I9e)return!1;var e=d8(t);if(e===null)return!0;var r=q9e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&f8.call(r)==B9e}function F9e(){this.__data__=new So,this.size=0}function H9e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function K9e(t){return this.__data__.get(t)}function V9e(t){return this.__data__.has(t)}var G9e=200;function W9e(t,e){var r=this.__data__;if(r instanceof So){var n=r.__data__;if(!Ph||n.length<G9e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bc(n)}return r.set(t,e),this.size=r.size,this}function gi(t){var e=this.__data__=new So(t);this.size=e.size}gi.prototype.clear=F9e;gi.prototype.delete=H9e;gi.prototype.get=K9e;gi.prototype.has=V9e;gi.prototype.set=W9e;var h8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z4=h8&&typeof module=="object"&&module&&!module.nodeType&&module,Y9e=z4&&z4.exports===h8,F4=Y9e?Ei.Buffer:void 0,H4=F4?F4.allocUnsafe:void 0;function m8(t,e){if(e)return t.slice();var r=t.length,n=H4?H4(r):new t.constructor(r);return t.copy(n),n}function X9e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var l=t[r];e(l,r,t)&&(s[a++]=l)}return s}function Z9e(){return[]}var J9e=Object.prototype,Q9e=J9e.propertyIsEnumerable,K4=Object.getOwnPropertySymbols,eUe=K4?function(t){return t==null?[]:(t=Object(t),X9e(K4(t),function(e){return Q9e.call(t,e)}))}:Z9e;function tUe(t,e,r){var n=e(t);return Pc(t)?n:L9e(n,r(t))}function J1(t){return tUe(t,o9e,eUe)}var Q1=qc(Ei,"DataView"),ej=qc(Ei,"Promise"),tj=qc(Ei,"Set"),V4="[object Map]",rUe="[object Object]",G4="[object Promise]",W4="[object Set]",Y4="[object WeakMap]",X4="[object DataView]",nUe=Uc(Q1),aUe=Uc(Ph),sUe=Uc(ej),iUe=Uc(tj),oUe=Uc(X1),Ps=zd;(Q1&&Ps(new Q1(new ArrayBuffer(1)))!=X4||Ph&&Ps(new Ph)!=V4||ej&&Ps(ej.resolve())!=G4||tj&&Ps(new tj)!=W4||X1&&Ps(new X1)!=Y4)&&(Ps=function(t){var e=zd(t),r=e==rUe?t.constructor:void 0,n=r?Uc(r):"";if(n)switch(n){case nUe:return X4;case aUe:return V4;case sUe:return G4;case iUe:return W4;case oUe:return Y4}return e});var lUe=Object.prototype,cUe=lUe.hasOwnProperty;function uUe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&cUe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var V0=Ei.Uint8Array;function K2(t){var e=new t.constructor(t.byteLength);return new V0(e).set(new V0(t)),e}function dUe(t,e){var r=K2(t.buffer);return new t.constructor(r,t.byteOffset,t.byteLength)}var fUe=/\w*$/;function hUe(t){var e=new t.constructor(t.source,fUe.exec(t));return e.lastIndex=t.lastIndex,e}var Z4=Tl?Tl.prototype:void 0,J4=Z4?Z4.valueOf:void 0;function mUe(t){return J4?Object(J4.call(t)):{}}function g8(t,e){var r=e?K2(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var gUe="[object Boolean]",pUe="[object Date]",bUe="[object Map]",yUe="[object Number]",_Ue="[object RegExp]",xUe="[object Set]",vUe="[object String]",wUe="[object Symbol]",jUe="[object ArrayBuffer]",NUe="[object DataView]",kUe="[object Float32Array]",SUe="[object Float64Array]",EUe="[object Int8Array]",AUe="[object Int16Array]",TUe="[object Int32Array]",OUe="[object Uint8Array]",CUe="[object Uint8ClampedArray]",$Ue="[object Uint16Array]",PUe="[object Uint32Array]";function RUe(t,e,r){var n=t.constructor;switch(e){case jUe:return K2(t);case gUe:case pUe:return new n(+t);case NUe:return dUe(t);case kUe:case SUe:case EUe:case AUe:case TUe:case OUe:case CUe:case $Ue:case PUe:return g8(t,r);case bUe:return new n;case yUe:case vUe:return new n(t);case _Ue:return hUe(t);case xUe:return new n;case wUe:return mUe(t)}}function p8(t){return typeof t.constructor=="function"&&!z2(t)?e7e(d8(t)):{}}var DUe="[object Map]";function LUe(t){return go(t)&&Ps(t)==DUe}var Q4=vd&&vd.isMap,IUe=Q4?F2(Q4):LUe,MUe="[object Set]";function UUe(t){return go(t)&&Ps(t)==MUe}var e$=vd&&vd.isSet,qUe=e$?F2(e$):UUe,BUe=1,b8="[object Arguments]",zUe="[object Array]",FUe="[object Boolean]",HUe="[object Date]",KUe="[object Error]",y8="[object Function]",VUe="[object GeneratorFunction]",GUe="[object Map]",WUe="[object Number]",_8="[object Object]",YUe="[object RegExp]",XUe="[object Set]",ZUe="[object String]",JUe="[object Symbol]",QUe="[object WeakMap]",eqe="[object ArrayBuffer]",tqe="[object DataView]",rqe="[object Float32Array]",nqe="[object Float64Array]",aqe="[object Int8Array]",sqe="[object Int16Array]",iqe="[object Int32Array]",oqe="[object Uint8Array]",lqe="[object Uint8ClampedArray]",cqe="[object Uint16Array]",uqe="[object Uint32Array]",gr={};gr[b8]=gr[zUe]=gr[eqe]=gr[tqe]=gr[FUe]=gr[HUe]=gr[rqe]=gr[nqe]=gr[aqe]=gr[sqe]=gr[iqe]=gr[GUe]=gr[WUe]=gr[_8]=gr[YUe]=gr[XUe]=gr[ZUe]=gr[JUe]=gr[oqe]=gr[lqe]=gr[cqe]=gr[uqe]=!0;gr[KUe]=gr[y8]=gr[QUe]=!1;function Sp(t,e,r,n,a,s){var l,u=e&BUe;if(l!==void 0)return l;if(!Rl(t))return t;var d=Pc(t);if(d)l=uUe(t);else{var h=Ps(t),m=h==y8||h==VUe;if(Ch(t))return m8(t,u);if(h==_8||h==b8||m&&!a)l=m?{}:p8(t);else{if(!gr[h])return a?t:{};l=RUe(t,h,u)}}s||(s=new gi);var p=s.get(t);if(p)return p;s.set(t,l),qUe(t)?t.forEach(function(_){l.add(Sp(_,e,r,_,t,s))}):IUe(t)&&t.forEach(function(_,w){l.set(w,Sp(_,e,r,w,t,s))});var b=J1,y=d?void 0:b(t);return u7e(y||t,function(_,w){y&&(w=_,_=t[w]),n8(l,w,Sp(_,e,r,w,t,s))}),l}var dqe=1,fqe=4;function nd(t){return Sp(t,dqe|fqe)}var hqe="__lodash_hash_undefined__";function mqe(t){return this.__data__.set(t,hqe),this}function gqe(t){return this.__data__.has(t)}function G0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Bc;++e<r;)this.add(t[e])}G0.prototype.add=G0.prototype.push=mqe;G0.prototype.has=gqe;function pqe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function bqe(t,e){return t.has(e)}var yqe=1,_qe=2;function x8(t,e,r,n,a,s){var l=r&yqe,u=t.length,d=e.length;if(u!=d&&!(l&&d>u))return!1;var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var p=-1,b=!0,y=r&_qe?new G0:void 0;for(s.set(t,e),s.set(e,t);++p<u;){var _=t[p],w=e[p];if(n)var j=l?n(w,_,p,e,t,s):n(_,w,p,t,e,s);if(j!==void 0){if(j)continue;b=!1;break}if(y){if(!pqe(e,function(k,E){if(!bqe(y,E)&&(_===k||a(_,k,r,n,s)))return y.push(E)})){b=!1;break}}else if(!(_===w||a(_,w,r,n,s))){b=!1;break}}return s.delete(t),s.delete(e),b}function xqe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}function vqe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var wqe=1,jqe=2,Nqe="[object Boolean]",kqe="[object Date]",Sqe="[object Error]",Eqe="[object Map]",Aqe="[object Number]",Tqe="[object RegExp]",Oqe="[object Set]",Cqe="[object String]",$qe="[object Symbol]",Pqe="[object ArrayBuffer]",Rqe="[object DataView]",t$=Tl?Tl.prototype:void 0,iw=t$?t$.valueOf:void 0;function Dqe(t,e,r,n,a,s,l){switch(r){case Rqe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Pqe:return!(t.byteLength!=e.byteLength||!s(new V0(t),new V0(e)));case Nqe:case kqe:case Aqe:return gm(+t,+e);case Sqe:return t.name==e.name&&t.message==e.message;case Tqe:case Cqe:return t==e+"";case Eqe:var u=xqe;case Oqe:var d=n&wqe;if(u||(u=vqe),t.size!=e.size&&!d)return!1;var h=l.get(t);if(h)return h==e;n|=jqe,l.set(t,e);var m=x8(u(t),u(e),n,a,s,l);return l.delete(t),m;case $qe:if(iw)return iw.call(t)==iw.call(e)}return!1}var Lqe=1,Iqe=Object.prototype,Mqe=Iqe.hasOwnProperty;function Uqe(t,e,r,n,a,s){var l=r&Lqe,u=J1(t),d=u.length,h=J1(e),m=h.length;if(d!=m&&!l)return!1;for(var p=d;p--;){var b=u[p];if(!(l?b in e:Mqe.call(e,b)))return!1}var y=s.get(t),_=s.get(e);if(y&&_)return y==e&&_==t;var w=!0;s.set(t,e),s.set(e,t);for(var j=l;++p<d;){b=u[p];var k=t[b],E=e[b];if(n)var S=l?n(E,k,b,e,t,s):n(k,E,b,t,e,s);if(!(S===void 0?k===E||a(k,E,r,n,s):S)){w=!1;break}j||(j=b=="constructor")}if(w&&!j){var P=t.constructor,C=e.constructor;P!=C&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof C=="function"&&C instanceof C)&&(w=!1)}return s.delete(t),s.delete(e),w}var qqe=1,r$="[object Arguments]",n$="[object Array]",np="[object Object]",Bqe=Object.prototype,a$=Bqe.hasOwnProperty;function zqe(t,e,r,n,a,s){var l=Pc(t),u=Pc(e),d=l?n$:Ps(t),h=u?n$:Ps(e);d=d==r$?np:d,h=h==r$?np:h;var m=d==np,p=h==np,b=d==h;if(b&&Ch(t)){if(!Ch(e))return!1;l=!0,m=!1}if(b&&!m)return s||(s=new gi),l||H2(t)?x8(t,e,r,n,a,s):Dqe(t,e,d,r,n,a,s);if(!(r&qqe)){var y=m&&a$.call(t,"__wrapped__"),_=p&&a$.call(e,"__wrapped__");if(y||_){var w=y?t.value():t,j=_?e.value():e;return s||(s=new gi),a(w,j,r,n,s)}}return b?(s||(s=new gi),Uqe(t,e,r,n,a,s)):!1}function v8(t,e,r,n,a){return t===e?!0:t==null||e==null||!go(t)&&!go(e)?t!==t&&e!==e:zqe(t,e,r,n,v8,a)}function Fqe(t){return function(e,r,n){for(var a=-1,s=Object(e),l=n(e),u=l.length;u--;){var d=l[++a];if(r(s[d],d,s)===!1)break}return e}}var Hqe=Fqe();function rj(t,e,r){(r!==void 0&&!gm(t[e],r)||r===void 0&&!(e in t))&&B2(t,e,r)}function Kqe(t){return go(t)&&Jb(t)}function nj(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Vqe(t){return g7e(t,u8(t))}function Gqe(t,e,r,n,a,s,l){var u=nj(t,r),d=nj(e,r),h=l.get(d);if(h){rj(t,r,h);return}var m=s?s(u,d,r+"",t,e,l):void 0,p=m===void 0;if(p){var b=Pc(d),y=!b&&Ch(d),_=!b&&!y&&H2(d);m=d,b||y||_?Pc(u)?m=u:Kqe(u)?m=r7e(u):y?(p=!1,m=m8(d,!0)):_?(p=!1,m=g8(d,!0)):m=[]:z9e(d)||Z1(d)?(m=u,Z1(u)?m=Vqe(u):(!Rl(u)||q2(u))&&(m=p8(d))):p=!1}p&&(l.set(d,m),a(m,d,n,s,l),l.delete(d)),rj(t,r,m)}function w8(t,e,r,n,a){t!==e&&Hqe(e,function(s,l){if(a||(a=new gi),Rl(s))Gqe(t,e,l,r,w8,n,a);else{var u=n?n(nj(t,l),s,l+"",t,e,a):void 0;u===void 0&&(u=s),rj(t,l,u)}},u8)}function ml(t,e){return v8(t,e)}var vl=x7e(function(t,e,r){w8(t,e,r)}),st=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(st||{});class wi{constructor(e,r,n={}){this.attrName=e,this.keyName=r;const a=st.TYPE&st.ATTRIBUTE;this.scope=n.scope!=null?n.scope&st.LEVEL|a:st.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return this.canAdd(e,r)?(e.setAttribute(this.keyName,r),!0):!1}canAdd(e,r){return this.whitelist==null?!0:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class ad extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const j8=class aj{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let n=null;try{n=e.parentNode}catch(a){return null}return this.find(n,r)}return null}create(e,r,n){const a=this.query(r);if(a==null)throw new ad(`Unable to create ${r} blot`);const s=a,l=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:s.create(n),u=new s(e,l,n);return aj.blots.set(u.domNode,u),u}find(e,r=!1){return aj.find(e,r)}query(e,r=st.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&st.LEVEL&st.BLOCK?n=this.types.block:e&st.LEVEL&st.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(n=this.classes[a],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&r&st.LEVEL&n.scope&&r&st.TYPE&n.scope?n:null}register(...e){return e.map(r=>{const n="blotName"in r,a="attrName"in r;if(!n&&!a)throw new ad("Invalid definition");if(n&&r.blotName==="abstract")throw new ad("Cannot register abstract class");const s=n?r.blotName:a?r.attrName:void 0;return this.types[s]=r,a?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):n&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(l=>l.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(l=>{(this.tags[l]==null||r.className==null)&&(this.tags[l]=r)}))),r})}};j8.blots=new WeakMap;let wd=j8;function s$(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}class Wqe extends wi{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(e,r){return this.canAdd(e,r)?(this.remove(e),e.classList.add(`${this.keyName}-${r}`),!0):!1}remove(e){s$(e,this.keyName).forEach(r=>{e.classList.remove(r)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const r=(s$(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,r)?r:""}}const Hs=Wqe;function ow(t){const e=t.split("-"),r=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+r}class Yqe extends wi{static keys(e){return(e.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(e,r){return this.canAdd(e,r)?(e.style[ow(this.keyName)]=r,!0):!1}remove(e){e.style[ow(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const r=e.style[ow(this.keyName)];return this.canAdd(e,r)?r:""}}const Dl=Yqe;class Xqe{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,r){r?e.add(this.domNode,r)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=wd.find(this.domNode);if(e==null)return;const r=wi.keys(this.domNode),n=Hs.keys(this.domNode),a=Dl.keys(this.domNode);r.concat(n).concat(a).forEach(s=>{const l=e.scroll.query(s,st.ATTRIBUTE);l instanceof wi&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(r=>{const n=this.attributes[r].value(this.domNode);e.format(r,n)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,r)=>(e[r]=this.attributes[r].value(this.domNode),e),{})}}const ty=Xqe,N8=class{constructor(e,r){this.scroll=e,this.domNode=r,wd.blots.set(r,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ad("Blot definition missing tagName");let r,n;return Array.isArray(this.tagName)?(typeof e=="string"?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof e=="number"&&(n=e),typeof n=="number"?r=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?r=document.createElement(n):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),wd.blots.delete(this.domNode)}deleteAt(e,r){this.isolate(e,r).remove()}formatAt(e,r,n,a){const s=this.isolate(e,r);if(this.scroll.query(n,st.BLOT)!=null&&a)s.wrap(n,a);else if(this.scroll.query(n,st.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);s.wrap(l),l.format(n,a)}}insertAt(e,r,n){const a=n==null?this.scroll.create("text",r):this.scroll.create(r,n),s=this.split(e);this.parent.insertBefore(a,s||void 0)}isolate(e,r){const n=this.split(e);if(n==null)throw new Error("Attempt to isolate at end");return n.split(r),n}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,r){return e===0?this:this.next}update(e,r){}wrap(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new ad(`Cannot wrap ${e}`);return n.appendChild(this),n}};N8.blotName="abstract";let k8=N8;const S8=class extends k8{static value(e){return!0}index(e,r){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(e,r){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};S8.scope=st.INLINE_BLOT;let Zqe=S8;const ta=Zqe;class Jqe{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let n=r();for(;n&&e>0;)e-=1,n=r();return n}contains(e){const r=this.iterator();let n=r();for(;n;){if(n===e)return!0;n=r()}return!1}indexOf(e){const r=this.iterator();let n=r(),a=0;for(;n;){if(n===e)return a;a+=1,n=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,n=this.head;for(;n!=null;){if(n===e)return r;r+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const n=this.iterator();let a=n();for(;a;){const s=a.length();if(e<s||r&&e===s&&(a.next==null||a.next.length()!==0))return[a,e];e-=s,a=n()}return[null,0]}forEach(e){const r=this.iterator();let n=r();for(;n;)e(n),n=r()}forEachAt(e,r,n){if(r<=0)return;const[a,s]=this.find(e);let l=e-s;const u=this.iterator(a);let d=u();for(;d&&l<e+r;){const h=d.length();e>l?n(d,e-l,Math.min(r,l+h-e)):n(d,0,Math.min(h,e+r-l)),l+=h,d=u()}}map(e){return this.reduce((r,n)=>(r.push(e(n)),r),[])}reduce(e,r){const n=this.iterator();let a=n();for(;a;)r=e(r,a),a=n();return r}}function i$(t,e){const r=e.find(t);if(r)return r;try{return e.create(t)}catch(n){const a=e.create(st.INLINE);return Array.from(t.childNodes).forEach(s=>{a.domNode.appendChild(s)}),t.parentNode&&t.parentNode.replaceChild(a.domNode,t),a.attach(),a}}const E8=class ol extends k8{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ol.uiClass&&this.uiNode.classList.add(ol.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Jqe,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=i$(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof ad)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(n,a,s)=>{n.deleteAt(a,s)})}descendant(e,r=0){const[n,a]=this.children.find(r);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,a]:n instanceof ol?n.descendant(e,a):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let a=[],s=n;return this.children.forEachAt(r,n,(l,u,d)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&a.push(l),l instanceof ol&&(a=a.concat(l.descendants(e,u,s))),s-=d}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(n=>r instanceof n)||(r.statics.scope===st.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof ol?r.unwrap():r.remove())})}formatAt(e,r,n,a){this.children.forEachAt(e,r,(s,l,u)=>{s.formatAt(l,u,n,a)})}insertAt(e,r,n){const[a,s]=this.children.find(e);if(a)a.insertAt(s,r,n);else{const l=n==null?this.scroll.create("text",r):this.scroll.create(r,n);this.appendChild(l)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(n=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(n=>{e.insertBefore(n,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[n,a]=this.children.find(e,r),s=[[this,e]];return n instanceof ol?s.concat(n.path(a,r)):(n!=null&&s.push([n,a]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const n=typeof e=="string"?this.scroll.create(e,r):e;return n instanceof ol&&this.moveChildren(n),super.replaceWith(n)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(a,s,l)=>{const u=a.split(s,r);u!=null&&n.appendChild(u)}),n}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const n=[],a=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(n.push(...s.addedNodes),a.push(...s.removedNodes))}),a.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(s);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),n.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,l)=>s===l?0:s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let l=null;s.nextSibling!=null&&(l=this.scroll.find(s.nextSibling));const u=i$(s,this.scroll);(u.next!==l||u.next==null)&&(u.parent!=null&&u.parent.removeChild(this),this.insertBefore(u,l||void 0))}),this.enforceAllowedChildren()}};E8.uiClass="";let Qqe=E8;const Us=Qqe;function eBe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}const Bu=class zu extends Us{static create(e){return super.create(e)}static formats(e,r){const n=r.query(zu.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new ty(this.domNode)}format(e,r){if(e===this.statics.blotName&&!r)this.children.forEach(n=>{n instanceof zu||(n=n.wrap(zu.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(e,st.INLINE);if(n==null)return;n instanceof wi?this.attributes.attribute(n,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.formats()[n]!=null||this.scroll.query(n,st.ATTRIBUTE)?this.isolate(e,r).format(n,a):super.formatAt(e,r,n,a)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const n=this.next;n instanceof zu&&n.prev===this&&eBe(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof zu&&this.attributes.move(n),n}};Bu.allowedChildren=[Bu,ta],Bu.blotName="inline",Bu.scope=st.INLINE_BLOT,Bu.tagName="SPAN";let tBe=Bu;const V2=tBe,Fu=class sj extends Us{static create(e){return super.create(e)}static formats(e,r){const n=r.query(sj.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new ty(this.domNode)}format(e,r){const n=this.scroll.query(e,st.BLOCK);n!=null&&(n instanceof wi?this.attributes.attribute(n,r):e===this.statics.blotName&&!r?this.replaceWith(sj.blotName):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,n,a){this.scroll.query(n,st.BLOCK)!=null?this.format(n,a):super.formatAt(e,r,n,a)}insertAt(e,r,n){if(n==null||this.scroll.query(r,st.INLINE)!=null)super.insertAt(e,r,n);else{const a=this.split(e);if(a!=null){const s=this.scroll.create(r,n);a.parent.insertBefore(s,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,r){const n=super.replaceWith(e,r);return this.attributes.copy(n),n}update(e,r){super.update(e,r),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};Fu.blotName="block",Fu.scope=st.BLOCK_BLOT,Fu.tagName="P",Fu.allowedChildren=[V2,Fu,ta];let rBe=Fu;const Rh=rBe,ij=class extends Us{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,r){super.deleteAt(e,r),this.enforceAllowedChildren()}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.enforceAllowedChildren()}insertAt(e,r,n){super.insertAt(e,r,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ij.blotName="container",ij.scope=st.BLOCK_BLOT;let nBe=ij;const ry=nBe;class aBe extends ta{static formats(e,r){}format(e,r){super.formatAt(0,this.length(),e,r)}formatAt(e,r,n,a){e===0&&r===this.length()?this.format(n,a):super.formatAt(e,r,n,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Wa=aBe,sBe={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},iBe=100,Hu=class extends Us{constructor(e,r){super(null,r),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,sBe),this.attach()}create(e,r){return this.registry.create(this,e,r)}find(e,r=!1){const n=this.registry.find(e,r);return n?n.scroll===this?n:r?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,r=st.ANY){return this.registry.query(e,r)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,r){this.update(),e===0&&r===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(e,r)}formatAt(e,r,n,a){this.update(),super.formatAt(e,r,n,a)}insertAt(e,r,n){this.update(),super.insertAt(e,r,n)}optimize(e=[],r={}){super.optimize(r);const n=r.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const s=(d,h=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(n.has(d.domNode)||n.set(d.domNode,[]),h&&s(d.parent))},l=d=>{n.has(d.domNode)&&(d instanceof Us&&d.children.forEach(l),n.delete(d.domNode),d.optimize(r))};let u=e;for(let d=0;u.length>0;d+=1){if(d>=iBe)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(h=>{const m=this.find(h.target,!0);m!=null&&(m.domNode===h.target&&(h.type==="childList"?(s(this.find(h.previousSibling,!1)),Array.from(h.addedNodes).forEach(p=>{const b=this.find(p,!1);s(b,!1),b instanceof Us&&b.children.forEach(y=>{s(y,!1)})})):h.type==="attributes"&&s(m.prev)),s(m))}),this.children.forEach(l),u=Array.from(this.observer.takeRecords()),a=u.slice();a.length>0;)e.push(a.pop())}}update(e,r={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map(a=>{const s=this.find(a.target,!0);return s==null?null:n.has(s.domNode)?(n.get(s.domNode).push(a),null):(n.set(s.domNode,[a]),s)}).forEach(a=>{a!=null&&a!==this&&n.has(a.domNode)&&a.update(n.get(a.domNode)||[],r)}),r.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),r),this.optimize(e,r)}};Hu.blotName="scroll",Hu.defaultChild=Rh,Hu.allowedChildren=[Rh,ry],Hu.scope=st.BLOCK_BLOT,Hu.tagName="DIV";let oBe=Hu;const G2=oBe,oj=class A8 extends ta{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,n){n==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof A8&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,r){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};oj.blotName="text",oj.scope=st.INLINE_BLOT;let lBe=oj;const W0=lBe,cBe=Object.freeze(Object.defineProperty({__proto__:null,Attributor:wi,AttributorStore:ty,BlockBlot:Rh,ClassAttributor:Hs,ContainerBlot:ry,EmbedBlot:Wa,InlineBlot:V2,LeafBlot:ta,ParentBlot:Us,Registry:wd,Scope:st,ScrollBlot:G2,StyleAttributor:Dl,TextBlot:W0},Symbol.toStringTag,{value:"Module"}));var ap={exports:{}},lw,o$;function uBe(){if(o$)return lw;o$=1;var t=-1,e=1,r=0;function n(D,R,L,V,Z){if(D===R)return D?[[r,D]]:[];if(L!=null){var U=H(D,R,L);if(U)return U}var K=u(D,R),W=D.substring(0,K);D=D.substring(K),R=R.substring(K),K=h(D,R);var X=D.substring(D.length-K);D=D.substring(0,D.length-K),R=R.substring(0,R.length-K);var Q=a(D,R);return W&&Q.unshift([r,W]),X&&Q.push([r,X]),E(Q,Z),V&&p(Q),Q}function a(D,R){var L;if(!D)return[[e,R]];if(!R)return[[t,D]];var V=D.length>R.length?D:R,Z=D.length>R.length?R:D,U=V.indexOf(Z);if(U!==-1)return L=[[e,V.substring(0,U)],[r,Z],[e,V.substring(U+Z.length)]],D.length>R.length&&(L[0][0]=L[2][0]=t),L;if(Z.length===1)return[[t,D],[e,R]];var K=m(D,R);if(K){var W=K[0],X=K[1],Q=K[2],M=K[3],G=K[4],q=n(W,Q),ae=n(X,M);return q.concat([[r,G]],ae)}return s(D,R)}function s(D,R){for(var L=D.length,V=R.length,Z=Math.ceil((L+V)/2),U=Z,K=2*Z,W=new Array(K),X=new Array(K),Q=0;Q<K;Q++)W[Q]=-1,X[Q]=-1;W[U+1]=0,X[U+1]=0;for(var M=L-V,G=M%2!==0,q=0,ae=0,ie=0,be=0,te=0;te<Z;te++){for(var he=-te+q;he<=te-ae;he+=2){var Y=U+he,we;he===-te||he!==te&&W[Y-1]<W[Y+1]?we=W[Y+1]:we=W[Y-1]+1;for(var Ce=we-he;we<L&&Ce<V&&D.charAt(we)===R.charAt(Ce);)we++,Ce++;if(W[Y]=we,we>L)ae+=2;else if(Ce>V)q+=2;else if(G){var ce=U+M-he;if(ce>=0&&ce<K&&X[ce]!==-1){var ue=L-X[ce];if(we>=ue)return l(D,R,we,Ce)}}}for(var Ie=-te+ie;Ie<=te-be;Ie+=2){var ce=U+Ie,ue;Ie===-te||Ie!==te&&X[ce-1]<X[ce+1]?ue=X[ce+1]:ue=X[ce-1]+1;for(var Ve=ue-Ie;ue<L&&Ve<V&&D.charAt(L-ue-1)===R.charAt(V-Ve-1);)ue++,Ve++;if(X[ce]=ue,ue>L)be+=2;else if(Ve>V)ie+=2;else if(!G){var Y=U+M-Ie;if(Y>=0&&Y<K&&W[Y]!==-1){var we=W[Y],Ce=U+we-Y;if(ue=L-ue,we>=ue)return l(D,R,we,Ce)}}}}return[[t,D],[e,R]]}function l(D,R,L,V){var Z=D.substring(0,L),U=R.substring(0,V),K=D.substring(L),W=R.substring(V),X=n(Z,U),Q=n(K,W);return X.concat(Q)}function u(D,R){if(!D||!R||D.charAt(0)!==R.charAt(0))return 0;for(var L=0,V=Math.min(D.length,R.length),Z=V,U=0;L<Z;)D.substring(U,Z)==R.substring(U,Z)?(L=Z,U=L):V=Z,Z=Math.floor((V-L)/2+L);return S(D.charCodeAt(Z-1))&&Z--,Z}function d(D,R){var L=D.length,V=R.length;if(L==0||V==0)return 0;L>V?D=D.substring(L-V):L<V&&(R=R.substring(0,L));var Z=Math.min(L,V);if(D==R)return Z;for(var U=0,K=1;;){var W=D.substring(Z-K),X=R.indexOf(W);if(X==-1)return U;K+=X,(X==0||D.substring(Z-K)==R.substring(0,K))&&(U=K,K++)}}function h(D,R){if(!D||!R||D.slice(-1)!==R.slice(-1))return 0;for(var L=0,V=Math.min(D.length,R.length),Z=V,U=0;L<Z;)D.substring(D.length-Z,D.length-U)==R.substring(R.length-Z,R.length-U)?(L=Z,U=L):V=Z,Z=Math.floor((V-L)/2+L);return P(D.charCodeAt(D.length-Z))&&Z--,Z}function m(D,R){var L=D.length>R.length?D:R,V=D.length>R.length?R:D;if(L.length<4||V.length*2<L.length)return null;function Z(ae,ie,be){for(var te=ae.substring(be,be+Math.floor(ae.length/4)),he=-1,Y="",we,Ce,ce,ue;(he=ie.indexOf(te,he+1))!==-1;){var Ie=u(ae.substring(be),ie.substring(he)),Ve=h(ae.substring(0,be),ie.substring(0,he));Y.length<Ve+Ie&&(Y=ie.substring(he-Ve,he)+ie.substring(he,he+Ie),we=ae.substring(0,be-Ve),Ce=ae.substring(be+Ie),ce=ie.substring(0,he-Ve),ue=ie.substring(he+Ie))}return Y.length*2>=ae.length?[we,Ce,ce,ue,Y]:null}var U=Z(L,V,Math.ceil(L.length/4)),K=Z(L,V,Math.ceil(L.length/2)),W;if(!U&&!K)return null;K?U?W=U[4].length>K[4].length?U:K:W=K:W=U;var X,Q,M,G;D.length>R.length?(X=W[0],Q=W[1],M=W[2],G=W[3]):(M=W[0],G=W[1],X=W[2],Q=W[3]);var q=W[4];return[X,Q,M,G,q]}function p(D){for(var R=!1,L=[],V=0,Z=null,U=0,K=0,W=0,X=0,Q=0;U<D.length;)D[U][0]==r?(L[V++]=U,K=X,W=Q,X=0,Q=0,Z=D[U][1]):(D[U][0]==e?X+=D[U][1].length:Q+=D[U][1].length,Z&&Z.length<=Math.max(K,W)&&Z.length<=Math.max(X,Q)&&(D.splice(L[V-1],0,[t,Z]),D[L[V-1]+1][0]=e,V--,V--,U=V>0?L[V-1]:-1,K=0,W=0,X=0,Q=0,Z=null,R=!0)),U++;for(R&&E(D),k(D),U=1;U<D.length;){if(D[U-1][0]==t&&D[U][0]==e){var M=D[U-1][1],G=D[U][1],q=d(M,G),ae=d(G,M);q>=ae?(q>=M.length/2||q>=G.length/2)&&(D.splice(U,0,[r,G.substring(0,q)]),D[U-1][1]=M.substring(0,M.length-q),D[U+1][1]=G.substring(q),U++):(ae>=M.length/2||ae>=G.length/2)&&(D.splice(U,0,[r,M.substring(0,ae)]),D[U-1][0]=e,D[U-1][1]=G.substring(0,G.length-ae),D[U+1][0]=t,D[U+1][1]=M.substring(ae),U++),U++}U++}}var b=/[^a-zA-Z0-9]/,y=/\s/,_=/[\r\n]/,w=/\n\r?\n$/,j=/^\r?\n\r?\n/;function k(D){function R(ae,ie){if(!ae||!ie)return 6;var be=ae.charAt(ae.length-1),te=ie.charAt(0),he=be.match(b),Y=te.match(b),we=he&&be.match(y),Ce=Y&&te.match(y),ce=we&&be.match(_),ue=Ce&&te.match(_),Ie=ce&&ae.match(w),Ve=ue&&ie.match(j);return Ie||Ve?5:ce||ue?4:he&&!we&&Ce?3:we||Ce?2:he||Y?1:0}for(var L=1;L<D.length-1;){if(D[L-1][0]==r&&D[L+1][0]==r){var V=D[L-1][1],Z=D[L][1],U=D[L+1][1],K=h(V,Z);if(K){var W=Z.substring(Z.length-K);V=V.substring(0,V.length-K),Z=W+Z.substring(0,Z.length-K),U=W+U}for(var X=V,Q=Z,M=U,G=R(V,Z)+R(Z,U);Z.charAt(0)===U.charAt(0);){V+=Z.charAt(0),Z=Z.substring(1)+U.charAt(0),U=U.substring(1);var q=R(V,Z)+R(Z,U);q>=G&&(G=q,X=V,Q=Z,M=U)}D[L-1][1]!=X&&(X?D[L-1][1]=X:(D.splice(L-1,1),L--),D[L][1]=Q,M?D[L+1][1]=M:(D.splice(L+1,1),L--))}L++}}function E(D,R){D.push([r,""]);for(var L=0,V=0,Z=0,U="",K="",W;L<D.length;){if(L<D.length-1&&!D[L][1]){D.splice(L,1);continue}switch(D[L][0]){case e:Z++,K+=D[L][1],L++;break;case t:V++,U+=D[L][1],L++;break;case r:var X=L-Z-V-1;if(R){if(X>=0&&I(D[X][1])){var Q=D[X][1].slice(-1);if(D[X][1]=D[X][1].slice(0,-1),U=Q+U,K=Q+K,!D[X][1]){D.splice(X,1),L--;var M=X-1;D[M]&&D[M][0]===e&&(Z++,K=D[M][1]+K,M--),D[M]&&D[M][0]===t&&(V++,U=D[M][1]+U,M--),X=M}}if(C(D[L][1])){var Q=D[L][1].charAt(0);D[L][1]=D[L][1].slice(1),U+=Q,K+=Q}}if(L<D.length-1&&!D[L][1]){D.splice(L,1);break}if(U.length>0||K.length>0){U.length>0&&K.length>0&&(W=u(K,U),W!==0&&(X>=0?D[X][1]+=K.substring(0,W):(D.splice(0,0,[r,K.substring(0,W)]),L++),K=K.substring(W),U=U.substring(W)),W=h(K,U),W!==0&&(D[L][1]=K.substring(K.length-W)+D[L][1],K=K.substring(0,K.length-W),U=U.substring(0,U.length-W)));var G=Z+V;U.length===0&&K.length===0?(D.splice(L-G,G),L=L-G):U.length===0?(D.splice(L-G,G,[e,K]),L=L-G+1):K.length===0?(D.splice(L-G,G,[t,U]),L=L-G+1):(D.splice(L-G,G,[t,U],[e,K]),L=L-G+2)}L!==0&&D[L-1][0]===r?(D[L-1][1]+=D[L][1],D.splice(L,1)):L++,Z=0,V=0,U="",K="";break}}D[D.length-1][1]===""&&D.pop();var q=!1;for(L=1;L<D.length-1;)D[L-1][0]===r&&D[L+1][0]===r&&(D[L][1].substring(D[L][1].length-D[L-1][1].length)===D[L-1][1]?(D[L][1]=D[L-1][1]+D[L][1].substring(0,D[L][1].length-D[L-1][1].length),D[L+1][1]=D[L-1][1]+D[L+1][1],D.splice(L-1,1),q=!0):D[L][1].substring(0,D[L+1][1].length)==D[L+1][1]&&(D[L-1][1]+=D[L+1][1],D[L][1]=D[L][1].substring(D[L+1][1].length)+D[L+1][1],D.splice(L+1,1),q=!0)),L++;q&&E(D,R)}function S(D){return D>=55296&&D<=56319}function P(D){return D>=56320&&D<=57343}function C(D){return P(D.charCodeAt(0))}function I(D){return S(D.charCodeAt(D.length-1))}function $(D){for(var R=[],L=0;L<D.length;L++)D[L][1].length>0&&R.push(D[L]);return R}function B(D,R,L,V){return I(D)||C(V)?null:$([[r,D],[t,R],[e,L],[r,V]])}function H(D,R,L){var V=typeof L=="number"?{index:L,length:0}:L.oldRange,Z=typeof L=="number"?null:L.newRange,U=D.length,K=R.length;if(V.length===0&&(Z===null||Z.length===0)){var W=V.index,X=D.slice(0,W),Q=D.slice(W),M=Z?Z.index:null;e:{var G=W+K-U;if(M!==null&&M!==G||G<0||G>K)break e;var q=R.slice(0,G),ae=R.slice(G);if(ae!==Q)break e;var ie=Math.min(W,G),be=X.slice(0,ie),te=q.slice(0,ie);if(be!==te)break e;var he=X.slice(ie),Y=q.slice(ie);return B(be,he,Y,Q)}e:{if(M!==null&&M!==W)break e;var we=W,q=R.slice(0,we),ae=R.slice(we);if(q!==X)break e;var Ce=Math.min(U-we,K-we),ce=Q.slice(Q.length-Ce),ue=ae.slice(ae.length-Ce);if(ce!==ue)break e;var he=Q.slice(0,Q.length-Ce),Y=ae.slice(0,ae.length-Ce);return B(X,he,Y,ce)}}if(V.length>0&&Z&&Z.length===0)e:{var be=D.slice(0,V.index),ce=D.slice(V.index+V.length),ie=be.length,Ce=ce.length;if(K<ie+Ce)break e;var te=R.slice(0,ie),ue=R.slice(K-Ce);if(be!==te||ce!==ue)break e;var he=D.slice(ie,U-Ce),Y=R.slice(ie,K-Ce);return B(be,he,Y,ce)}return null}function se(D,R,L,V){return n(D,R,L,V,!0)}return se.INSERT=e,se.DELETE=t,se.EQUAL=r,lw=se,lw}var Xf={exports:{}};Xf.exports;var l$;function T8(){return l$||(l$=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Function]",p="[object GeneratorFunction]",b="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",j="[object RegExp]",k="[object Set]",E="[object String]",S="[object Symbol]",P="[object WeakMap]",C="[object ArrayBuffer]",I="[object DataView]",$="[object Float32Array]",B="[object Float64Array]",H="[object Int8Array]",se="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",V="[object Uint16Array]",Z="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,K=/\w*$/,W=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,Q={};Q[s]=Q[l]=Q[C]=Q[I]=Q[u]=Q[d]=Q[$]=Q[B]=Q[H]=Q[se]=Q[D]=Q[b]=Q[y]=Q[_]=Q[j]=Q[k]=Q[E]=Q[S]=Q[R]=Q[L]=Q[V]=Q[Z]=!0,Q[h]=Q[m]=Q[P]=!1;var M=typeof gl=="object"&&gl&&gl.Object===Object&&gl,G=typeof self=="object"&&self&&self.Object===Object&&self,q=M||G||Function("return this")(),ae=e&&!e.nodeType&&e,ie=ae&&!0&&t&&!t.nodeType&&t,be=ie&&ie.exports===ae;function te(A,F){return A.set(F[0],F[1]),A}function he(A,F){return A.add(F),A}function Y(A,F){for(var re=-1,Ne=A?A.length:0;++re<Ne&&F(A[re],re,A)!==!1;);return A}function we(A,F){for(var re=-1,Ne=F.length,ct=A.length;++re<Ne;)A[ct+re]=F[re];return A}function Ce(A,F,re,Ne){for(var ct=-1,tt=A?A.length:0;++ct<tt;)re=F(re,A[ct],ct,A);return re}function ce(A,F){for(var re=-1,Ne=Array(A);++re<A;)Ne[re]=F(re);return Ne}function ue(A,F){return A==null?void 0:A[F]}function Ie(A){var F=!1;if(A!=null&&typeof A.toString!="function")try{F=!!(A+"")}catch(re){}return F}function Ve(A){var F=-1,re=Array(A.size);return A.forEach(function(Ne,ct){re[++F]=[ct,Ne]}),re}function Ze(A,F){return function(re){return A(F(re))}}function ve(A){var F=-1,re=Array(A.size);return A.forEach(function(Ne){re[++F]=Ne}),re}var Re=Array.prototype,bt=Function.prototype,hr=Object.prototype,Ir=q["__core-js_shared__"],Mn=(function(){var A=/[^.]+$/.exec(Ir&&Ir.keys&&Ir.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""})(),Wr=bt.toString,St=hr.hasOwnProperty,yr=hr.toString,an=RegExp("^"+Wr.call(St).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=be?q.Buffer:void 0,jt=q.Symbol,Yr=q.Uint8Array,Gt=Ze(Object.getPrototypeOf,Object),bn=Object.create,sn=hr.propertyIsEnumerable,yn=Re.splice,Ht=Object.getOwnPropertySymbols,Le=Zt?Zt.isBuffer:void 0,Ae=Ze(Object.keys,Object),We=pa(q,"DataView"),Oe=pa(q,"Map"),Ue=pa(q,"Promise"),Fe=pa(q,"Set"),ot=pa(q,"WeakMap"),_t=pa(Object,"create"),Et=xn(We),mt=xn(Oe),Pt=xn(Ue),_r=xn(Fe),Kt=xn(ot),Xr=jt?jt.prototype:void 0,on=Xr?Xr.valueOf:void 0;function gt(A){var F=-1,re=A?A.length:0;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function It(){this.__data__=_t?_t(null):{}}function Jt(A){return this.has(A)&&delete this.__data__[A]}function Aa(A){var F=this.__data__;if(_t){var re=F[A];return re===n?void 0:re}return St.call(F,A)?F[A]:void 0}function sa(A){var F=this.__data__;return _t?F[A]!==void 0:St.call(F,A)}function ar(A,F){var re=this.__data__;return re[A]=_t&&F===void 0?n:F,this}gt.prototype.clear=It,gt.prototype.delete=Jt,gt.prototype.get=Aa,gt.prototype.has=sa,gt.prototype.set=ar;function sr(A){var F=-1,re=A?A.length:0;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function Ta(){this.__data__=[]}function Mr(A){var F=this.__data__,re=Ur(F,A);if(re<0)return!1;var Ne=F.length-1;return re==Ne?F.pop():yn.call(F,re,1),!0}function ir(A){var F=this.__data__,re=Ur(F,A);return re<0?void 0:F[re][1]}function xr(A){return Ur(this.__data__,A)>-1}function Wt(A,F){var re=this.__data__,Ne=Ur(re,A);return Ne<0?re.push([A,F]):re[Ne][1]=F,this}sr.prototype.clear=Ta,sr.prototype.delete=Mr,sr.prototype.get=ir,sr.prototype.has=xr,sr.prototype.set=Wt;function Nt(A){var F=-1,re=A?A.length:0;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function ga(){this.__data__={hash:new gt,map:new(Oe||sr),string:new gt}}function Rt(A){return Ys(this,A).delete(A)}function vt(A){return Ys(this,A).get(A)}function ne(A){return Ys(this,A).has(A)}function xe(A,F){return Ys(this,A).set(A,F),this}Nt.prototype.clear=ga,Nt.prototype.delete=Rt,Nt.prototype.get=vt,Nt.prototype.has=ne,Nt.prototype.set=xe;function Se(A){this.__data__=new sr(A)}function De(){this.__data__=new sr}function Me(A){return this.__data__.delete(A)}function ye(A){return this.__data__.get(A)}function ze(A){return this.__data__.has(A)}function He(A,F){var re=this.__data__;if(re instanceof sr){var Ne=re.__data__;if(!Oe||Ne.length<r-1)return Ne.push([A,F]),this;re=this.__data__=new Nt(Ne)}return re.set(A,F),this}Se.prototype.clear=De,Se.prototype.delete=Me,Se.prototype.get=ye,Se.prototype.has=ze,Se.prototype.set=He;function lt(A,F){var re=Lo(A)||$a(A)?ce(A.length,String):[],Ne=re.length,ct=!!Ne;for(var tt in A)St.call(A,tt)&&!(ct&&(tt=="length"||Hd(tt,Ne)))&&re.push(tt);return re}function Ut(A,F,re){var Ne=A[F];(!(St.call(A,F)&&ws(Ne,re))||re===void 0&&!(F in A))&&(A[F]=re)}function Ur(A,F){for(var re=A.length;re--;)if(ws(A[re][0],F))return re;return-1}function qr(A,F){return A&&Po(F,Ti(F),A)}function ia(A,F,re,Ne,ct,tt,kt){var Dt;if(Ne&&(Dt=tt?Ne(A,ct,tt,kt):Ne(A)),Dt!==void 0)return Dt;if(!Xn(A))return A;var Ar=Lo(A);if(Ar){if(Dt=Kc(A),!F)return Il(A,Dt)}else{var Mt=vs(A),Br=Mt==m||Mt==p;if(Zs(A))return _n(A,F);if(Mt==_||Mt==s||Br&&!tt){if(Ie(A))return tt?A:{};if(Dt=Ca(Br?{}:A),!F)return Ml(A,qr(Dt,A))}else{if(!Q[Mt])return tt?A:{};Dt=Ul(A,Mt,ia,F)}}kt||(kt=new Se);var vn=kt.get(A);if(vn)return vn;if(kt.set(A,Dt),!Ar)var zr=re?Ws(A):Ti(A);return Y(zr||A,function(On,wn){zr&&(wn=On,On=A[wn]),Ut(Dt,wn,ia(On,F,re,Ne,wn,A,kt))}),Dt}function Tn(A){return Xn(A)?bn(A):{}}function Gs(A,F,re){var Ne=F(A);return Lo(A)?Ne:we(Ne,re(A))}function Ao(A){return yr.call(A)}function To(A){if(!Xn(A)||Ro(A))return!1;var F=oa(A)||Ie(A)?an:W;return F.test(xn(A))}function Oa(A){if(!ba(A))return Ae(A);var F=[];for(var re in Object(A))St.call(A,re)&&re!="constructor"&&F.push(re);return F}function _n(A,F){if(F)return A.slice();var re=new A.constructor(A.length);return A.copy(re),re}function Oo(A){var F=new A.constructor(A.byteLength);return new Yr(F).set(new Yr(A)),F}function Ai(A,F){var re=F?Oo(A.buffer):A.buffer;return new A.constructor(re,A.byteOffset,A.byteLength)}function Co(A,F,re){var Ne=F?re(Ve(A),!0):Ve(A);return Ce(Ne,te,new A.constructor)}function Ll(A){var F=new A.constructor(A.source,K.exec(A));return F.lastIndex=A.lastIndex,F}function $o(A,F,re){var Ne=F?re(ve(A),!0):ve(A);return Ce(Ne,he,new A.constructor)}function Fd(A){return on?Object(on.call(A)):{}}function Wn(A,F){var re=F?Oo(A.buffer):A.buffer;return new A.constructor(re,A.byteOffset,A.length)}function Il(A,F){var re=-1,Ne=A.length;for(F||(F=Array(Ne));++re<Ne;)F[re]=A[re];return F}function Po(A,F,re,Ne){re||(re={});for(var ct=-1,tt=F.length;++ct<tt;){var kt=F[ct],Dt=void 0;Ut(re,kt,Dt===void 0?A[kt]:Dt)}return re}function Ml(A,F){return Po(A,Yn(A),F)}function Ws(A){return Gs(A,Ti,Yn)}function Ys(A,F){var re=A.__data__;return Kd(F)?re[typeof F=="string"?"string":"hash"]:re.map}function pa(A,F){var re=ue(A,F);return To(re)?re:void 0}var Yn=Ht?Ze(Ht,Object):Mo,vs=Ao;(We&&vs(new We(new ArrayBuffer(1)))!=I||Oe&&vs(new Oe)!=b||Ue&&vs(Ue.resolve())!=w||Fe&&vs(new Fe)!=k||ot&&vs(new ot)!=P)&&(vs=function(A){var F=yr.call(A),re=F==_?A.constructor:void 0,Ne=re?xn(re):void 0;if(Ne)switch(Ne){case Et:return I;case mt:return b;case Pt:return w;case _r:return k;case Kt:return P}return F});function Kc(A){var F=A.length,re=A.constructor(F);return F&&typeof A[0]=="string"&&St.call(A,"index")&&(re.index=A.index,re.input=A.input),re}function Ca(A){return typeof A.constructor=="function"&&!ba(A)?Tn(Gt(A)):{}}function Ul(A,F,re,Ne){var ct=A.constructor;switch(F){case C:return Oo(A);case u:case d:return new ct(+A);case I:return Ai(A,Ne);case $:case B:case H:case se:case D:case R:case L:case V:case Z:return Wn(A,Ne);case b:return Co(A,Ne,re);case y:case E:return new ct(A);case j:return Ll(A);case k:return $o(A,Ne,re);case S:return Fd(A)}}function Hd(A,F){return F=F==null?a:F,!!F&&(typeof A=="number"||X.test(A))&&A>-1&&A%1==0&&A<F}function Kd(A){var F=typeof A;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?A!=="__proto__":A===null}function Ro(A){return!!Mn&&Mn in A}function ba(A){var F=A&&A.constructor,re=typeof F=="function"&&F.prototype||hr;return A===re}function xn(A){if(A!=null){try{return Wr.call(A)}catch(F){}try{return A+""}catch(F){}}return""}function Do(A){return ia(A,!0,!0)}function ws(A,F){return A===F||A!==A&&F!==F}function $a(A){return Vc(A)&&St.call(A,"callee")&&(!sn.call(A,"callee")||yr.call(A)==s)}var Lo=Array.isArray;function Xs(A){return A!=null&&Io(A.length)&&!oa(A)}function Vc(A){return Pa(A)&&Xs(A)}var Zs=Le||Gc;function oa(A){var F=Xn(A)?yr.call(A):"";return F==m||F==p}function Io(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=a}function Xn(A){var F=typeof A;return!!A&&(F=="object"||F=="function")}function Pa(A){return!!A&&typeof A=="object"}function Ti(A){return Xs(A)?lt(A):Oa(A)}function Mo(){return[]}function Gc(){return!1}t.exports=Do})(Xf,Xf.exports)),Xf.exports}var Zf={exports:{}};Zf.exports;var c$;function O8(){return c$||(c$=1,(function(t,e){var r=200,n="__lodash_hash_undefined__",a=1,s=2,l=9007199254740991,u="[object Arguments]",d="[object Array]",h="[object AsyncFunction]",m="[object Boolean]",p="[object Date]",b="[object Error]",y="[object Function]",_="[object GeneratorFunction]",w="[object Map]",j="[object Number]",k="[object Null]",E="[object Object]",S="[object Promise]",P="[object Proxy]",C="[object RegExp]",I="[object Set]",$="[object String]",B="[object Symbol]",H="[object Undefined]",se="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",V="[object Float64Array]",Z="[object Int8Array]",U="[object Int16Array]",K="[object Int32Array]",W="[object Uint8Array]",X="[object Uint8ClampedArray]",Q="[object Uint16Array]",M="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,ie={};ie[L]=ie[V]=ie[Z]=ie[U]=ie[K]=ie[W]=ie[X]=ie[Q]=ie[M]=!0,ie[u]=ie[d]=ie[D]=ie[m]=ie[R]=ie[p]=ie[b]=ie[y]=ie[w]=ie[j]=ie[E]=ie[C]=ie[I]=ie[$]=ie[se]=!1;var be=typeof gl=="object"&&gl&&gl.Object===Object&&gl,te=typeof self=="object"&&self&&self.Object===Object&&self,he=be||te||Function("return this")(),Y=e&&!e.nodeType&&e,we=Y&&!0&&t&&!t.nodeType&&t,Ce=we&&we.exports===Y,ce=Ce&&be.process,ue=(function(){try{return ce&&ce.binding&&ce.binding("util")}catch(A){}})(),Ie=ue&&ue.isTypedArray;function Ve(A,F){for(var re=-1,Ne=A==null?0:A.length,ct=0,tt=[];++re<Ne;){var kt=A[re];F(kt,re,A)&&(tt[ct++]=kt)}return tt}function Ze(A,F){for(var re=-1,Ne=F.length,ct=A.length;++re<Ne;)A[ct+re]=F[re];return A}function ve(A,F){for(var re=-1,Ne=A==null?0:A.length;++re<Ne;)if(F(A[re],re,A))return!0;return!1}function Re(A,F){for(var re=-1,Ne=Array(A);++re<A;)Ne[re]=F(re);return Ne}function bt(A){return function(F){return A(F)}}function hr(A,F){return A.has(F)}function Ir(A,F){return A==null?void 0:A[F]}function Mn(A){var F=-1,re=Array(A.size);return A.forEach(function(Ne,ct){re[++F]=[ct,Ne]}),re}function Wr(A,F){return function(re){return A(F(re))}}function St(A){var F=-1,re=Array(A.size);return A.forEach(function(Ne){re[++F]=Ne}),re}var yr=Array.prototype,an=Function.prototype,Zt=Object.prototype,jt=he["__core-js_shared__"],Yr=an.toString,Gt=Zt.hasOwnProperty,bn=(function(){var A=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""})(),sn=Zt.toString,yn=RegExp("^"+Yr.call(Gt).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=Ce?he.Buffer:void 0,Le=he.Symbol,Ae=he.Uint8Array,We=Zt.propertyIsEnumerable,Oe=yr.splice,Ue=Le?Le.toStringTag:void 0,Fe=Object.getOwnPropertySymbols,ot=Ht?Ht.isBuffer:void 0,_t=Wr(Object.keys,Object),Et=Yn(he,"DataView"),mt=Yn(he,"Map"),Pt=Yn(he,"Promise"),_r=Yn(he,"Set"),Kt=Yn(he,"WeakMap"),Xr=Yn(Object,"create"),on=xn(Et),gt=xn(mt),It=xn(Pt),Jt=xn(_r),Aa=xn(Kt),sa=Le?Le.prototype:void 0,ar=sa?sa.valueOf:void 0;function sr(A){var F=-1,re=A==null?0:A.length;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function Ta(){this.__data__=Xr?Xr(null):{},this.size=0}function Mr(A){var F=this.has(A)&&delete this.__data__[A];return this.size-=F?1:0,F}function ir(A){var F=this.__data__;if(Xr){var re=F[A];return re===n?void 0:re}return Gt.call(F,A)?F[A]:void 0}function xr(A){var F=this.__data__;return Xr?F[A]!==void 0:Gt.call(F,A)}function Wt(A,F){var re=this.__data__;return this.size+=this.has(A)?0:1,re[A]=Xr&&F===void 0?n:F,this}sr.prototype.clear=Ta,sr.prototype.delete=Mr,sr.prototype.get=ir,sr.prototype.has=xr,sr.prototype.set=Wt;function Nt(A){var F=-1,re=A==null?0:A.length;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function ga(){this.__data__=[],this.size=0}function Rt(A){var F=this.__data__,re=_n(F,A);if(re<0)return!1;var Ne=F.length-1;return re==Ne?F.pop():Oe.call(F,re,1),--this.size,!0}function vt(A){var F=this.__data__,re=_n(F,A);return re<0?void 0:F[re][1]}function ne(A){return _n(this.__data__,A)>-1}function xe(A,F){var re=this.__data__,Ne=_n(re,A);return Ne<0?(++this.size,re.push([A,F])):re[Ne][1]=F,this}Nt.prototype.clear=ga,Nt.prototype.delete=Rt,Nt.prototype.get=vt,Nt.prototype.has=ne,Nt.prototype.set=xe;function Se(A){var F=-1,re=A==null?0:A.length;for(this.clear();++F<re;){var Ne=A[F];this.set(Ne[0],Ne[1])}}function De(){this.size=0,this.__data__={hash:new sr,map:new(mt||Nt),string:new sr}}function Me(A){var F=pa(this,A).delete(A);return this.size-=F?1:0,F}function ye(A){return pa(this,A).get(A)}function ze(A){return pa(this,A).has(A)}function He(A,F){var re=pa(this,A),Ne=re.size;return re.set(A,F),this.size+=re.size==Ne?0:1,this}Se.prototype.clear=De,Se.prototype.delete=Me,Se.prototype.get=ye,Se.prototype.has=ze,Se.prototype.set=He;function lt(A){var F=-1,re=A==null?0:A.length;for(this.__data__=new Se;++F<re;)this.add(A[F])}function Ut(A){return this.__data__.set(A,n),this}function Ur(A){return this.__data__.has(A)}lt.prototype.add=lt.prototype.push=Ut,lt.prototype.has=Ur;function qr(A){var F=this.__data__=new Nt(A);this.size=F.size}function ia(){this.__data__=new Nt,this.size=0}function Tn(A){var F=this.__data__,re=F.delete(A);return this.size=F.size,re}function Gs(A){return this.__data__.get(A)}function Ao(A){return this.__data__.has(A)}function To(A,F){var re=this.__data__;if(re instanceof Nt){var Ne=re.__data__;if(!mt||Ne.length<r-1)return Ne.push([A,F]),this.size=++re.size,this;re=this.__data__=new Se(Ne)}return re.set(A,F),this.size=re.size,this}qr.prototype.clear=ia,qr.prototype.delete=Tn,qr.prototype.get=Gs,qr.prototype.has=Ao,qr.prototype.set=To;function Oa(A,F){var re=$a(A),Ne=!re&&ws(A),ct=!re&&!Ne&&Xs(A),tt=!re&&!Ne&&!ct&&Pa(A),kt=re||Ne||ct||tt,Dt=kt?Re(A.length,String):[],Ar=Dt.length;for(var Mt in A)Gt.call(A,Mt)&&!(kt&&(Mt=="length"||ct&&(Mt=="offset"||Mt=="parent")||tt&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||Ul(Mt,Ar)))&&Dt.push(Mt);return Dt}function _n(A,F){for(var re=A.length;re--;)if(Do(A[re][0],F))return re;return-1}function Oo(A,F,re){var Ne=F(A);return $a(A)?Ne:Ze(Ne,re(A))}function Ai(A){return A==null?A===void 0?H:k:Ue&&Ue in Object(A)?vs(A):ba(A)}function Co(A){return Xn(A)&&Ai(A)==u}function Ll(A,F,re,Ne,ct){return A===F?!0:A==null||F==null||!Xn(A)&&!Xn(F)?A!==A&&F!==F:$o(A,F,re,Ne,Ll,ct)}function $o(A,F,re,Ne,ct,tt){var kt=$a(A),Dt=$a(F),Ar=kt?d:Ca(A),Mt=Dt?d:Ca(F);Ar=Ar==u?E:Ar,Mt=Mt==u?E:Mt;var Br=Ar==E,vn=Mt==E,zr=Ar==Mt;if(zr&&Xs(A)){if(!Xs(F))return!1;kt=!0,Br=!1}if(zr&&!Br)return tt||(tt=new qr),kt||Pa(A)?Po(A,F,re,Ne,ct,tt):Ml(A,F,Ar,re,Ne,ct,tt);if(!(re&a)){var On=Br&&Gt.call(A,"__wrapped__"),wn=vn&&Gt.call(F,"__wrapped__");if(On||wn){var Js=On?A.value():A,Ra=wn?F.value():F;return tt||(tt=new qr),ct(Js,Ra,re,Ne,tt)}}return zr?(tt||(tt=new qr),Ws(A,F,re,Ne,ct,tt)):!1}function Fd(A){if(!Io(A)||Kd(A))return!1;var F=Zs(A)?yn:q;return F.test(xn(A))}function Wn(A){return Xn(A)&&oa(A.length)&&!!ie[Ai(A)]}function Il(A){if(!Ro(A))return _t(A);var F=[];for(var re in Object(A))Gt.call(A,re)&&re!="constructor"&&F.push(re);return F}function Po(A,F,re,Ne,ct,tt){var kt=re&a,Dt=A.length,Ar=F.length;if(Dt!=Ar&&!(kt&&Ar>Dt))return!1;var Mt=tt.get(A);if(Mt&&tt.get(F))return Mt==F;var Br=-1,vn=!0,zr=re&s?new lt:void 0;for(tt.set(A,F),tt.set(F,A);++Br<Dt;){var On=A[Br],wn=F[Br];if(Ne)var Js=kt?Ne(wn,On,Br,F,A,tt):Ne(On,wn,Br,A,F,tt);if(Js!==void 0){if(Js)continue;vn=!1;break}if(zr){if(!ve(F,function(Ra,Oi){if(!hr(zr,Oi)&&(On===Ra||ct(On,Ra,re,Ne,tt)))return zr.push(Oi)})){vn=!1;break}}else if(!(On===wn||ct(On,wn,re,Ne,tt))){vn=!1;break}}return tt.delete(A),tt.delete(F),vn}function Ml(A,F,re,Ne,ct,tt,kt){switch(re){case R:if(A.byteLength!=F.byteLength||A.byteOffset!=F.byteOffset)return!1;A=A.buffer,F=F.buffer;case D:return!(A.byteLength!=F.byteLength||!tt(new Ae(A),new Ae(F)));case m:case p:case j:return Do(+A,+F);case b:return A.name==F.name&&A.message==F.message;case C:case $:return A==F+"";case w:var Dt=Mn;case I:var Ar=Ne&a;if(Dt||(Dt=St),A.size!=F.size&&!Ar)return!1;var Mt=kt.get(A);if(Mt)return Mt==F;Ne|=s,kt.set(A,F);var Br=Po(Dt(A),Dt(F),Ne,ct,tt,kt);return kt.delete(A),Br;case B:if(ar)return ar.call(A)==ar.call(F)}return!1}function Ws(A,F,re,Ne,ct,tt){var kt=re&a,Dt=Ys(A),Ar=Dt.length,Mt=Ys(F),Br=Mt.length;if(Ar!=Br&&!kt)return!1;for(var vn=Ar;vn--;){var zr=Dt[vn];if(!(kt?zr in F:Gt.call(F,zr)))return!1}var On=tt.get(A);if(On&&tt.get(F))return On==F;var wn=!0;tt.set(A,F),tt.set(F,A);for(var Js=kt;++vn<Ar;){zr=Dt[vn];var Ra=A[zr],Oi=F[zr];if(Ne)var wm=kt?Ne(Oi,Ra,zr,F,A,tt):Ne(Ra,Oi,zr,A,F,tt);if(!(wm===void 0?Ra===Oi||ct(Ra,Oi,re,Ne,tt):wm)){wn=!1;break}Js||(Js=zr=="constructor")}if(wn&&!Js){var Wc=A.constructor,Yc=F.constructor;Wc!=Yc&&"constructor"in A&&"constructor"in F&&!(typeof Wc=="function"&&Wc instanceof Wc&&typeof Yc=="function"&&Yc instanceof Yc)&&(wn=!1)}return tt.delete(A),tt.delete(F),wn}function Ys(A){return Oo(A,Ti,Kc)}function pa(A,F){var re=A.__data__;return Hd(F)?re[typeof F=="string"?"string":"hash"]:re.map}function Yn(A,F){var re=Ir(A,F);return Fd(re)?re:void 0}function vs(A){var F=Gt.call(A,Ue),re=A[Ue];try{A[Ue]=void 0;var Ne=!0}catch(tt){}var ct=sn.call(A);return Ne&&(F?A[Ue]=re:delete A[Ue]),ct}var Kc=Fe?function(A){return A==null?[]:(A=Object(A),Ve(Fe(A),function(F){return We.call(A,F)}))}:Mo,Ca=Ai;(Et&&Ca(new Et(new ArrayBuffer(1)))!=R||mt&&Ca(new mt)!=w||Pt&&Ca(Pt.resolve())!=S||_r&&Ca(new _r)!=I||Kt&&Ca(new Kt)!=se)&&(Ca=function(A){var F=Ai(A),re=F==E?A.constructor:void 0,Ne=re?xn(re):"";if(Ne)switch(Ne){case on:return R;case gt:return w;case It:return S;case Jt:return I;case Aa:return se}return F});function Ul(A,F){return F=F==null?l:F,!!F&&(typeof A=="number"||ae.test(A))&&A>-1&&A%1==0&&A<F}function Hd(A){var F=typeof A;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?A!=="__proto__":A===null}function Kd(A){return!!bn&&bn in A}function Ro(A){var F=A&&A.constructor,re=typeof F=="function"&&F.prototype||Zt;return A===re}function ba(A){return sn.call(A)}function xn(A){if(A!=null){try{return Yr.call(A)}catch(F){}try{return A+""}catch(F){}}return""}function Do(A,F){return A===F||A!==A&&F!==F}var ws=Co((function(){return arguments})())?Co:function(A){return Xn(A)&&Gt.call(A,"callee")&&!We.call(A,"callee")},$a=Array.isArray;function Lo(A){return A!=null&&oa(A.length)&&!Zs(A)}var Xs=ot||Gc;function Vc(A,F){return Ll(A,F)}function Zs(A){if(!Io(A))return!1;var F=Ai(A);return F==y||F==_||F==h||F==P}function oa(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=l}function Io(A){var F=typeof A;return A!=null&&(F=="object"||F=="function")}function Xn(A){return A!=null&&typeof A=="object"}var Pa=Ie?bt(Ie):Wn;function Ti(A){return Lo(A)?Oa(A):Il(A)}function Mo(){return[]}function Gc(){return!1}t.exports=Vc})(Zf,Zf.exports)),Zf.exports}var sp={},u$;function dBe(){if(u$)return sp;u$=1,Object.defineProperty(sp,"__esModule",{value:!0});const t=T8(),e=O8();var r;return(function(n){function a(d={},h={},m=!1){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});let p=t(h);m||(p=Object.keys(p).reduce((b,y)=>(p[y]!=null&&(b[y]=p[y]),b),{}));for(const b in d)d[b]!==void 0&&h[b]===void 0&&(p[b]=d[b]);return Object.keys(p).length>0?p:void 0}n.compose=a;function s(d={},h={}){typeof d!="object"&&(d={}),typeof h!="object"&&(h={});const m=Object.keys(d).concat(Object.keys(h)).reduce((p,b)=>(e(d[b],h[b])||(p[b]=h[b]===void 0?null:h[b]),p),{});return Object.keys(m).length>0?m:void 0}n.diff=s;function l(d={},h={}){d=d||{};const m=Object.keys(h).reduce((p,b)=>(h[b]!==d[b]&&d[b]!==void 0&&(p[b]=h[b]),p),{});return Object.keys(d).reduce((p,b)=>(d[b]!==h[b]&&h[b]===void 0&&(p[b]=null),p),m)}n.invert=l;function u(d,h,m=!1){if(typeof d!="object")return h;if(typeof h!="object")return;if(!m)return h;const p=Object.keys(h).reduce((b,y)=>(d[y]===void 0&&(b[y]=h[y]),b),{});return Object.keys(p).length>0?p:void 0}n.transform=u})(r||(r={})),sp.default=r,sp}var ip={},d$;function C8(){if(d$)return ip;d$=1,Object.defineProperty(ip,"__esModule",{value:!0});var t;return(function(e){function r(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=r})(t||(t={})),ip.default=t,ip}var op={},f$;function fBe(){if(f$)return op;f$=1,Object.defineProperty(op,"__esModule",{value:!0});const t=C8();class e{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const a=this.ops[this.index];if(a){const s=this.offset,l=t.default.length(a);if(n>=l-s?(n=l-s,this.index+=1,this.offset=0):this.offset+=n,typeof a.delete=="number")return{delete:n};{const u={};return a.attributes&&(u.attributes=a.attributes),typeof a.retain=="number"?u.retain=n:typeof a.retain=="object"&&a.retain!==null?u.retain=a.retain:typeof a.insert=="string"?u.insert=a.insert.substr(s,n):u.insert=a.insert,u}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,a=this.index,s=this.next(),l=this.ops.slice(this.index);return this.offset=n,this.index=a,[s].concat(l)}}else return[]}}return op.default=e,op}var h$;function hBe(){return h$||(h$=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const r=uBe(),n=T8(),a=O8(),s=dBe();e.AttributeMap=s.default;const l=C8();e.Op=l.default;const u=fBe();e.OpIterator=u.default;const d="\0",h=(p,b)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const y=Object.keys(p)[0];if(!y||y!==Object.keys(b)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(b)[0]}`);return[y,p[y],b[y]]};class m{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,y){this.handlers[b]=y}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const y=this.handlers[b];if(!y)throw new Error(`no handlers for embed type "${b}"`);return y}insert(b,y){const _={};return typeof b=="string"&&b.length===0?this:(_.insert=b,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(_.attributes=y),this.push(_))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,y){if(typeof b=="number"&&b<=0)return this;const _={retain:b};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(_.attributes=y),this.push(_)}push(b){let y=this.ops.length,_=this.ops[y-1];if(b=n(b),typeof _=="object"){if(typeof b.delete=="number"&&typeof _.delete=="number")return this.ops[y-1]={delete:_.delete+b.delete},this;if(typeof _.delete=="number"&&b.insert!=null&&(y-=1,_=this.ops[y-1],typeof _!="object"))return this.ops.unshift(b),this;if(a(b.attributes,_.attributes)){if(typeof b.insert=="string"&&typeof _.insert=="string")return this.ops[y-1]={insert:_.insert+b.insert},typeof b.attributes=="object"&&(this.ops[y-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof _.retain=="number")return this.ops[y-1]={retain:_.retain+b.retain},typeof b.attributes=="object"&&(this.ops[y-1].attributes=b.attributes),this}}return y===this.ops.length?this.ops.push(b):this.ops.splice(y,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const y=[],_=[];return this.forEach(w=>{(b(w)?y:_).push(w)}),[y,_]}reduce(b,y){return this.ops.reduce(b,y)}changeLength(){return this.reduce((b,y)=>y.insert?b+l.default.length(y):y.delete?b-y.delete:b,0)}length(){return this.reduce((b,y)=>b+l.default.length(y),0)}slice(b=0,y=1/0){const _=[],w=new u.default(this.ops);let j=0;for(;j<y&&w.hasNext();){let k;j<b?k=w.next(b-j):(k=w.next(y-j),_.push(k)),j+=l.default.length(k)}return new m(_)}compose(b){const y=new u.default(this.ops),_=new u.default(b.ops),w=[],j=_.peek();if(j!=null&&typeof j.retain=="number"&&j.attributes==null){let E=j.retain;for(;y.peekType()==="insert"&&y.peekLength()<=E;)E-=y.peekLength(),w.push(y.next());j.retain-E>0&&_.next(j.retain-E)}const k=new m(w);for(;y.hasNext()||_.hasNext();)if(_.peekType()==="insert")k.push(_.next());else if(y.peekType()==="delete")k.push(y.next());else{const E=Math.min(y.peekLength(),_.peekLength()),S=y.next(E),P=_.next(E);if(P.retain){const C={};if(typeof S.retain=="number")C.retain=typeof P.retain=="number"?E:P.retain;else if(typeof P.retain=="number")S.retain==null?C.insert=S.insert:C.retain=S.retain;else{const $=S.retain==null?"insert":"retain",[B,H,se]=h(S[$],P.retain),D=m.getHandler(B);C[$]={[B]:D.compose(H,se,$==="retain")}}const I=s.default.compose(S.attributes,P.attributes,typeof S.retain=="number");if(I&&(C.attributes=I),k.push(C),!_.hasNext()&&a(k.ops[k.ops.length-1],C)){const $=new m(y.rest());return k.concat($).chop()}}else typeof P.delete=="number"&&(typeof S.retain=="number"||typeof S.retain=="object"&&S.retain!==null)&&k.push(P)}return k.chop()}concat(b){const y=new m(this.ops.slice());return b.ops.length>0&&(y.push(b.ops[0]),y.ops=y.ops.concat(b.ops.slice(1))),y}diff(b,y){if(this.ops===b.ops)return new m;const _=[this,b].map(S=>S.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:d;const C=S===b?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),w=new m,j=r(_[0],_[1],y,!0),k=new u.default(this.ops),E=new u.default(b.ops);return j.forEach(S=>{let P=S[1].length;for(;P>0;){let C=0;switch(S[0]){case r.INSERT:C=Math.min(E.peekLength(),P),w.push(E.next(C));break;case r.DELETE:C=Math.min(P,k.peekLength()),k.next(C),w.delete(C);break;case r.EQUAL:C=Math.min(k.peekLength(),E.peekLength(),P);const I=k.next(C),$=E.next(C);a(I.insert,$.insert)?w.retain(C,s.default.diff(I.attributes,$.attributes)):w.push($).delete(C);break}P-=C}}),w.chop()}eachLine(b,y=`
`){const _=new u.default(this.ops);let w=new m,j=0;for(;_.hasNext();){if(_.peekType()!=="insert")return;const k=_.peek(),E=l.default.length(k)-_.peekLength(),S=typeof k.insert=="string"?k.insert.indexOf(y,E)-E:-1;if(S<0)w.push(_.next());else if(S>0)w.push(_.next(S));else{if(b(w,_.next(1).attributes||{},j)===!1)return;j+=1,w=new m}}w.length()>0&&b(w,{},j)}invert(b){const y=new m;return this.reduce((_,w)=>{if(w.insert)y.delete(l.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return y.retain(w.retain),_+w.retain;if(w.delete||typeof w.retain=="number"){const j=w.delete||w.retain;return b.slice(_,_+j).forEach(E=>{w.delete?y.push(E):w.retain&&w.attributes&&y.retain(l.default.length(E),s.default.invert(w.attributes,E.attributes))}),_+j}else if(typeof w.retain=="object"&&w.retain!==null){const j=b.slice(_,_+1),k=new u.default(j.ops).next(),[E,S,P]=h(w.retain,k.insert),C=m.getHandler(E);return y.retain({[E]:C.invert(S,P)},s.default.invert(w.attributes,k.attributes)),_+1}}return _},0),y.chop()}transform(b,y=!1){if(y=!!y,typeof b=="number")return this.transformPosition(b,y);const _=b,w=new u.default(this.ops),j=new u.default(_.ops),k=new m;for(;w.hasNext()||j.hasNext();)if(w.peekType()==="insert"&&(y||j.peekType()!=="insert"))k.retain(l.default.length(w.next()));else if(j.peekType()==="insert")k.push(j.next());else{const E=Math.min(w.peekLength(),j.peekLength()),S=w.next(E),P=j.next(E);if(S.delete)continue;if(P.delete)k.push(P);else{const C=S.retain,I=P.retain;let $=typeof I=="object"&&I!==null?I:E;if(typeof C=="object"&&C!==null&&typeof I=="object"&&I!==null){const B=Object.keys(C)[0];if(B===Object.keys(I)[0]){const H=m.getHandler(B);H&&($={[B]:H.transform(C[B],I[B],y)})}}k.retain($,s.default.transform(S.attributes,P.attributes,y))}}return k.chop()}transformPosition(b,y=!1){y=!!y;const _=new u.default(this.ops);let w=0;for(;_.hasNext()&&w<=b;){const j=_.peekLength(),k=_.peekType();if(_.next(),k==="delete"){b-=Math.min(j,b-w);continue}else k==="insert"&&(w<b||!y)&&(b+=j);w+=j}return b}}m.Op=l.default,m.OpIterator=u.default,m.AttributeMap=s.default,m.handlers={},e.default=m,t.exports=m,t.exports.default=m})(ap,ap.exports)),ap.exports}var ms=hBe();const nt=_s(ms);class Ks extends Wa{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ks.blotName="break";Ks.tagName="BR";let Bs=class extends W0{};const mBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ny(t){return t.replace(/[&<>"']/g,e=>mBe[e])}const ai=class ai extends V2{static compare(e,r){const n=ai.order.indexOf(e),a=ai.order.indexOf(r);return n>=0||a>=0?n-a:e===r?0:e<r?-1:1}formatAt(e,r,n,a){if(ai.compare(this.statics.blotName,n)<0&&this.scroll.query(n,st.BLOT)){const s=this.isolate(e,r);a&&s.wrap(n,a)}else super.formatAt(e,r,n,a)}optimize(e){if(super.optimize(e),this.parent instanceof ai&&ai.compare(this.statics.blotName,this.parent.statics.blotName)>0){const r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}};Ke(ai,"allowedChildren",[ai,Ks,Wa,Bs]),Ke(ai,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ji=ai;const m$=1;class Gn extends Rh{constructor(){super(...arguments);Ke(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=$8(this)),this.cache.delta}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}formatAt(r,n,a,s){n<=0||(this.scroll.query(a,st.BLOCK)?r+n===this.length()&&this.format(a,s):super.formatAt(r,Math.min(n,this.length()-r-1),a,s),this.cache={})}insertAt(r,n,a){if(a!=null){super.insertAt(r,n,a),this.cache={};return}if(n.length===0)return;const s=n.split(`
`),l=s.shift();l.length>0&&(r<this.length()-1||this.children.tail==null?super.insertAt(Math.min(r,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let u=this;s.reduce((d,h)=>(u=u.split(d,!0),u.insertAt(0,h),h.length),r+l.length)}insertBefore(r,n){const{head:a}=this.children;super.insertBefore(r,n),a instanceof Ks&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+m$),this.cache.length}moveChildren(r,n){super.moveChildren(r,n),this.cache={}}optimize(r){super.optimize(r),this.cache={}}path(r){return super.path(r,!0)}removeChild(r){super.removeChild(r),this.cache={}}split(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(r===0||r>=this.length()-m$)){const s=this.clone();return r===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const a=super.split(r,n);return this.cache={},a}}Gn.blotName="block";Gn.tagName="P";Gn.defaultChild=Ks;Gn.allowedChildren=[Ks,ji,Wa,Bs];class ds extends Wa{attach(){super.attach(),this.attributes=new ty(this.domNode)}delta(){return new nt().insert(this.value(),J(J({},this.formats()),this.attributes.values()))}format(e,r){const n=this.scroll.query(e,st.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,r)}formatAt(e,r,n,a){this.format(n,a)}insertAt(e,r,n){if(n!=null){super.insertAt(e,r,n);return}const a=r.split(`
`),s=a.pop(),l=a.map(d=>{const h=this.scroll.create(Gn.blotName);return h.insertAt(0,d),h}),u=this.split(e);l.forEach(d=>{this.parent.insertBefore(d,u)}),s&&this.parent.insertBefore(this.scroll.create("text",s),u)}}ds.scope=st.BLOCK_BLOT;function $8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(ta).reduce((r,n)=>n.length()===0?r:r.insert(n.value(),cs(n,{},e)),new nt).insert(`
`,cs(t))}function cs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e=J(J({},e),t.formats()),r&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:cs(t.parent,e,r)}const ls=class ls extends Wa{static value(){}constructor(e,r,n){super(e,r),this.selection=n,this.textNode=document.createTextNode(ls.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,r){if(this.savedLength!==0){super.format(e,r);return}let n=this,a=0;for(;n!=null&&n.statics.scope!==st.BLOCK_BLOT;)a+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=ls.CONTENTS.length,n.optimize(),n.formatAt(a,ls.CONTENTS.length,e,r),this.savedLength=0)}index(e,r){return e===this.textNode?0:super.index(e,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const r=this.prev instanceof Bs?this.prev:null,n=r?r.length():0,a=this.next instanceof Bs?this.next:null,s=a?a.text:"",{textNode:l}=this,u=l.data.split(ls.CONTENTS).join("");l.data=ls.CONTENTS;let d;if(r)d=r,(u||a)&&(r.insertAt(r.length(),u+s),a&&a.remove());else if(a)d=a,a.insertAt(0,u);else{const h=document.createTextNode(u);d=this.scroll.create(h),this.parent.insertBefore(d,this)}if(this.remove(),e){const h=(b,y)=>r&&b===r.domNode?y:b===l?n+y-1:a&&b===a.domNode?n+u.length+y:null,m=h(e.start.node,e.start.offset),p=h(e.end.node,e.end.offset);if(m!==null&&p!==null)return{startNode:d.domNode,startOffset:m,endNode:d.domNode,endOffset:p}}return null}update(e,r){if(e.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(r.range=n)}}optimize(e){super.optimize(e);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=ls.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}};Ke(ls,"blotName","cursor"),Ke(ls,"className","ql-cursor"),Ke(ls,"tagName","span"),Ke(ls,"CONTENTS","\uFEFF");let jd=ls;const lj=new WeakMap,cj=["error","warn","log","info"];let uj="warn";function P8(t){if(uj&&cj.indexOf(t)<=cj.indexOf(uj)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function Eo(t){return cj.reduce((e,r)=>(e[r]=P8.bind(console,r,t),e),{})}Eo.level=t=>{uj=t};P8.level=Eo.level;const cw=Eo("quill:events"),gBe=["selectionchange","mousedown","mouseup","click"];gBe.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const s=lj.get(a);s&&s.emitter&&s.emitter.handleDOM(...r)})})});class Qe extends DI{constructor(){super(),this.domListeners={},this.on("error",cw.error)}emit(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return cw.log.call(cw,...r),super.emit(...r)}handleDOM(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(s=>{let{node:l,handler:u}=s;(e.target===l||l.contains(e.target))&&u(e,...n)})}listenDOM(e,r,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:r,handler:n})}}Ke(Qe,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ke(Qe,"sources",{API:"api",SILENT:"silent",USER:"user"});const uw=Eo("quill:selection");class Dc{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=r}}class pBe{constructor(e,r){this.emitter=r,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Dc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Qe.sources.USER),1)}),this.emitter.on(Qe.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(Qe.events.SCROLL_UPDATE,(a,s)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const l=s.some(u=>u.type==="characterData"||u.type==="childList"||u.type==="attributes"&&u.target===this.root);this.update(l?Qe.sources.SILENT:a)}catch(l){}})}),this.emitter.on(Qe.events.SCROLL_OPTIMIZE,(n,a)=>{if(a.range){const{startNode:s,startOffset:l,endNode:u,endOffset:d}=a.range;this.setNativeRange(s,l,u,d),this.update(Qe.sources.SILENT)}}),this.update(Qe.sources.SILENT)}handleComposition(){this.emitter.on(Qe.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Qe.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Qe.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,r){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(e,st.BLOCK))){if(n.start.node!==this.cursor.textNode){const a=this.scroll.find(n.start.node,!1);if(a==null)return;if(a instanceof ta){const s=a.split(n.start.offset);a.parent.insertBefore(this.cursor,s)}else a.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,r),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();e=Math.min(e,n-1),r=Math.min(e+r,n-1)-e;let a,[s,l]=this.scroll.leaf(e);if(s==null)return null;if(r>0&&l===s.length()){const[m]=this.scroll.leaf(e+1);if(m){const[p]=this.scroll.line(e),[b]=this.scroll.line(e+1);p===b&&(s=m,l=0)}}[a,l]=s.position(l,!0);const u=document.createRange();if(r>0)return u.setStart(a,l),[s,l]=this.scroll.leaf(e+r),s==null?null:([a,l]=s.position(l,!0),u.setEnd(a,l),u.getBoundingClientRect());let d="left",h;if(a instanceof Text){if(!a.data.length)return null;l<a.data.length?(u.setStart(a,l),u.setEnd(a,l+1)):(u.setStart(a,l-1),u.setEnd(a,l),d="right"),h=u.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;h=s.domNode.getBoundingClientRect(),l>0&&(d="right")}return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const r=e.getRangeAt(0);if(r==null)return null;const n=this.normalizeNative(r);return uw.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const r=this.getNativeRange();return r==null?[null,null]:[this.normalizedToRange(r),r]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&dw(this.root,document.activeElement)}normalizedToRange(e){const r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);const n=r.map(l=>{const[u,d]=l,h=this.scroll.find(u,!0),m=h.offset(this.scroll);return d===0?m:h instanceof ta?m+h.index(u,d):m+h.length()}),a=Math.min(Math.max(...n),this.scroll.length()-1),s=Math.min(a,...n);return new Dc(s,a-s)}normalizeNative(e){if(!dw(this.root,e.startContainer)||!e.collapsed&&!dw(this.root,e.endContainer))return null;const r={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[r.start,r.end].forEach(n=>{let{node:a,offset:s}=n;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>s)a=a.childNodes[s],s=0;else if(a.childNodes.length===s)a=a.lastChild,a instanceof Text?s=a.data.length:a.childNodes.length>0?s=a.childNodes.length:s=a.childNodes.length+1;else break;n.node=a,n.offset=s}),r}rangeToNative(e){const r=this.scroll.length(),n=(a,s)=>{a=Math.min(r-1,a);const[l,u]=this.scroll.leaf(a);return l?l.position(u,s):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(uw.info("setNativeRange",e,r,n,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||n.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(u==null||s||e!==u.startContainer||r!==u.startOffset||n!==u.endContainer||a!==u.endOffset){e instanceof Element&&e.tagName==="BR"&&(r=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&n.tagName==="BR"&&(a=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const d=document.createRange();d.setStart(e,r),d.setEnd(n,a),l.removeAllRanges(),l.addRange(d)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qe.sources.API;if(typeof r=="string"&&(n=r,r=!1),uw.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,r)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qe.sources.USER;const r=this.lastRange,[n,a]=this.getRange();if(this.lastRange=n,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!ml(r,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const s=[Qe.events.SELECTION_CHANGE,nd(this.lastRange),nd(r),e];this.emitter.emit(Qe.events.EDITOR_CHANGE,...s),e!==Qe.sources.SILENT&&this.emitter.emit(...s)}}}function dw(t,e){try{e.parentNode}catch(r){return!1}return t.contains(e)}const bBe=/^[ -~]*$/;class yBe{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const n=g$(e),a=new nt;return xBe(n.ops.slice()).reduce((l,u)=>{const d=ms.Op.length(u);let h=u.attributes||{},m=!1,p=!1;if(u.insert!=null){if(a.retain(d),typeof u.insert=="string"){const _=u.insert;p=!_.endsWith(`
`)&&(r<=l||!!this.scroll.descendant(ds,l)[0]),this.scroll.insertAt(l,_);const[w,j]=this.scroll.line(l);let k=vl({},cs(w));if(w instanceof Gn){const[E]=w.descendant(ta,j);E&&(k=vl(k,cs(E)))}h=ms.AttributeMap.diff(k,h)||{}}else if(typeof u.insert=="object"){const _=Object.keys(u.insert)[0];if(_==null)return l;const w=this.scroll.query(_,st.INLINE)!=null;if(w)(r<=l||this.scroll.descendant(ds,l)[0])&&(p=!0);else if(l>0){const[j,k]=this.scroll.descendant(ta,l-1);j instanceof Bs?j.value()[k]!==`
`&&(m=!0):j instanceof Wa&&j.statics.scope===st.INLINE_BLOT&&(m=!0)}if(this.scroll.insertAt(l,_,u.insert[_]),w){const[j]=this.scroll.descendant(ta,l);if(j){const k=vl({},cs(j));h=ms.AttributeMap.diff(k,h)||{}}}}r+=d}else if(a.push(u),u.retain!==null&&typeof u.retain=="object"){const _=Object.keys(u.retain)[0];if(_==null)return l;this.scroll.updateEmbedAt(l,_,u.retain[_])}Object.keys(h).forEach(_=>{this.scroll.formatAt(l,d,_,h[_])});const b=m?1:0,y=p?1:0;return r+=b+y,a.retain(b),a.delete(y),l+d+b+y},0),a.reduce((l,u)=>typeof u.delete=="number"?(this.scroll.deleteAt(l,u.delete),l):l+ms.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,r){return this.scroll.deleteAt(e,r),this.update(new nt().retain(e).delete(r))}formatLine(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(s=>{this.scroll.lines(e,Math.max(r,1)).forEach(l=>{l.format(s,n[s])})}),this.scroll.optimize();const a=new nt().retain(e).retain(r,nd(n));return this.update(a)}formatText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(s=>{this.scroll.formatAt(e,r,s,n[s])});const a=new nt().retain(e).retain(r,nd(n));return this.update(a)}getContents(e,r){return this.delta.slice(e,e+r)}getDelta(){return this.scroll.lines().reduce((e,r)=>e.concat(r.delta()),new nt)}getFormat(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],a=[];r===0?this.scroll.path(e).forEach(u=>{const[d]=u;d instanceof Gn?n.push(d):d instanceof ta&&a.push(d)}):(n=this.scroll.lines(e,r),a=this.scroll.descendants(ta,e,r));const[s,l]=[n,a].map(u=>{const d=u.shift();if(d==null)return{};let h=cs(d);for(;Object.keys(h).length>0;){const m=u.shift();if(m==null)return h;h=_Be(cs(m),h)}return h});return J(J({},s),l)}getHTML(e,r){const[n,a]=this.scroll.line(e);if(n){const s=n.length();return n.length()>=a+r&&!(a===0&&r===s)?Dh(n,a,r,!0):Dh(this.scroll,e,r,!0)}return""}getText(e,r){return this.getContents(e,r).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(e,r){const n=g$(r),a=new nt().retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(a)}insertEmbed(e,r,n){return this.scroll.insertAt(e,r,n),this.update(new nt().retain(e).insert({[r]:n}))}insertText(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,r),Object.keys(n).forEach(a=>{this.scroll.formatAt(e,r.length,a,n[a])}),this.update(new nt().retain(e).insert(r,nd(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Gn.blotName)return!1;const r=e;return r.children.length>1?!1:r.children.head instanceof Ks}removeFormat(e,r){const n=this.getText(e,r),[a,s]=this.scroll.line(e+r);let l=0,u=new nt;a!=null&&(l=a.length()-s,u=a.delta().slice(s,s+l-1).insert(`
`));const h=this.getContents(e,r+l).diff(new nt().insert(n).concat(u)),m=new nt().retain(e).concat(h);return this.applyDelta(m)}update(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(bBe)&&this.scroll.find(r[0].target)){const s=this.scroll.find(r[0].target),l=cs(s),u=s.offset(this.scroll),d=r[0].oldValue.replace(jd.CONTENTS,""),h=new nt().insert(d),m=new nt().insert(s.value()),p=n&&{oldRange:p$(n.oldRange,-u),newRange:p$(n.newRange,-u)};e=new nt().retain(u).concat(h.diff(m,p)).reduce((y,_)=>_.insert?y.insert(_.insert,l):y.push(_),new nt),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!ml(a.compose(e),this.delta))&&(e=a.diff(this.delta,n));return e}}function Ku(t,e,r){if(t.length===0){const[y]=fw(r.pop());return e<=0?`</li></${y}>`:`</li></${y}>${Ku([],e-1,r)}`}const[{child:n,offset:a,length:s,indent:l,type:u},...d]=t,[h,m]=fw(u);if(l>e)return r.push(u),l===e+1?`<${h}><li${m}>${Dh(n,a,s)}${Ku(d,l,r)}`:`<${h}><li>${Ku(t,e+1,r)}`;const p=r[r.length-1];if(l===e&&u===p)return`</li><li${m}>${Dh(n,a,s)}${Ku(d,l,r)}`;const[b]=fw(r.pop());return`</li></${b}>${Ku(t,e-1,r)}`}function Dh(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,r);if(t instanceof Bs)return ny(t.value().slice(e,e+r)).replaceAll(" ","&nbsp;");if(t instanceof Us){if(t.statics.blotName==="list-container"){const h=[];return t.children.forEachAt(e,r,(m,p,b)=>{const y="formats"in m&&typeof m.formats=="function"?m.formats():{};h.push({child:m,offset:p,length:b,indent:y.indent||0,type:y.list})}),Ku(h,-1,[])}const a=[];if(t.children.forEachAt(e,r,(h,m,p)=>{a.push(Dh(h,m,p))}),n||t.statics.blotName==="list")return a.join("");const{outerHTML:s,innerHTML:l}=t.domNode,[u,d]=s.split(`>${l}<`);return u==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${d}`:`${u}>${a.join("")}<${d}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function _Be(t,e){return Object.keys(e).reduce((r,n)=>{if(t[n]==null)return r;const a=e[n];return a===t[n]?r[n]=a:Array.isArray(a)?a.indexOf(t[n])<0?r[n]=a.concat([t[n]]):r[n]=a:r[n]=[a,t[n]],r},{})}function fw(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function g$(t){return t.reduce((e,r)=>{if(typeof r.insert=="string"){const n=r.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(n,r.attributes)}return e.push(r)},new nt)}function p$(t,e){let{index:r,length:n}=t;return new Dc(r+e,n)}function xBe(t){const e=[];return t.forEach(r=>{typeof r.insert=="string"?r.insert.split(`
`).forEach((a,s)=>{s&&e.push({insert:`
`,attributes:r.attributes}),a&&e.push({insert:a,attributes:r.attributes})}):e.push(r)}),e}class Vs{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=r}}Ke(Vs,"DEFAULTS",{});const lp="\uFEFF";class W2 extends Wa{constructor(e,r){super(e,r),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(lp),this.rightGuard=document.createTextNode(lp),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,r)}restore(e){let r=null,n;const a=e.data.split(lp).join("");if(e===this.leftGuard)if(this.prev instanceof Bs){const s=this.prev.length();this.prev.insertAt(s,a),r={startNode:this.prev.domNode,startOffset:s+a.length}}else n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this),r={startNode:n,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof Bs?(this.next.insertAt(0,a),r={startNode:this.next.domNode,startOffset:a.length}):(n=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(n),this.next),r={startNode:n,startOffset:a.length}));return e.data=lp,r}update(e,r){e.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const a=this.restore(n.target);a&&(r.range=a)}})}}class vBe{constructor(e,r){Ke(this,"isComposing",!1);this.scroll=e,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const r=e.target instanceof Node?this.scroll.find(e.target,!0):null;r&&!(r instanceof W2)&&(this.emitter.emit(Qe.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Qe.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Qe.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Qe.events.COMPOSITION_END,e),this.isComposing=!1}}const oh=class oh{constructor(e,r){Ke(this,"modules",{});this.quill=e,this.options=r}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const r=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new r(this.quill,this.options.modules[e]||{}),this.modules[e]}};Ke(oh,"DEFAULTS",{modules:{}}),Ke(oh,"themes",{default:oh});let Nd=oh;const wBe=t=>t.parentElement||t.getRootNode().host||null,jBe=t=>{const e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},cp=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},b$=(t,e,r,n,a,s)=>t<r&&e>n?0:t<r?-(r-t+a):e>n?e-t>n-r?t+a-r:e-n+s:0,NBe=(t,e)=>{var s,l,u,d,h;const r=t.ownerDocument;let n=e,a=t;for(;a;){const m=a===r.body,p=m?{top:0,right:(l=(s=window.visualViewport)==null?void 0:s.width)!=null?l:r.documentElement.clientWidth,bottom:(d=(u=window.visualViewport)==null?void 0:u.height)!=null?d:r.documentElement.clientHeight,left:0}:jBe(a),b=getComputedStyle(a),y=b$(n.left,n.right,p.left,p.right,cp(b.scrollPaddingLeft),cp(b.scrollPaddingRight)),_=b$(n.top,n.bottom,p.top,p.bottom,cp(b.scrollPaddingTop),cp(b.scrollPaddingBottom));if(y||_)if(m)(h=r.defaultView)==null||h.scrollBy(y,_);else{const{scrollLeft:w,scrollTop:j}=a;_&&(a.scrollTop+=_),y&&(a.scrollLeft+=y);const k=a.scrollLeft-w,E=a.scrollTop-j;n={left:n.left-k,top:n.top-E,right:n.right-k,bottom:n.bottom-E}}a=m||b.position==="fixed"?null:wBe(a)}},kBe=100,SBe=["block","break","cursor","inline","scroll","text"],EBe=(t,e,r)=>{const n=new wd;return SBe.forEach(a=>{const s=e.query(a);s&&n.register(s)}),t.forEach(a=>{var u;let s=e.query(a);s||r.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;s;)if(n.register(s),s="blotName"in s&&(u=s.requiredContainer)!=null?u:null,l+=1,l>kBe){r.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),n},sd=Eo("quill"),up=new wd;Us.uiClass="ql-ui";const Os=class Os{static debug(e){e===!0&&(e="log"),Eo.level(e)}static find(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return lj.get(e)||up.find(e,r)}static import(e){return this.imports[e]==null&&sd.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],r=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in e?e.attrName:e.blotName;typeof n=="string"?this.register(`formats/${n}`,e,r):Object.keys(e).forEach(a=>{this.register(a,e[a],r)})}else{const e=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!n&&sd.warn(`Overwriting ${e} with`,r),this.imports[e]=r,(e.startsWith("blots/")||e.startsWith("formats/"))&&r&&typeof r!="boolean"&&r.blotName!=="abstract"&&up.register(r),typeof r.register=="function"&&r.register(up)}}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=ABe(e,r),this.container=this.options.container,this.container==null){sd.error("Invalid Quill container",e);return}this.options.debug&&Os.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",lj.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Qe;const a=G2.blotName,s=this.options.registry.query(a);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new yBe(this.scroll),this.selection=new pBe(this.scroll,this.emitter),this.composition=new vBe(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Qe.events.EDITOR_CHANGE,l=>{l===Qe.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Qe.events.SCROLL_UPDATE,(l,u)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),m=d&&h?{oldRange:d,newRange:h}:void 0;Es.call(this,()=>this.editor.update(null,u,m),l)}),this.emitter.on(Qe.events.SCROLL_EMBED_UPDATE,(l,u)=>{const d=this.selection.lastRange,[h]=this.selection.getRange(),m=d&&h?{oldRange:d,newRange:h}:void 0;Es.call(this,()=>{const p=new nt().retain(l.offset(this)).retain({[l.statics.blotName]:u});return this.editor.update(p,[],m)},Os.sources.USER)}),n){const l=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,r),e}blur(){this.selection.setRange(null)}deleteText(e,r,n){return[e,r,,n]=Wi(e,r,n),Es.call(this,()=>this.editor.deleteText(e,r),n,e,-1*r)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const r=e();return this.allowReadOnlyEdits=!1,r}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qe.sources.API;return Es.call(this,()=>{const a=this.getSelection(!0);let s=new nt;if(a==null)return s;if(this.scroll.query(e,st.BLOCK))s=this.editor.formatLine(a.index,a.length,{[e]:r});else{if(a.length===0)return this.selection.format(e,r),s;s=this.editor.formatText(a.index,a.length,{[e]:r})}return this.setSelection(a,Qe.sources.SILENT),s},n)}formatLine(e,r,n,a,s){let l;return[e,r,l,s]=Wi(e,r,n,a,s),Es.call(this,()=>this.editor.formatLine(e,r,l),s,e,0)}formatText(e,r,n,a,s){let l;return[e,r,l,s]=Wi(e,r,n,a,s),Es.call(this,()=>this.editor.formatText(e,r,l),s,e,0)}getBounds(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof e=="number"?n=this.selection.getBounds(e,r):n=this.selection.getBounds(e.index,e.length),!n)return null;const a=this.container.getBoundingClientRect();return{bottom:n.bottom-a.top,height:n.height,left:n.left-a.left,right:n.right-a.left,top:n.top-a.top,width:n.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,r]=Wi(e,r),this.editor.getContents(e,r)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,r):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,r)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r!=null?r:this.getLength()-e),[e,r]=Wi(e,r),this.editor.getHTML(e,r)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(r=r!=null?r:this.getLength()-e),[e,r]=Wi(e,r),this.editor.getText(e,r)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Os.sources.API;return Es.call(this,()=>this.editor.insertEmbed(e,r,n),a,e)}insertText(e,r,n,a,s){let l;return[e,,l,s]=Wi(e,0,n,a,s),Es.call(this,()=>this.editor.insertText(e,r,l),s,e,r.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,r,n){return[e,r,,n]=Wi(e,r,n),Es.call(this,()=>this.editor.removeFormat(e,r),n,e)}scrollRectIntoView(e){NBe(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,r=e&&this.selection.getBounds(e.index,e.length);r&&this.scrollRectIntoView(r)}setContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qe.sources.API;return Es.call(this,()=>{e=new nt(e);const n=this.getLength(),a=this.editor.deleteText(0,n),s=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return a.compose(s).compose(l)},r)}setSelection(e,r,n){e==null?this.selection.setRange(null,r||Os.sources.API):([e,r,,n]=Wi(e,r,n),this.selection.setRange(new Dc(Math.max(0,e),r),n),n!==Qe.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qe.sources.API;const n=new nt().insert(e);return this.setContents(n,r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qe.sources.USER;const r=this.scroll.update(e);return this.selection.update(e),r}updateContents(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qe.sources.API;return Es.call(this,()=>(e=new nt(e),this.editor.applyDelta(e)),r,!0)}};Ke(Os,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:up,theme:"default"}),Ke(Os,"events",Qe.events),Ke(Os,"sources",Qe.sources),Ke(Os,"version","2.0.3"),Ke(Os,"imports",{delta:nt,parchment:cBe,"core/module":Vs,"core/theme":Nd});let Pe=Os;function y$(t){return typeof t=="string"?document.querySelector(t):t}function hw(t){return Object.entries(t!=null?t:{}).reduce((e,r)=>{let[n,a]=r;return je(J({},e),{[n]:a===!0?{}:a})},{})}function _$(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function ABe(t,e){const r=y$(t);if(!r)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===Pe.DEFAULTS.theme?Nd:Pe.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const y=Pe.DEFAULTS,{modules:s}=y,l=Su(y,["modules"]),_=a.DEFAULTS,{modules:u}=_,d=Su(_,["modules"]);let h=hw(e.modules);h!=null&&h.toolbar&&h.toolbar.constructor!==Object&&(h=je(J({},h),{toolbar:{container:h.toolbar}}));const m=vl({},hw(s),hw(u),h),p=J(J(J({},l),_$(d)),_$(e));let b=e.registry;return b?e.formats&&sd.warn('Ignoring "formats" option because "registry" is specified'):b=e.formats?EBe(e.formats,p.registry,sd):p.registry,je(J({},p),{registry:b,container:r,theme:a,modules:Object.entries(m).reduce((w,j)=>{let[k,E]=j;if(!E)return w;const S=Pe.import(`modules/${k}`);return S==null?(sd.error(`Cannot load ${k} module. Are you sure you registered it?`),w):je(J({},w),{[k]:vl({},S.DEFAULTS||{},E)})},{}),bounds:y$(p.bounds)})}function Es(t,e,r,n){if(!this.isEnabled()&&e===Qe.sources.USER&&!this.allowReadOnlyEdits)return new nt;let a=r==null?null:this.getSelection();const s=this.editor.delta,l=t();if(a!=null&&(r===!0&&(r=a.index),n==null?a=x$(a,l,e):n!==0&&(a=x$(a,r,n,e)),this.setSelection(a,Qe.sources.SILENT)),l.length()>0){const u=[Qe.events.TEXT_CHANGE,l,s,e];this.emitter.emit(Qe.events.EDITOR_CHANGE,...u),e!==Qe.sources.SILENT&&this.emitter.emit(...u)}return l}function Wi(t,e,r,n,a){let s={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(a=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(a=n,n=r,r=e,e=0),typeof r=="object"?(s=r,a=n):typeof r=="string"&&(n!=null?s[r]=n:a=r),a=a||Qe.sources.API,[t,e,s,a]}function x$(t,e,r,n){const a=typeof r=="number"?r:0;if(t==null)return null;let s,l;return e&&typeof e.transformPosition=="function"?[s,l]=[t.index,t.index+t.length].map(u=>e.transformPosition(u,n!==Qe.sources.USER)):[s,l]=[t.index,t.index+t.length].map(u=>u<e||u===e&&n===Qe.sources.USER?u:a>=0?u+a:Math.max(e,u+a)),new Dc(s,l-s)}class zc extends ry{}function v$(t){return t instanceof Gn||t instanceof ds}function w$(t){return typeof t.updateContent=="function"}class Vu extends G2{constructor(e,r,n){let{emitter:a}=n;super(e,r),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Qe.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Qe.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,r){this.emitter.emit(Qe.events.SCROLL_EMBED_UPDATE,e,r)}deleteAt(e,r){const[n,a]=this.line(e),[s]=this.line(e+r);if(super.deleteAt(e,r),s!=null&&n!==s&&a>0){if(n instanceof ds||s instanceof ds){this.optimize();return}const l=s.children.head instanceof Ks?null:s.children.head;n.moveChildren(s,l),n.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,r,n,a){super.formatAt(e,r,n,a),this.optimize()}insertAt(e,r,n){if(e>=this.length())if(n==null||this.scroll.query(r,st.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),n==null&&r.endsWith(`
`)?a.insertAt(0,r.slice(0,-1),n):a.insertAt(0,r,n)}else{const a=this.scroll.create(r,n);this.appendChild(a)}else super.insertAt(e,r,n);this.optimize()}insertBefore(e,r){if(e.statics.scope===st.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,r)}else super.insertBefore(e,r)}insertContents(e,r){const n=this.deltaToRenderBlocks(r.concat(new nt().insert(`
`))),a=n.pop();if(a==null)return;this.batchStart();const s=n.shift();if(s){const d=s.type==="block"&&(s.delta.length()===0||!this.descendant(ds,e)[0]&&e<this.length()),h=s.type==="block"?s.delta:new nt().insert({[s.key]:s.value});mw(this,e,h);const m=s.type==="block"?1:0,p=e+h.length()+m;d&&this.insertAt(p-1,`
`);const b=cs(this.line(e)[0]),y=ms.AttributeMap.diff(b,s.attributes)||{};Object.keys(y).forEach(_=>{this.formatAt(p-1,1,_,y[_])}),e=p}let[l,u]=this.children.find(e);if(n.length&&(l&&(l=l.split(u),u=0),n.forEach(d=>{if(d.type==="block"){const h=this.createBlock(d.attributes,l||void 0);mw(h,0,d.delta)}else{const h=this.create(d.key,d.value);this.insertBefore(h,l||void 0),Object.keys(d.attributes).forEach(m=>{h.format(m,d.attributes[m])})}})),a.type==="block"&&a.delta.length()){const d=l?l.offset(l.scroll)+u:this.length();mw(this,d,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const r=this.path(e).pop();if(!r)return[null,-1];const[n,a]=r;return n instanceof ta?[n,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(v$,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(a,s,l)=>{let u=[],d=l;return a.children.forEachAt(s,l,(h,m,p)=>{v$(h)?u.push(h):h instanceof ry&&(u=u.concat(n(h,m,d))),d-=p}),u};return n(this,e,r)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,r),e.length>0&&this.emitter.emit(Qe.events.SCROLL_OPTIMIZE,e,r))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let r=Qe.sources.USER;typeof e=="string"&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(n=>{let{target:a}=n;const s=this.find(a,!0);return s&&!w$(s)}),e.length>0&&this.emitter.emit(Qe.events.SCROLL_BEFORE_UPDATE,r,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Qe.events.SCROLL_UPDATE,r,e)}updateEmbedAt(e,r,n){const[a]=this.descendant(s=>s instanceof ds,e);a&&a.statics.blotName===r&&w$(a)&&a.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const r=[];let n=new nt;return e.forEach(a=>{var l;const s=a==null?void 0:a.insert;if(s)if(typeof s=="string"){const u=s.split(`
`);u.slice(0,-1).forEach(h=>{var m;n.insert(h,a.attributes),r.push({type:"block",delta:n,attributes:(m=a.attributes)!=null?m:{}}),n=new nt});const d=u[u.length-1];d&&n.insert(d,a.attributes)}else{const u=Object.keys(s)[0];if(!u)return;this.query(u,st.INLINE)?n.push(a):(n.length()&&r.push({type:"block",delta:n,attributes:{}}),n=new nt,r.push({type:"blockEmbed",key:u,value:s[u],attributes:(l=a.attributes)!=null?l:{}}))}}),n.length()&&r.push({type:"block",delta:n,attributes:{}}),r}createBlock(e,r){let n;const a={};Object.entries(e).forEach(u=>{let[d,h]=u;this.query(d,st.BLOCK&st.BLOT)!=null?n=d:a[d]=h});const s=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(s,r||void 0);const l=s.length();return Object.entries(a).forEach(u=>{let[d,h]=u;s.formatAt(0,l,d,h)}),s}}Ke(Vu,"blotName","scroll"),Ke(Vu,"className","ql-editor"),Ke(Vu,"tagName","DIV"),Ke(Vu,"defaultChild",Gn),Ke(Vu,"allowedChildren",[Gn,ds,zc]);function mw(t,e,r){r.reduce((n,a)=>{const s=ms.Op.length(a);let l=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const u=a.insert;t.insertAt(n,u);const[d]=t.descendant(ta,n),h=cs(d);l=ms.AttributeMap.diff(h,l)||{}}else if(typeof a.insert=="object"){const u=Object.keys(a.insert)[0];if(u==null)return n;if(t.insertAt(n,u,a.insert[u]),t.scroll.query(u,st.INLINE)!=null){const[h]=t.descendant(ta,n),m=cs(h);l=ms.AttributeMap.diff(m,l)||{}}}}return Object.keys(l).forEach(u=>{t.formatAt(n,s,u,l[u])}),n+s},e)}const Y2={scope:st.BLOCK,whitelist:["right","center","justify"]},TBe=new wi("align","align",Y2),R8=new Hs("align","ql-align",Y2),D8=new Dl("align","text-align",Y2);class L8 extends Dl{value(e){let r=super.value(e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${r.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):r}}const OBe=new Hs("color","ql-color",{scope:st.INLINE}),X2=new L8("color","color",{scope:st.INLINE}),CBe=new Hs("background","ql-bg",{scope:st.INLINE}),Z2=new L8("background","background-color",{scope:st.INLINE});class Fc extends zc{static create(e){const r=super.create(e);return r.setAttribute("spellcheck","false"),r}code(e,r){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(e,e+r)}html(e,r){return`<pre>
${ny(this.code(e,r))}
</pre>`}}class na extends Gn{static register(){Pe.register(Fc)}}Ke(na,"TAB","  ");class J2 extends ji{}J2.blotName="code";J2.tagName="CODE";na.blotName="code-block";na.className="ql-code-block";na.tagName="DIV";Fc.blotName="code-block-container";Fc.className="ql-code-block-container";Fc.tagName="DIV";Fc.allowedChildren=[na];na.allowedChildren=[Bs,Ks,jd];na.requiredContainer=Fc;const Q2={scope:st.BLOCK,whitelist:["rtl"]},I8=new wi("direction","dir",Q2),M8=new Hs("direction","ql-direction",Q2),U8=new Dl("direction","direction",Q2),q8={scope:st.INLINE,whitelist:["serif","monospace"]},B8=new Hs("font","ql-font",q8);class $Be extends Dl{value(e){return super.value(e).replace(/["']/g,"")}}const z8=new $Be("font","font-family",q8),F8=new Hs("size","ql-size",{scope:st.INLINE,whitelist:["small","large","huge"]}),H8=new Dl("size","font-size",{scope:st.INLINE,whitelist:["10px","18px","32px"]}),PBe=Eo("quill:keyboard"),RBe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class ay extends Vs{static match(e,r){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!r[n]!==e[n]&&r[n]!==null)?!1:r.key===e.key||r.key===e.which}constructor(e,r){super(e,r),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=LBe(e);if(a==null){PBe.warn("Attempted to add invalid keyboard binding",a);return}typeof r=="function"&&(r={handler:r}),typeof n=="function"&&(n={handler:n}),(Array.isArray(a.key)?a.key:[a.key]).forEach(l=>{const u=J(J(je(J({},a),{key:l}),r),n);this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(k=>ay.match(e,k));if(a.length===0)return;const s=Pe.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[u,d]=this.quill.getLine(l.index),[h,m]=this.quill.getLeaf(l.index),[p,b]=l.length===0?[h,m]:this.quill.getLeaf(l.index+l.length),y=h instanceof W0?h.value().slice(0,m):"",_=p instanceof W0?p.value().slice(b):"",w={collapsed:l.length===0,empty:l.length===0&&u.length()<=1,format:this.quill.getFormat(l),line:u,offset:d,prefix:y,suffix:_,event:e};a.some(k=>{if(k.collapsed!=null&&k.collapsed!==w.collapsed||k.empty!=null&&k.empty!==w.empty||k.offset!=null&&k.offset!==w.offset)return!1;if(Array.isArray(k.format)){if(k.format.every(E=>w.format[E]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every(E=>k.format[E]===!0?w.format[E]!=null:k.format[E]===!1?w.format[E]==null:ml(k.format[E],w.format[E])))return!1;return k.prefix!=null&&!k.prefix.test(w.prefix)||k.suffix!=null&&!k.suffix.test(w.suffix)?!1:k.handler.call(this,l,w,k)!==!0})&&e.preventDefault()})}handleBackspace(e,r){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(r.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[s]=this.quill.getLine(e.index);let l=new nt().retain(e.index-n).delete(n);if(r.offset===0){const[u]=this.quill.getLine(e.index-1);if(u&&!(u.statics.blotName==="block"&&u.length()<=1)){const h=s.formats(),m=this.quill.getFormat(e.index-1,1);if(a=ms.AttributeMap.diff(h,m)||{},Object.keys(a).length>0){const p=new nt().retain(e.index+s.length()-2).retain(1,a);l=l.compose(p)}}}this.quill.updateContents(l,Pe.sources.USER),this.quill.focus()}handleDelete(e,r){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(r.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let a={};const[s]=this.quill.getLine(e.index);let l=new nt().retain(e.index).delete(n);if(r.offset>=s.length()-1){const[u]=this.quill.getLine(e.index+1);if(u){const d=s.formats(),h=this.quill.getFormat(e.index,1);a=ms.AttributeMap.diff(d,h)||{},Object.keys(a).length>0&&(l=l.retain(u.length()-1).retain(1,a))}}this.quill.updateContents(l,Pe.sources.USER),this.quill.focus()}handleDeleteRange(e){ek({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,r){const n=Object.keys(r.format).reduce((s,l)=>(this.quill.scroll.query(l,st.BLOCK)&&!Array.isArray(r.format[l])&&(s[l]=r.format[l]),s),{}),a=new nt().retain(e.index).delete(e.length).insert(`
`,n);this.quill.updateContents(a,Pe.sources.USER),this.quill.setSelection(e.index+1,Pe.sources.SILENT),this.quill.focus()}}const DBe={bindings:{bold:gw("bold"),italic:gw("italic"),underline:gw("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Pe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Pe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Pe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Pe.sources.USER)}},"indent code-block":j$(!0),"outdent code-block":j$(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Pe.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const r=new nt().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(r,Pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Pe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Pe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,Pe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,r]=this.quill.getLine(t.index),n=je(J({},e.formats()),{list:"checked"}),a=new nt().retain(t.index).insert(`
`,n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,Pe.sources.USER),this.quill.setSelection(t.index+1,Pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[r,n]=this.quill.getLine(t.index),a=new nt().retain(t.index).insert(`
`,e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(a,Pe.sources.USER),this.quill.setSelection(t.index+1,Pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[r,n,a,s]=e.getTable(t),l=IBe(r,n,a,s);if(l==null)return;let u=r.offset();if(l<0){const d=new nt().retain(u).insert(`
`);this.quill.updateContents(d,Pe.sources.USER),this.quill.setSelection(t.index+1,t.length,Pe.sources.SILENT)}else if(l>0){u+=r.length();const d=new nt().retain(u).insert(`
`);this.quill.updateContents(d,Pe.sources.USER),this.quill.setSelection(u,Pe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:r,line:n}=e,a=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(a-1,Pe.sources.USER):this.quill.setSelection(a+n.length(),Pe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:r}=e.prefix,[n,a]=this.quill.getLine(t.index);if(a>r)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(t.index," ",Pe.sources.USER),this.quill.history.cutoff();const l=new nt().retain(t.index-a).delete(r+1).retain(n.length()-2-a).retain(1,{list:s});return this.quill.updateContents(l,Pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,Pe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,r]=this.quill.getLine(t.index);let n=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,n-=1,n<=0){const s=new nt().retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,Pe.sources.USER),this.quill.setSelection(t.index-1,Pe.sources.SILENT),!1}return!0}},"embed left":dp("ArrowLeft",!1),"embed left shift":dp("ArrowLeft",!0),"embed right":dp("ArrowRight",!1),"embed right shift":dp("ArrowRight",!0),"table down":N$(!1),"table up":N$(!0)}};ay.DEFAULTS=DBe;function j$(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r;const a=this.quill.scroll.query("code-block"),{TAB:s}=a;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,s,Pe.sources.USER),this.quill.setSelection(e.index+s.length,Pe.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:u,length:d}=e;l.forEach((h,m)=>{t?(h.insertAt(0,s),m===0?u+=s.length:d+=s.length):h.domNode.textContent.startsWith(s)&&(h.deleteAt(0,s.length),m===0?u-=s.length:d-=s.length)}),this.quill.update(Pe.sources.USER),this.quill.setSelection(u,d,Pe.sources.SILENT)}}}function dp(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:a}=n;t==="ArrowRight"&&(a+=n.length+1);const[s]=this.quill.getLeaf(a);return s instanceof Wa?(t==="ArrowLeft"?e?this.quill.setSelection(n.index-1,n.length+1,Pe.sources.USER):this.quill.setSelection(n.index-1,Pe.sources.USER):e?this.quill.setSelection(n.index,n.length+1,Pe.sources.USER):this.quill.setSelection(n.index+n.length+1,Pe.sources.USER),!1):!0}}}function gw(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],Pe.sources.USER)}}}function N$(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){const n=t?"prev":"next",a=r.line,s=a.parent[n];if(s!=null){if(s.statics.blotName==="table-row"){let l=s.children.head,u=a;for(;u.prev!=null;)u=u.prev,l=l.next;const d=l.offset(this.quill.scroll)+Math.min(r.offset,l.length()-1);this.quill.setSelection(d,0,Pe.sources.USER)}}else{const l=a.table()[n];l!=null&&(t?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,Pe.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,Pe.sources.USER))}return!1}}}function LBe(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=nd(t);else return null;return t.shortKey&&(t[RBe]=t.shortKey,delete t.shortKey),t}function ek(t){let{quill:e,range:r}=t;const n=e.getLines(r);let a={};if(n.length>1){const s=n[0].formats(),l=n[n.length-1].formats();a=ms.AttributeMap.diff(l,s)||{}}e.deleteText(r,Pe.sources.USER),Object.keys(a).length>0&&e.formatLine(r.index,1,a,Pe.sources.USER),e.setSelection(r.index,Pe.sources.SILENT)}function IBe(t,e,r,n){return e.prev==null&&e.next==null?r.prev==null&&r.next==null?n===0?-1:1:r.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const MBe=/font-weight:\s*normal/,UBe=["P","OL","UL"],k$=t=>t&&UBe.includes(t.tagName),qBe=t=>{Array.from(t.querySelectorAll("br")).filter(e=>k$(e.previousElementSibling)&&k$(e.nextElementSibling)).forEach(e=>{var r;(r=e.parentNode)==null||r.removeChild(e)})},BBe=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var r;return(r=e.getAttribute("style"))==null?void 0:r.match(MBe)}).forEach(e=>{var n;const r=t.createDocumentFragment();r.append(...e.childNodes),(n=e.parentNode)==null||n.replaceChild(r,e)})};function zBe(t){t.querySelector('[id^="docs-internal-guid-"]')&&(BBe(t),qBe(t))}const FBe=/\bmso-list:[^;]*ignore/i,HBe=/\bmso-list:[^;]*\bl(\d+)/i,KBe=/\bmso-list:[^;]*\blevel(\d+)/i,VBe=(t,e)=>{const r=t.getAttribute("style"),n=r==null?void 0:r.match(HBe);if(!n)return null;const a=Number(n[1]),s=r==null?void 0:r.match(KBe),l=s?Number(s[1]):1,u=new RegExp(`@list l${a}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(u),h=d&&d[1]==="bullet"?"bullet":"ordered";return{id:a,indent:l,type:h,element:t}},GBe=t=>{var l,u;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach(d=>{(d.getAttribute("style")||"").match(FBe)?r.push(d):n.push(d)}),r.forEach(d=>{var h;return(h=d.parentNode)==null?void 0:h.removeChild(d)});const a=t.documentElement.innerHTML,s=n.map(d=>VBe(d,a)).filter(d=>d);for(;s.length;){const d=[];let h=s.shift();for(;h;)d.push(h),h=s.length&&((l=s[0])==null?void 0:l.element)===h.element.nextElementSibling&&s[0].id===h.id?s.shift():null;const m=document.createElement("ul");d.forEach(y=>{const _=document.createElement("li");_.setAttribute("data-list",y.type),y.indent>1&&_.setAttribute("class",`ql-indent-${y.indent-1}`),_.innerHTML=y.element.innerHTML,m.appendChild(_)});const p=(u=d[0])==null?void 0:u.element,{parentNode:b}=p!=null?p:{};p&&(b==null||b.replaceChild(m,p)),d.slice(1).forEach(y=>{let{element:_}=y;b==null||b.removeChild(_)})}};function WBe(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&GBe(t)}const YBe=[WBe,zBe],XBe=t=>{t.documentElement&&YBe.forEach(e=>{e(t)})},ZBe=Eo("quill:clipboard"),JBe=[[Node.TEXT_NODE,uze],[Node.TEXT_NODE,E$],["br",nze],[Node.ELEMENT_NODE,E$],[Node.ELEMENT_NODE,rze],[Node.ELEMENT_NODE,tze],[Node.ELEMENT_NODE,lze],["li",ize],["ol, ul",oze],["pre",aze],["tr",cze],["b",pw("bold")],["i",pw("italic")],["strike",pw("strike")],["style",sze]],QBe=[TBe,I8].reduce((t,e)=>(t[e.keyName]=e,t),{}),S$=[D8,Z2,X2,U8,z8,H8].reduce((t,e)=>(t[e.keyName]=e,t),{});class K8 extends Vs{constructor(e,r){var n;super(e,r),this.quill.root.addEventListener("copy",a=>this.onCaptureCopy(a,!1)),this.quill.root.addEventListener("cut",a=>this.onCaptureCopy(a,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],JBe.concat((n=this.options.matchers)!=null?n:[]).forEach(a=>{let[s,l]=a;this.addMatcher(s,l)})}addMatcher(e,r){this.matchers.push([e,r])}convert(e){let{html:r,text:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[na.blotName])return new nt().insert(n||"",{[na.blotName]:a[na.blotName]});if(!r)return new nt().insert(n||"",a);const s=this.convertHTML(r);return pm(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||a.table)?s.compose(new nt().retain(s.length()-1).delete(1)):s}normalizeHTML(e){XBe(e)}convertHTML(e){const r=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(r);const n=r.body,a=new WeakMap,[s,l]=this.prepareMatching(n,a);return tk(this.quill.scroll,n,s,l,a)}dangerouslyPasteHTML(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,r),this.quill.setSelection(0,Pe.sources.SILENT)}else{const a=this.convert({html:r,text:""});this.quill.updateContents(new nt().retain(e).concat(a),n),this.quill.setSelection(e+a.length(),Pe.sources.SILENT)}}onCaptureCopy(e){var l,u;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:a,text:s}=this.onCopy(n,r);(l=e.clipboardData)==null||l.setData("text/plain",s),(u=e.clipboardData)==null||u.setData("text/html",a),r&&ek({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(e){var l,u,d,h,m;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const r=this.quill.getSelection(!0);if(r==null)return;const n=(l=e.clipboardData)==null?void 0:l.getData("text/html");let a=(u=e.clipboardData)==null?void 0:u.getData("text/plain");if(!n&&!a){const p=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");p&&(a=this.normalizeURIList(p))}const s=Array.from(((h=e.clipboardData)==null?void 0:h.files)||[]);if(!n&&s.length>0){this.quill.uploader.upload(r,s);return}if(n&&s.length>0){const p=new DOMParser().parseFromString(n,"text/html");if(p.body.childElementCount===1&&((m=p.body.firstElementChild)==null?void 0:m.tagName)==="IMG"){this.quill.uploader.upload(r,s);return}}this.onPaste(r,{html:n,text:a})}onCopy(e){const r=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:r}}onPaste(e,r){let{text:n,html:a}=r;const s=this.quill.getFormat(e.index),l=this.convert({text:n,html:a},s);ZBe.log("onPaste",l,{text:n,html:a});const u=new nt().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(u,Pe.sources.USER),this.quill.setSelection(u.length()-e.length,Pe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,r){const n=[],a=[];return this.matchers.forEach(s=>{const[l,u]=s;switch(l){case Node.TEXT_NODE:a.push(u);break;case Node.ELEMENT_NODE:n.push(u);break;default:Array.from(e.querySelectorAll(l)).forEach(d=>{if(r.has(d)){const h=r.get(d);h==null||h.push(u)}else r.set(d,[u])});break}}),[n,a]}}Ke(K8,"DEFAULTS",{matchers:[]});function Hc(t,e,r,n){return n.query(e)?t.reduce((a,s)=>{if(!s.insert)return a;if(s.attributes&&s.attributes[e])return a.push(s);const l=r?{[e]:r}:{};return a.insert(s.insert,J(J({},l),s.attributes))},new nt):t}function pm(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){const a=t.ops[n];if(typeof a.insert!="string")break;r=a.insert+r}return r.slice(-1*e.length)===e}function pl(t,e){if(!(t instanceof Element))return!1;const r=e.query(t);return r&&r.prototype instanceof Wa?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function eze(t,e){return t.previousElementSibling&&t.nextElementSibling&&!pl(t.previousElementSibling,e)&&!pl(t.nextElementSibling,e)}const fp=new WeakMap;function V8(t){return t==null?!1:(fp.has(t)||(t.tagName==="PRE"?fp.set(t,!0):fp.set(t,V8(t.parentNode))),fp.get(t))}function tk(t,e,r,n,a){return e.nodeType===e.TEXT_NODE?n.reduce((s,l)=>l(e,s,t),new nt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,l)=>{let u=tk(t,l,r,n,a);return l.nodeType===e.ELEMENT_NODE&&(u=r.reduce((d,h)=>h(l,d,t),u),u=(a.get(l)||[]).reduce((d,h)=>h(l,d,t),u)),s.concat(u)},new nt):new nt}function pw(t){return(e,r,n)=>Hc(r,t,!0,n)}function tze(t,e,r){const n=wi.keys(t),a=Hs.keys(t),s=Dl.keys(t),l={};return n.concat(a).concat(s).forEach(u=>{let d=r.query(u,st.ATTRIBUTE);d!=null&&(l[d.attrName]=d.value(t),l[d.attrName])||(d=QBe[u],d!=null&&(d.attrName===u||d.keyName===u)&&(l[d.attrName]=d.value(t)||void 0),d=S$[u],d!=null&&(d.attrName===u||d.keyName===u)&&(d=S$[u],l[d.attrName]=d.value(t)||void 0))}),Object.entries(l).reduce((u,d)=>{let[h,m]=d;return Hc(u,h,m,r)},e)}function rze(t,e,r){const n=r.query(t);if(n==null)return e;if(n.prototype instanceof Wa){const a={},s=n.value(t);if(s!=null)return a[n.blotName]=s,new nt().insert(a,n.formats(t,r))}else if(n.prototype instanceof Rh&&!pm(e,`
`)&&e.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Hc(e,n.blotName,n.formats(t,r),r);return e}function nze(t,e){return pm(e,`
`)||e.insert(`
`),e}function aze(t,e,r){const n=r.query("code-block"),a=n&&"formats"in n&&typeof n.formats=="function"?n.formats(t,r):!0;return Hc(e,"code-block",a,r)}function sze(){return new nt}function ize(t,e,r){const n=r.query(t);if(n==null||n.blotName!=="list"||!pm(e,`
`))return e;let a=-1,s=t.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(a+=1),s=s.parentNode;return a<=0?e:e.reduce((l,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?l.push(u):l.insert(u.insert,J({indent:a},u.attributes||{})):l,new nt)}function oze(t,e,r){const n=t;let a=n.tagName==="OL"?"ordered":"bullet";const s=n.getAttribute("data-checked");return s&&(a=s==="true"?"checked":"unchecked"),Hc(e,"list",a,r)}function E$(t,e,r){if(!pm(e,`
`)){if(pl(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;n!=null;){if(pl(n,r))return e.insert(`
`);const a=r.query(n);if(a&&a.prototype instanceof ds)return e.insert(`
`);n=n.firstChild}}}return e}function lze(t,e,r){var s;const n={},a=t.style||{};return a.fontStyle==="italic"&&(n.italic=!0),a.textDecoration==="underline"&&(n.underline=!0),a.textDecoration==="line-through"&&(n.strike=!0),((s=a.fontWeight)!=null&&s.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(n.bold=!0),e=Object.entries(n).reduce((l,u)=>{let[d,h]=u;return Hc(l,d,h,r)},e),parseFloat(a.textIndent||0)>0?new nt().insert("	").concat(e):e}function cze(t,e,r){var a,s;const n=((a=t.parentElement)==null?void 0:a.tagName)==="TABLE"?t.parentElement:(s=t.parentElement)==null?void 0:s.parentElement;if(n!=null){const u=Array.from(n.querySelectorAll("tr")).indexOf(t)+1;return Hc(e,"table",u,r)}return e}function uze(t,e,r){var a;let n=t.data;if(((a=t.parentElement)==null?void 0:a.tagName)==="O:P")return e.insert(n.trim());if(!V8(t)){if(n.trim().length===0&&n.includes(`
`)&&!eze(t,r))return e;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&pl(t.parentElement,r)||t.previousSibling instanceof Element&&pl(t.previousSibling,r))&&(n=n.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&pl(t.parentElement,r)||t.nextSibling instanceof Element&&pl(t.nextSibling,r))&&(n=n.replace(/ $/,"")),n=n.replaceAll(""," ")}return e.insert(n)}class G8 extends Vs{constructor(r,n){super(r,n);Ke(this,"lastRecorded",0);Ke(this,"ignoreChange",!1);Ke(this,"stack",{undo:[],redo:[]});Ke(this,"currentRange",null);this.quill.on(Pe.events.EDITOR_CHANGE,(a,s,l,u)=>{a===Pe.events.SELECTION_CHANGE?s&&u!==Pe.sources.SILENT&&(this.currentRange=s):a===Pe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===Pe.sources.USER?this.record(s,l):this.transform(s)),this.currentRange=dj(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(r,n){if(this.stack[r].length===0)return;const a=this.stack[r].pop();if(!a)return;const s=this.quill.getContents(),l=a.delta.invert(s);this.stack[n].push({delta:l,range:dj(a.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,Pe.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,n){if(r.ops.length===0)return;this.stack.redo=[];let a=r.invert(n),s=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(a=a.compose(u.delta),s=u.range)}else this.lastRecorded=l;a.length()!==0&&(this.stack.undo.push({delta:a,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){A$(this.stack.undo,r),A$(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,Pe.sources.USER);else{const n=fze(this.quill.scroll,r.delta);this.quill.setSelection(n,Pe.sources.USER)}}}Ke(G8,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function A$(t,e){let r=e;for(let n=t.length-1;n>=0;n-=1){const a=t[n];t[n]={delta:r.transform(a.delta,!0),range:a.range&&dj(a.range,r)},r=a.delta.transform(r),t[n].delta.length()===0&&t.splice(n,1)}}function dze(t,e){const r=e.ops[e.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(n=>t.query(n,st.BLOCK)!=null):!1}function fze(t,e){const r=e.reduce((a,s)=>a+(s.delete||0),0);let n=e.length()-r;return dze(t,e)&&(n-=1),n}function dj(t,e){if(!t)return t;const r=e.transformPosition(t.index),n=e.transformPosition(t.index+t.length);return{index:r,length:n-r}}class W8 extends Vs{constructor(e,r){super(e,r),e.root.addEventListener("drop",n=>{var l;n.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(n.clientX,n.clientY);a=document.createRange(),a.setStart(u.offsetNode,u.offset),a.setEnd(u.offsetNode,u.offset)}const s=a&&e.selection.normalizeNative(a);if(s){const u=e.selection.normalizedToRange(s);(l=n.dataTransfer)!=null&&l.files&&this.upload(u,n.dataTransfer.files)}})}upload(e,r){const n=[];Array.from(r).forEach(a=>{var s;a&&((s=this.options.mimetypes)!=null&&s.includes(a.type))&&n.push(a)}),n.length>0&&this.options.handler.call(this,e,n)}}W8.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const r=e.map(n=>new Promise(a=>{const s=new FileReader;s.onload=()=>{a(s.result)},s.readAsDataURL(n)}));Promise.all(r).then(n=>{const a=n.reduce((s,l)=>s.insert({image:l}),new nt().retain(t.index).delete(t.length));this.quill.updateContents(a,Qe.sources.USER),this.quill.setSelection(t.index+n.length,Qe.sources.SILENT)})}};const hze=["insertText","insertReplacementText"];class mze extends Vs{constructor(e,r){super(e,r),e.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||e.on(Pe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){ek({range:e,quill:this.quill})}replaceText(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(r){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new nt().retain(e.index).insert(r,n),Pe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+r.length,0,Pe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!hze.includes(e.inputType))return;const r=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!r||r.collapsed===!0)return;const n=gze(e);if(n==null)return;const a=this.quill.selection.normalizeNative(r),s=a?this.quill.selection.normalizedToRange(a):null;s&&this.replaceText(s,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function gze(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const pze=/Mac/i.test(navigator.platform),bze=100,yze=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||pze&&t.key==="a"&&t.ctrlKey===!0);class _ze extends Vs{constructor(r,n){super(r,n);Ke(this,"isListening",!1);Ke(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,n){let{line:a,event:s}=n;if(!(a instanceof Us)||!a.uiNode)return!0;const l=getComputedStyle(a.domNode).direction==="rtl";return l&&s.key!=="ArrowRight"||!l&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(r.index-1,r.length+(s.shiftKey?1:0),Pe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",r=>{!r.defaultPrevented&&yze(r)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+bze,this.isListening)return;this.isListening=!0;const r=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",r,{once:!0})}handleSelectionChange(){const r=document.getSelection();if(!r)return;const n=r.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const a=this.quill.scroll.find(n.startContainer);if(!(a instanceof Us)||!a.uiNode)return;const s=document.createRange();s.setStartAfter(a.uiNode),s.setEndAfter(a.uiNode),r.removeAllRanges(),r.addRange(s)}}Pe.register({"blots/block":Gn,"blots/block/embed":ds,"blots/break":Ks,"blots/container":zc,"blots/cursor":jd,"blots/embed":W2,"blots/inline":ji,"blots/scroll":Vu,"blots/text":Bs,"modules/clipboard":K8,"modules/history":G8,"modules/keyboard":ay,"modules/uploader":W8,"modules/input":mze,"modules/uiNode":_ze});class xze extends Hs{add(e,r){let n=0;if(r==="+1"||r==="-1"){const a=this.value(e)||0;n=r==="+1"?a+1:a-1}else typeof r=="number"&&(n=r);return n===0?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,r){return super.canAdd(e,r)||super.canAdd(e,parseInt(r,10))}value(e){return parseInt(super.value(e),10)||void 0}}const vze=new xze("indent","ql-indent",{scope:st.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class fj extends Gn{}Ke(fj,"blotName","blockquote"),Ke(fj,"tagName","blockquote");class hj extends Gn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Ke(hj,"blotName","header"),Ke(hj,"tagName",["H1","H2","H3","H4","H5","H6"]);class bm extends zc{}bm.blotName="list-container";bm.tagName="OL";class ym extends Gn{static create(e){const r=super.create();return r.setAttribute("data-list",e),r}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Pe.register(bm)}constructor(e,r){super(e,r);const n=r.ownerDocument.createElement("span"),a=s=>{if(!e.isEnabled())return;const l=this.statics.formats(r,e);l==="checked"?(this.format("list","unchecked"),s.preventDefault()):l==="unchecked"&&(this.format("list","checked"),s.preventDefault())};n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),this.attachUI(n)}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(e,r)}}ym.blotName="list";ym.tagName="LI";bm.allowedChildren=[ym];ym.requiredContainer=bm;class Lh extends ji{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ke(Lh,"blotName","bold"),Ke(Lh,"tagName",["STRONG","B"]);class mj extends Lh{}Ke(mj,"blotName","italic"),Ke(mj,"tagName",["EM","I"]);class bl extends ji{static create(e){const r=super.create(e);return r.setAttribute("href",this.sanitize(e)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(e){return e.getAttribute("href")}static sanitize(e){return Y8(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,r){e!==this.statics.blotName||!r?super.format(e,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}Ke(bl,"blotName","link"),Ke(bl,"tagName","A"),Ke(bl,"SANITIZED_URL","about:blank"),Ke(bl,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Y8(t,e){const r=document.createElement("a");r.href=t;const n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}class gj extends ji{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Ke(gj,"blotName","script"),Ke(gj,"tagName",["SUB","SUP"]);class pj extends Lh{}Ke(pj,"blotName","strike"),Ke(pj,"tagName",["S","STRIKE"]);class bj extends ji{}Ke(bj,"blotName","underline"),Ke(bj,"tagName","U");class Ep extends W2{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const r=super.create(e);return typeof e=="string"&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Ke(Ep,"blotName","formula"),Ke(Ep,"className","ql-formula"),Ke(Ep,"tagName","SPAN");const T$=["alt","height","width"];var gp;let wze=(gp=class extends Wa{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("src",this.sanitize(e)),r}static formats(e){return T$.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Y8(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,r){T$.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}},Ke(gp,"blotName","image"),Ke(gp,"tagName","IMG"),gp);const O$=["height","width"];class Ap extends ds{static create(e){const r=super.create(e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(e)),r}static formats(e){return O$.reduce((r,n)=>(e.hasAttribute(n)&&(r[n]=e.getAttribute(n)),r),{})}static sanitize(e){return bl.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,r){O$.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):super.format(e,r)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Ke(Ap,"blotName","video"),Ke(Ap,"className","ql-video"),Ke(Ap,"tagName","IFRAME");const Jf=new Hs("code-token","hljs",{scope:st.INLINE});class po extends ji{static formats(e,r){for(;e!=null&&e!==r.domNode;){if(e.classList&&e.classList.contains(na.className))return super.formats(e,r);e=e.parentNode}}constructor(e,r,n){super(e,r,n),Jf.add(this.domNode,n)}format(e,r){e!==po.blotName?super.format(e,r):r?Jf.add(this.domNode,r):(Jf.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Jf.value(this.domNode)||this.unwrap()}}po.blotName="code-token";po.className="ql-token";class us extends na{static create(e){const r=super.create(e);return typeof e=="string"&&r.setAttribute("data-language",e),r}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,r){e===this.statics.blotName&&r?this.domNode.setAttribute("data-language",r):super.format(e,r)}replaceWith(e,r){return this.formatAt(0,this.length(),po.blotName,!1),super.replaceWith(e,r)}}class sh extends Fc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,r){e===us.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(e,r)}))}formatAt(e,r,n,a){n===us.blotName&&(this.forceNext=!0),super.formatAt(e,r,n,a)}highlight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,s=us.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const l=this.children.reduce((d,h)=>d.concat($8(h,!1)),new nt),u=e(a,s);l.diff(u).reduce((d,h)=>{let{retain:m,attributes:p}=h;return m?(p&&Object.keys(p).forEach(b=>{[us.blotName,po.blotName].includes(b)&&this.formatAt(d,m,b,p[b])}),d+m):d},0)}this.cachedText=a,this.forceNext=!1}}html(e,r){const[n]=this.children.find(e);return`<pre data-language="${n?us.formats(n.domNode):"plain"}">
${ny(this.code(e,r))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const r=us.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}sh.allowedChildren=[us];us.requiredContainer=sh;us.allowedChildren=[po,jd,Bs,Ks];const jze=(t,e,r)=>{if(typeof t.versionString=="string"){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11)return t.highlight(r,{language:e}).value}return t.highlight(e,r).value};class X8 extends Vs{static register(){Pe.register(po,!0),Pe.register(us,!0),Pe.register(sh,!0)}constructor(e,r){if(super(e,r),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,a)=>{let{key:s}=a;return n[s]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Pe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof sh))return;const r=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:a,label:s}=n;const l=r.ownerDocument.createElement("option");l.textContent=s,l.setAttribute("value",a),r.appendChild(l)}),r.addEventListener("change",()=>{e.format(us.blotName,r.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(r),e.children.head&&(r.value=us.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Pe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Pe.sources.USER);const n=this.quill.getSelection();(e==null?this.quill.scroll.descendants(sh):[e]).forEach(s=>{s.highlight(this.highlightBlot,r)}),this.quill.update(Pe.sources.SILENT),n!=null&&this.quill.setSelection(n,Pe.sources.SILENT)}highlightBlot(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(r=this.languages[r]?r:"plain",r==="plain")return ny(e).split(`
`).reduce((a,s,l)=>(l!==0&&a.insert(`
`,{[na.blotName]:r}),a.insert(s)),new nt);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(na.className),n.innerHTML=jze(this.options.hljs,r,e),tk(this.quill.scroll,n,[(a,s)=>{const l=Jf.value(a);return l?s.compose(new nt().retain(s.length(),{[po.blotName]:l})):s}],[(a,s)=>a.data.split(`
`).reduce((l,u,d)=>(d!==0&&l.insert(`
`,{[na.blotName]:r}),l.insert(u)),s)],new WeakMap)}}X8.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const lh=class lh extends Gn{static create(e){const r=super.create();return e?r.setAttribute("data-row",e):r.setAttribute("data-row",rk()),r}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,r){e===lh.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(e,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ke(lh,"blotName","table"),Ke(lh,"tagName","TD");let Is=lh;class bo extends zc{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),r=this.children.tail.formats(),n=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===r.table&&e.table===n.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(r=>{if(r.next==null)return;const n=r.formats(),a=r.next.formats();if(n.table!==a.table){const s=this.splitAfter(r);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ke(bo,"blotName","table-row"),Ke(bo,"tagName","TR");class pi extends zc{}Ke(pi,"blotName","table-body"),Ke(pi,"tagName","TBODY");class kd extends zc{balanceCells(){const e=this.descendants(bo),r=e.reduce((n,a)=>Math.max(a.children.length,n),0);e.forEach(n=>{new Array(r-n.children.length).fill(0).forEach(()=>{let a;n.children.head!=null&&(a=Is.formats(n.children.head.domNode));const s=this.scroll.create(Is.blotName,a);n.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(r=>r.children.at(e))}deleteColumn(e){const[r]=this.descendant(pi);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e);a!=null&&a.remove()})}insertColumn(e){const[r]=this.descendant(pi);r==null||r.children.head==null||r.children.forEach(n=>{const a=n.children.at(e),s=Is.formats(n.children.head.domNode),l=this.scroll.create(Is.blotName,s);n.insertBefore(l,a)})}insertRow(e){const[r]=this.descendant(pi);if(r==null||r.children.head==null)return;const n=rk(),a=this.scroll.create(bo.blotName);r.children.head.children.forEach(()=>{const l=this.scroll.create(Is.blotName,n);a.appendChild(l)});const s=r.children.at(e);r.insertBefore(a,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(r=>r)}}Ke(kd,"blotName","table-container"),Ke(kd,"tagName","TABLE");kd.allowedChildren=[pi];pi.requiredContainer=kd;pi.allowedChildren=[bo];bo.requiredContainer=pi;bo.allowedChildren=[Is];Is.requiredContainer=bo;function rk(){return`row-${Math.random().toString(36).slice(2,6)}`}class Nze extends Vs{static register(){Pe.register(Is),Pe.register(bo),Pe.register(pi),Pe.register(kd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(kd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,r]=this.getTable();r!=null&&(e.deleteColumn(r.cellOffset()),this.quill.update(Pe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Pe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const r=e.offset();e.remove(),this.quill.update(Pe.sources.USER),this.quill.setSelection(r,Pe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[r,n]=this.quill.getLine(e.index);if(r==null||r.statics.blotName!==Is.blotName)return[null,null,null,-1];const a=r.parent;return[a.parent.parent,a,r,n]}insertColumn(e){const r=this.quill.getSelection();if(!r)return;const[n,a,s]=this.getTable(r);if(s==null)return;const l=s.cellOffset();n.insertColumn(l+e),this.quill.update(Pe.sources.USER);let u=a.rowOffset();e===0&&(u+=1),this.quill.setSelection(r.index+u,r.length,Pe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const r=this.quill.getSelection();if(!r)return;const[n,a,s]=this.getTable(r);if(s==null)return;const l=a.rowOffset();n.insertRow(l+e),this.quill.update(Pe.sources.USER),e>0?this.quill.setSelection(r,Pe.sources.SILENT):this.quill.setSelection(r.index+a.children.length,r.length,Pe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,r){const n=this.quill.getSelection();if(n==null)return;const a=new Array(e).fill(0).reduce(s=>{const l=new Array(r).fill(`
`).join("");return s.insert(l,{table:rk()})},new nt().retain(n.index));this.quill.updateContents(a,Pe.sources.USER),this.quill.setSelection(n.index,Pe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Pe.events.SCROLL_OPTIMIZE,e=>{e.some(r=>["TD","TR","TBODY","TABLE"].includes(r.target.tagName)?(this.quill.once(Pe.events.TEXT_CHANGE,(n,a,s)=>{s===Pe.sources.USER&&this.balanceTables()}),!0):!1)})}}const C$=Eo("quill:toolbar");class nk extends Vs{constructor(e,r){var n,a;if(super(e,r),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),kze(s,this.options.container),(a=(n=e.container)==null?void 0:n.parentNode)==null||a.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){C$.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var u;const l=(u=this.options.handlers)==null?void 0:u[s];l&&this.addHandler(s,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(Pe.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,r){this.handlers[e]=r}attach(e){let r=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){C$.warn("ignoring attaching to nonexistent format",r,e);return}const n=e.tagName==="SELECT"?"change":"click";e.addEventListener(n,a=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const u=e.options[e.selectedIndex];u.hasAttribute("selected")?s=!1:s=u.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,s);else if(this.quill.scroll.query(r).prototype instanceof Wa){if(s=prompt(`Enter ${r}`),!s)return;this.quill.updateContents(new nt().retain(l.index).delete(l.length).insert({[r]:s}),Pe.sources.USER)}else this.quill.format(r,s,Pe.sources.USER);this.update(l)}),this.controls.push([r,e])}update(e){const r=e==null?{}:this.quill.getFormat(e);this.controls.forEach(n=>{const[a,s]=n;if(s.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(r[a]==null)l=s.querySelector("option[selected]");else if(!Array.isArray(r[a])){let u=r[a];typeof u=="string"&&(u=u.replace(/"/g,'\\"')),l=s.querySelector(`option[value="${u}"]`)}l==null?(s.value="",s.selectedIndex=-1):l.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const l=r[a],u=l===s.getAttribute("value")||l!=null&&l.toString()===s.getAttribute("value")||l==null&&!s.getAttribute("value");s.classList.toggle("ql-active",u),s.setAttribute("aria-pressed",u.toString())}else{const l=r[a]!=null;s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}})}}nk.DEFAULTS={};function $$(t,e,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),r!=null?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}function kze(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(r=>{const n=document.createElement("span");n.classList.add("ql-formats"),r.forEach(a=>{if(typeof a=="string")$$(n,a);else{const s=Object.keys(a)[0],l=a[s];Array.isArray(l)?Sze(n,s,l):$$(n,s,l)}}),t.appendChild(n)})}function Sze(t,e,r){const n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach(a=>{const s=document.createElement("option");a!==!1?s.setAttribute("value",String(a)):s.setAttribute("selected","selected"),n.appendChild(s)}),t.appendChild(n)}nk.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(r=>{this.quill.scroll.query(r,st.INLINE)!=null&&this.quill.format(r,!1,Pe.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Pe.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Pe.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Pe.sources.USER),this.quill.format("direction",t,Pe.sources.USER)},indent(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if(t==="+1"||t==="-1"){let a=t==="+1"?1:-1;r.direction==="rtl"&&(a*=-1),this.quill.format("indent",n+a,Pe.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Pe.sources.USER)},list(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e);t==="check"?r.list==="checked"||r.list==="unchecked"?this.quill.format("list",!1,Pe.sources.USER):this.quill.format("list","unchecked",Pe.sources.USER):this.quill.format("list",t,Pe.sources.USER)}}};const Eze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Aze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Tze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Oze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Cze='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$ze='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Pze='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Rze='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',P$='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Dze='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Lze='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Ize='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Mze='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Uze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',qze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Bze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Fze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Hze='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Kze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Vze='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Gze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Wze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Yze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Xze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Zze='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Jze='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Qze='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',eFe='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',tFe='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',rFe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',nFe='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',aFe='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ih={align:{"":Eze,center:Aze,right:Tze,justify:Oze},background:Cze,blockquote:$ze,bold:Pze,clean:Rze,code:P$,"code-block":P$,color:Dze,direction:{"":Lze,rtl:Ize},formula:Mze,header:{1:Uze,2:qze,3:Bze,4:zze,5:Fze,6:Hze},italic:Kze,image:Vze,indent:{"+1":Gze,"-1":Wze},link:Yze,list:{bullet:Xze,check:Zze,ordered:Jze},script:{sub:Qze,super:eFe},strike:tFe,table:rFe,underline:nFe,video:aFe},sFe='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let R$=0;function D$(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class sy{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),r.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),D$(this.label,"aria-expanded"),D$(this.options,"aria-hidden")}buildItem(e){const r=document.createElement("span");r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&r.setAttribute("data-value",n),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",()=>{this.selectItem(r,!0)}),r.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(r,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),r}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=sFe,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${R$}`,R$+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(r=>{const n=this.buildItem(r);e.appendChild(n),r.selected===!0&&this.selectItem(n)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");e!==n&&(n!=null&&n.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),r&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const r=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}class Z8 extends sy{constructor(e,r){super(e),this.label.innerHTML=r,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(e){const r=super.buildItem(e);return r.style.backgroundColor=e.getAttribute("value")||"",r}selectItem(e,r){super.selectItem(e,r);const n=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=a:n.style.fill=a)}}class J8 extends sy{constructor(e,r){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=r[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,r){super.selectItem(e,r);const n=e||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const iFe=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class Q8{constructor(e,r){this.quill=e,this.boundsContainer=r||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,iFe(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const r=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${r}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let l=0;if(s.right>a.right&&(l=a.right-s.right,this.root.style.left=`${r+l}px`),s.left<a.left&&(l=a.left-s.left,this.root.style.left=`${r+l}px`),s.bottom>a.bottom){const u=s.bottom-s.top,d=e.bottom-e.top+u;this.root.style.top=`${n-d}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const oFe=[!1,"center","right","justify"],lFe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],cFe=[!1,"serif","monospace"],uFe=["1","2","3",!1],dFe=["small",!1,"large","huge"];class _m extends Nd{constructor(e,r){super(e,r);const n=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(a.target)||s.close()})};e.emitter.listenDOM("click",document.body,n)}addModule(e){const r=super.addModule(e);return e==="toolbar"&&this.extendToolbar(r),r}buildButtons(e,r){Array.from(e).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),r[s]!=null))if(s==="direction")n.innerHTML=r[s][""]+r[s].rtl;else if(typeof r[s]=="string")n.innerHTML=r[s];else{const l=n.value||"";l!=null&&r[s][l]&&(n.innerHTML=r[s][l])}})})}buildPickers(e,r){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Hf(a,oFe),typeof r.align=="object"))return new J8(a,r.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const s=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Hf(a,lFe,s==="background"?"#ffffff":"#000000"),new Z8(a,r[s])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Hf(a,cFe):a.classList.contains("ql-header")?Hf(a,uFe):a.classList.contains("ql-size")&&Hf(a,dFe)),new sy(a)});const n=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Qe.events.EDITOR_CHANGE,n)}}_m.DEFAULTS=vl({},Nd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class e7 extends Q8{constructor(e,r){super(e,r),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;r!=null?this.textbox.value=r:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:r}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Qe.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Qe.sources.USER)),this.quill.root.scrollTop=r;break}case"video":e=fFe(e);case"formula":{if(!e)break;const r=this.quill.getSelection(!0);if(r!=null){const n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,Qe.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",Qe.sources.USER),this.quill.setSelection(n+2,Qe.sources.USER)}break}}this.textbox.value="",this.hide()}}function fFe(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Hf(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(n=>{const a=document.createElement("option");n===r?a.setAttribute("selected","selected"):a.setAttribute("value",String(n)),t.appendChild(a)})}const hFe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class t7 extends e7{constructor(e,r){super(e,r),this.quill.on(Qe.events.EDITOR_CHANGE,(n,a,s,l)=>{if(n===Qe.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&l===Qe.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(a.index,a.length);if(u.length===1){const d=this.quill.getBounds(a);d!=null&&this.position(d)}else{const d=u[u.length-1],h=this.quill.getIndex(d),m=Math.min(d.length()-1,a.index+a.length-h),p=this.quill.getBounds(new Dc(h,m));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Qe.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const r=this.quill.getBounds(e);r!=null&&this.position(r)}},1)})}cancel(){this.show()}position(e){const r=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",r!==0&&(n.style.marginLeft=`${-1*r-n.offsetWidth/2}px`),r}}Ke(t7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class r7 extends _m{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=hFe),super(e,r),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new t7(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Ih),this.buildPickers(e.container.querySelectorAll("select"),Ih))}}r7.DEFAULTS=vl({},_m.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Pe.sources.USER)}}}}});const mFe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class n7 extends e7{constructor(){super(...arguments);Ke(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",r=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),r.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",r=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,Qe.sources.USER),delete this.linkRange}r.preventDefault(),this.hide()}),this.quill.on(Qe.events.SELECTION_CHANGE,(r,n,a)=>{if(r!=null){if(r.length===0&&a===Qe.sources.USER){const[s,l]=this.quill.scroll.descendant(bl,r.index);if(s!=null){this.linkRange=new Dc(r.index-l,s.length());const u=bl.formats(s.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ke(n7,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class a7 extends _m{constructor(e,r){r.modules.toolbar!=null&&r.modules.toolbar.container==null&&(r.modules.toolbar.container=mFe),super(e,r),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Ih),this.buildPickers(e.container.querySelectorAll("select"),Ih),this.tooltip=new n7(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(r,n)=>{e.handlers.link.call(e,!n.format.link)}))}}a7.DEFAULTS=vl({},_m.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let r=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(r)&&r.indexOf("mailto:")!==0&&(r=`mailto:${r}`);const{tooltip:n}=this.quill.theme;n.edit("link",r)}else this.quill.format("link",!1,Pe.sources.USER)}}}}});Pe.register({"attributors/attribute/direction":I8,"attributors/class/align":R8,"attributors/class/background":CBe,"attributors/class/color":OBe,"attributors/class/direction":M8,"attributors/class/font":B8,"attributors/class/size":F8,"attributors/style/align":D8,"attributors/style/background":Z2,"attributors/style/color":X2,"attributors/style/direction":U8,"attributors/style/font":z8,"attributors/style/size":H8},!0);Pe.register({"formats/align":R8,"formats/direction":M8,"formats/indent":vze,"formats/background":Z2,"formats/color":X2,"formats/font":B8,"formats/size":F8,"formats/blockquote":fj,"formats/code-block":na,"formats/header":hj,"formats/list":ym,"formats/bold":Lh,"formats/code":J2,"formats/italic":mj,"formats/link":bl,"formats/script":gj,"formats/strike":pj,"formats/underline":bj,"formats/formula":Ep,"formats/image":wze,"formats/video":Ap,"modules/syntax":X8,"modules/table":Nze,"modules/toolbar":nk,"themes/bubble":r7,"themes/snow":a7,"ui/icons":Ih,"ui/picker":sy,"ui/icon-picker":J8,"ui/color-picker":Z8,"ui/tooltip":Q8},!0);class iy extends Dr.Component{constructor(e){super(e),this.editingAreaRef=x.createRef(),this.containerRef=x.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(n,a,s,l)=>{var u,d;n==="text-change"?(u=this.onEditorChangeText)==null||u.call(this,this.editor.getSemanticHTML(),a,l,this.unprivilegedEditor):n==="selection-change"&&((d=this.onEditorChangeSelection)==null||d.call(this,a,l,this.unprivilegedEditor))};const r=this.isControlled()?e.value:e.defaultValue;this.value=r!=null?r:""}validateProps(e){if(Dr.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Dr.Children.count(e.children)){const r=Dr.Children.only(e.children);if((r==null?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,r){var n;if(this.validateProps(e),!this.editor||this.state.generation!==r.generation)return!0;if("value"in e){const a=this.getEditorContents(),s=(n=e.value)!=null?n:"";this.isEqualValue(s,a)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(a=>!ml(e[a],this.props[a]))}shouldComponentRegenerate(e){return this.dirtyProps.some(r=>!ml(e[r],this.props[r]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,r){if(this.editor&&this.shouldComponentRegenerate(e)){const n=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==r.generation){const{delta:n,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const s=this.editor;s.setContents(n),L$(()=>this.setEditorSelection(s,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var n,a;if(!this.editor)return;this.unhookEditor(this.editor);const e=(n=this.props.modules)==null?void 0:n.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const s=(a=this.containerRef.current)==null?void 0:a.querySelector(".ql-toolbar");s&&s.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,r){const n=new Pe(e,r);return r.tabIndex!=null&&this.setEditorTabIndex(n,r.tabIndex),this.hookEditor(n),n}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,r){return this.isDelta(e)&&this.isDelta(r)?ml(e.ops,r.ops):ml(e,r)}setEditorContents(e,r){this.value=r;const n=this.getEditorSelection();typeof r=="string"?e.setContents(e.clipboard.convert({html:r})):e.setContents(r),L$(()=>this.setEditorSelection(e,n))}setEditorSelection(e,r){if(this.selection=r,r){const n=e.getLength();r.index=Math.max(0,Math.min(r.index,n-1)),r.length=Math.max(0,Math.min(r.length,n-1-r.index)),e.setSelection(r)}}setEditorTabIndex(e,r){var n;(n=e==null?void 0:e.scroll)!=null&&n.domNode&&(e.scroll.domNode.tabIndex=r)}setEditorReadOnly(e,r){r?e.disable():e.enable()}makeUnprivilegedEditor(e){const r=e;return{getHTML:()=>r.root.innerHTML,getSemanticHTML:r.getSemanticHTML.bind(r),getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:r}=this.props,{generation:n}=this.state,a={key:n,ref:this.editingAreaRef};return Dr.Children.count(e)?Dr.cloneElement(Dr.Children.only(e),a):r?Dr.createElement("pre",J({},a)):Dr.createElement("div",J({},a))}render(){var e;return Dr.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${(e=this.props.className)!=null?e:""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,r,n,a){var l,u;if(!this.editor)return;const s=this.isDelta(this.value)?a.getContents():a.getSemanticHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=s,(u=(l=this.props).onChange)==null||u.call(l,e,r,n,a))}onEditorChangeSelection(e,r,n){var u,d,h,m,p,b;if(!this.editor)return;const a=this.getEditorSelection(),s=!a&&e,l=a&&!e;ml(e,a)||(this.selection=e,(d=(u=this.props).onChangeSelection)==null||d.call(u,e,r,n),s?(m=(h=this.props).onFocus)==null||m.call(h,e,r,n):l&&((b=(p=this.props).onBlur)==null||b.call(p,a,r,n)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}iy.displayName="React Quill";iy.Quill=Pe;iy.defaultProps={theme:"snow",modules:{},readOnly:!1};function L$(t){Promise.resolve().then(t)}const gFe=({user:t})=>{const[e,r]=x.useState([]),[n,a]=x.useState(!0),[s,l]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(!1),[p,b]=x.useState(null),[y,_]=x.useState(""),[w,j]=x.useState(""),[k,E]=x.useState(!0),[S,P]=x.useState(0);x.useEffect(()=>{C()},[]);const C=()=>T(null,null,function*(){a(!0);const R=yield oe.getAllNoticesAdmin();r(R),a(!1)}),I=()=>{b(null),_(""),j(""),E(!0),P(0),l(!0)},$=R=>{b(R.id),_(R.title),j(R.content),E(R.isActive),P(R.priority),l(!0)},B=()=>T(null,null,function*(){if(!y.trim()||!w.trim()){alert("  .");return}try{p?yield oe.updateAppNotice(p,{title:y,content:w,isActive:k,priority:S}):yield oe.createAppNotice({title:y,content:w,isActive:k,priority:S,type:"notice"},t.id),l(!1),C()}catch(R){console.error(R),alert("   .")}}),H=()=>T(null,null,function*(){if(u){m(!0);try{console.log("[NoticeManagement] Attempting to delete notice:",u.id),yield oe.deleteAppNotice(u.id),console.log("[NoticeManagement] Deletion successful"),r(R=>R.filter(L=>L.id!==u.id)),d(null)}catch(R){console.error("[NoticeManagement] Deletion failed:",R),alert(`   : ${R.message||R.toString()}`)}finally{m(!1)}}}),se={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"],[{color:[]},{background:[]}],[{align:[]}]]},D=["header","bold","italic","underline","strike","blockquote","list","indent","link","image","color","background","align"];return s?i.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 text-gray-500 hover:text-gray-900",children:[i.jsx(Xt,{className:"w-5 h-5"}),i.jsx("span",{children:" "})]}),i.jsx("h2",{className:"text-xl font-bold",children:p?" ":"  "})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),i.jsx("input",{type:"text",value:y,onChange:R=>_(R.target.value),className:"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"  "})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"isActive",checked:k,onChange:R=>E(R.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),i.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  ()"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" (0=, 1=)"}),i.jsx("input",{type:"number",value:S,onChange:R=>P(parseInt(R.target.value)||0),className:"w-20 p-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),i.jsxs("div",{className:"min-h-[400px]",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),i.jsx("div",{className:"bg-white text-black rounded-xl overflow-hidden border border-gray-200",children:i.jsx(iy,{theme:"snow",value:w,onChange:j,modules:se,formats:D,style:{height:"350px"}})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*       ."})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[i.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200",children:""}),i.jsx("button",{onClick:B,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-200",children:""})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" "}),i.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95",children:[i.jsx(_c,{className:"w-5 h-5"}),"  "]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-4 text-sm font-medium text-gray-500",children:""}),i.jsx("th",{className:"p-4 text-sm font-medium text-gray-500",children:""}),i.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 w-1/2",children:""}),i.jsx("th",{className:"p-4 text-sm font-medium text-gray-500",children:""}),i.jsx("th",{className:"p-4 text-sm font-medium text-gray-500",children:""})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[e.map(R=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[i.jsx("td",{className:"p-4",children:R.isActive?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[i.jsx(mh,{className:"w-3 h-3"})," "]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:[i.jsx(eje,{className:"w-3 h-3"})," "]})}),i.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:R.priority>0?i.jsx("span",{className:"text-amber-500 font-bold",children:""}):""}),i.jsx("td",{className:"p-4",children:i.jsx("div",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:R.title})}),i.jsx("td",{className:"p-4 text-sm text-gray-500 whitespace-nowrap",children:rh(new Date(R.createdAt))}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>$(R),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:i.jsx($j,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),d(R)},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"",children:i.jsx(kr,{className:"w-4 h-4 pointer-events-none"})})]})})]},R.id)),e.length===0&&!n&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"  ."})})]})]})}),u&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-sm p-6 shadow-2xl border border-gray-100 dark:border-gray-700 animate-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900 dark:text-white",children:" "}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6",children:['"',i.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:u.title}),'"',i.jsx("br",{}),"  ?",i.jsx("br",{}),"    ."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{onClick:()=>d(null),className:"py-3.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-2xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),i.jsxs("button",{onClick:H,disabled:h,className:"py-3.5 bg-red-600 text-white rounded-2xl font-bold hover:bg-red-700 transition-all active:scale-95 flex items-center justify-center gap-2 shadow-lg shadow-red-200 dark:shadow-none",children:[h&&i.jsx(ht,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},pFe=({children:t,className:e=""})=>i.jsx("div",{className:"w-full h-full bg-gray-50 flex justify-center overflow-hidden",children:i.jsx("div",{className:`w-full max-w-md md:max-w-4xl lg:max-w-7xl bg-white h-full overflow-y-auto no-scrollbar shadow-2xl ${e}`,children:t})}),bFe=({user:t,setUser:e,refreshTrigger:r,setRefreshTrigger:n})=>{const[a,s]=x.useState("dashboard"),[l,u]=x.useState(""),[d,h]=x.useState(!1),[m,p]=x.useState(null),[b,y]=x.useState(null);return x.useEffect(()=>{const _=()=>{const w=window.location.hash;if(w.includes("?")){const j=w.split("?")[1],k=new URLSearchParams(j),E=k.get("section"),S=k.get("sub");s(E||"dashboard"),u(S||"")}else s("dashboard"),u("")};return _(),window.addEventListener("hashchange",_),()=>window.removeEventListener("hashchange",_)},[]),i.jsxs(pFe,{children:[i.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 p-4 shadow-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:i.jsx(ki,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsx("div",{className:"text-white font-black text-xl flex items-center gap-2",children:i.jsxs("span",{children:[a==="dashboard"&&" ",a==="users"&&!l&&"  ",a==="users"&&l==="visitor-stats"&&"  ",a==="users"&&l==="banned-users"&&"   ",a==="users"&&l==="withdrawn-users"&&"   ",a==="users"&&l!=="visitor-stats"&&l!=="banned-users"&&l!=="withdrawn-users"&&l&&"  ",a==="toilets"&&(l==="toilet-map"?"  ":l==="toilet-chart"?"  ":l==="toilet-bulk"?"  ":l==="bulk-conversion"?"  ":"  "),a==="reports"&&"  ",a==="reviews"&&"  ",a==="ads"&&(l==="ad-performance"?"  ":"  "),a==="notifications"&&(l==="auto-notifications"?"   ":l==="notices"?"  ":"   "),a==="version"&&"   ",a==="credit-management"&&(l==="credit-stats"?"  ":"  "),a==="data"&&"  "]})})})]}),i.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",children:i.jsx($6,{className:"w-6 h-6 text-white"})})]})}),i.jsxs("div",{className:"p-4",children:[a==="dashboard"&&i.jsx(QMe,{setActiveSection:s}),a==="users"&&i.jsx(s8e,{subSection:l,onRefresh:()=>n(_=>_+1)}),a==="toilets"&&i.jsx(i.Fragment,{children:l==="bulk-review"?i.jsx(N8e,{}):l==="toilet-bulk"?i.jsx(JM,{}):l==="bulk-conversion"?i.jsx(E8e,{}):i.jsx(m8e,{subSection:l,setRefreshTrigger:n,initialEditToiletId:b,onBackToReports:m?()=>{y(null);const _=m;p(null),s(_),u("")}:void 0})}),a==="ads"&&i.jsx(p8e,{subSection:l,refreshTrigger:r}),a==="reports"&&i.jsx(b8e,{setRefreshTrigger:n,currentUser:t,onNavigateToToilet:(_,w)=>{y(_),p(w),s("toilets"),u("toilet-list")}}),a==="reviews"&&i.jsx(y8e,{onRefresh:()=>n(_=>_+1),onNavigateToToilet:(_,w)=>{y(_),p(w),s("toilets"),u("toilet-list")}}),a==="credit-management"&&i.jsx(i.Fragment,{children:l==="credit-stats"?i.jsx(v8e,{}):i.jsx(x8e,{})}),a==="notifications"&&i.jsx(i.Fragment,{children:l==="auto-notifications"?i.jsx(A8e,{}):l==="notices"?i.jsx(gFe,{user:t}):i.jsx(w8e,{onRefresh:()=>n(_=>_+1)})}),a==="version"&&i.jsx(j8e,{}),a==="data"&&i.jsx(_8e,{setRefreshTrigger:n})]}),i.jsx(jNe,{isMenuOpen:d,setIsMenuOpen:h,activeSection:a,setActiveSection:s,subSection:l,setSubSection:u})]})},I$=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],yFe=t=>{const{t:e}=nn(),{user:r,myLocation:n,filteredToilets:a,onToiletClick:s,onFetchNewArea:l,initialMapState:u,onMapChange:d,darkMode:h,onLoginRequired:m,showList:p,onToggleList:b,targetToiletId:y,onRefreshLocation:_}=t,w=x.useRef(null),j=x.useRef(null),k=x.useRef([]),E=x.useRef(null),S=x.useRef({lat:0,lng:0,zoom:15}),P=x.useRef(!0),C=x.useRef(!!u);x.useRef(!1);const[I,$]=x.useState(!1),[B,H]=x.useState(""),[se,D]=x.useState({hasPaper:!1,hasBidet:!1,minRating:!1}),[R,L]=x.useState("distance"),V=Dr.useMemo(()=>a.filter(W=>r.role===Be.GUEST||r.role===Be.ADMIN||r.role===Be.VIP||W.createdBy===r.id?!0:r.gender==="MALE"?W.genderType==="MALE"||W.genderType==="UNISEX":r.gender==="FEMALE"?W.genderType==="FEMALE"||W.genderType==="UNISEX":!0).filter(W=>W.name.toLowerCase().includes(B.toLowerCase())||W.address.toLowerCase().includes(B.toLowerCase())).filter(W=>!(se.hasPaper&&!W.hasPaper||se.hasBidet&&!W.hasBidet||se.minRating&&(W.ratingAvg||0)<3)).sort((W,X)=>R==="distance"?(W.distance||0)-(X.distance||0):(X.ratingAvg||0)-(W.ratingAvg||0)),[a,r.role,r.gender,B,se,R]);x.useEffect(()=>{if(!y||!j.current||a.length===0)return;const W=a.find(X=>X.id===y);W&&(console.log(" Deep Link: Centering on toilet:",W.name,W.lat,W.lng),j.current.setCenter({lat:W.lat,lng:W.lng}),j.current.setZoom(18))},[y,a]),x.useEffect(()=>{const W=()=>{var Q;if(!w.current){setTimeout(W,100);return}if(!((Q=window.google)!=null&&Q.maps)||!window.google.maps.Map){setTimeout(W,200);return}if(!j.current)try{const M=new window.google.maps.Map(w.current,{center:(u==null?void 0:u.center)||n,zoom:(u==null?void 0:u.zoom)||16,disableDefaultUI:!0,styles:h?[...I$,{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});j.current=M,P.current&&(u?S.current={lat:u.center.lat,lng:u.center.lng,zoom:u.zoom}:(S.current={lat:n.lat,lng:n.lng,zoom:16},l==null||l(n.lat,n.lng,2)),P.current=!1),M.addListener("idle",()=>{const ae=M.getCenter(),ie=M.getZoom();if(!ae||!ie)return;let be=2;ie<=14&&(be=5),ie<=12&&(be=10),ie<=11&&(be=15),ie<=10&&(be=20),ie<=9&&(be=30),ie<=8&&(be=50);const he=cd(ae.lat(),ae.lng(),S.current.lat,S.current.lng)>.5,Y=ie<S.current.zoom;(he||Y)&&$(!0),d&&d({center:{lat:ae.lat(),lng:ae.lng()},zoom:ie})});class G extends window.google.maps.OverlayView{constructor(ie){super(),this.position=ie,this.div=null}onAdd(){const ie=document.createElement("div");ie.style.position="absolute",ie.style.cursor="pointer",ie.innerHTML='<div class="relative flex items-center justify-center w-8 h-8"><span class="absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 animate-ping"></span><span class="relative inline-flex rounded-full h-4 w-4 bg-blue-500 border-2 border-white shadow-sm"></span></div>',this.div=ie;const be=this.getPanes();be==null||be.overlayMouseTarget.appendChild(ie)}draw(){const ie=this.getProjection();if(!ie||!this.div)return;const be=ie.fromLatLngToDivPixel(new window.google.maps.LatLng(this.position));be&&(this.div.style.left=be.x-16+"px",this.div.style.top=be.y-16+"px")}onRemove(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)}setPosition(ie){this.position=ie,this.draw()}}const q=new G(n);q.setMap(M),E.current=q,setTimeout(()=>{window.google.maps.event.trigger(M,"resize"),K()},200)}catch(M){console.error("Map initialization error:",M),setTimeout(W,500)}},X=setTimeout(W,100);return()=>clearTimeout(X)},[]),x.useEffect(()=>{j.current&&j.current.setOptions({styles:h?[...I$,{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]})},[h]),x.useEffect(()=>{!C.current&&j.current&&(j.current.panTo(n),C.current=!0),E.current&&E.current.setPosition(n)},[n]);const Z=W=>T(null,null,function*(){if(W.isPrivate||(yield yc.showInterstitial())&&console.log("Public Toilet Interstitial Shown"),window.location.hash=`#/toilet/${W.id}`,r.role===Be.GUEST){const X=W.createdBy==="admin"||W.source==="admin"||!W.createdBy,Q=!W.hasPassword;X&&Q?s(W):m()}else s(W)});x.useEffect(()=>{K()},[V,r.role]);const U=x.useRef("");function K(){if(!j.current)return;const W=JSON.stringify({toiletIds:V.map(X=>X.id),userRole:r.role,userId:r.id,userGender:r.gender});U.current!==W&&(U.current=W,k.current.forEach(X=>X.setMap(null)),k.current=[],V.forEach((X,Q)=>{const M=Q===0&&R==="distance",G=qw(X,r.role,M),q=new window.google.maps.Marker({position:{lat:X.lat,lng:X.lng},map:j.current,title:X.name,icon:{url:G,scaledSize:new window.google.maps.Size(40,52),anchor:new window.google.maps.Point(20,52)},zIndex:M?100:1,optimized:!0});q.addListener("click",()=>{Z(X)}),k.current.push(q)}))}return i.jsxs("div",{className:"w-full h-full relative bg-gray-100 dark:bg-gray-900 overflow-hidden",children:[i.jsx("div",{ref:w,className:"w-full h-full"}),i.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[100%] z-10 pointer-events-none drop-shadow-md",children:[i.jsx(gs,{className:"w-10 h-10 text-gray-700 fill-white",strokeWidth:2.5}),i.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-1 bg-black/30 rounded-full blur-[2px]"})]}),i.jsxs("div",{className:"absolute top-4 left-0 right-0 z-20 flex flex-col items-center px-4 pointer-events-none gap-[5px]",children:[i.jsxs("div",{className:`w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 flex items-center p-3 gap-3 pointer-events-auto ${p?"ring-2 ring-primary":""}`,children:[i.jsx(Nl,{className:"w-5 h-5 text-gray-400 shrink-0"}),i.jsx("input",{type:"text",value:B,onChange:W=>H(W.target.value),onFocus:()=>b(!0),placeholder:e("search_placeholder"," "),className:"flex-1 bg-transparent outline-none text-sm min-w-0 dark:text-white dark:placeholder-gray-400"}),i.jsx("button",{onClick:()=>b(!p),className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:p?i.jsx(Xt,{className:"w-4 h-4"}):i.jsx(xje,{className:"w-4 h-4"})})]}),!p&&a.length>0&&i.jsxs("div",{onClick:()=>Z(a[0]),className:"w-full max-w-md bg-white dark:bg-gray-800 p-4 rounded-xl shadow-xl border-2 border-red-500 flex items-center gap-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 active:scale-95 transition-all animate-in slide-in-from-top-2 pointer-events-auto",children:[i.jsx("div",{className:"w-14 h-14 shrink-0",children:i.jsx("img",{src:a[0].genderType==="MALE"?"/images/icons/Man_boxicon.png":a[0].genderType==="FEMALE"?"/images/icons/Woman_boxicon.png":"/images/icons/uni_boxicon.png",alt:"toilet icon",className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs text-red-500 font-bold mb-0.5",children:cd(n.lat,n.lng,S.current.lat,S.current.lng)>1?e("nearest_center","    "):e("nearest_user","  ")}),i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate text-lg",children:a[0].name}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:a[0].address})]}),i.jsx("div",{className:"text-base font-black text-red-500 shrink-0",children:zp(a[0].distance||0)})]})]}),I&&!p&&i.jsx("div",{className:"absolute bottom-56 left-1/2 transform -translate-x-1/2 z-20 pointer-events-auto",children:i.jsxs("button",{onClick:()=>{if(!j.current||!l)return;const W=j.current.getCenter(),X=j.current.getZoom();let Q=2;X<=14&&(Q=5),X<=12&&(Q=10),X<=11&&(Q=15),X<=10&&(Q=20),X<=9&&(Q=30),X<=8&&(Q=50);const M=W.lat(),G=W.lng();$(!1),S.current={lat:M,lng:G,zoom:X},l(M,G,Q)},className:"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 px-4 py-2 rounded-full shadow-lg font-bold flex items-center gap-2 animate-bounce-small hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsx(Nl,{className:"w-4 h-4"}),e("search_this_area","  ")]})}),p&&i.jsx("div",{className:"absolute top-[72px] left-0 right-0 bottom-0 z-10 bg-gray-50/50 dark:bg-gray-900/50 backdrop-blur-sm flex justify-center",children:i.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 h-full rounded-t-2xl shadow-xl border-t border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"w-full bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 shrink-0 overflow-hidden pt-2",children:i.jsxs("div",{className:"w-full h-[80px] flex items-center justify-center relative px-4",children:[i.jsx(rb,{isInline:!0,maxHeight:80,minRatio:4,className:"w-full h-full rounded-lg",type:"NATIVE_LIST"}),i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] text-gray-300 font-bold -z-10 tracking-widest uppercase",children:"Sponsored"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 relative",children:[i.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 p-3 border-b dark:border-gray-700 z-10 shadow-sm",children:i.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[i.jsx("button",{onClick:()=>L(R==="distance"?"rating":"distance"),className:"shrink-0 px-3 py-2 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-white flex items-center gap-1 whitespace-nowrap",children:R==="distance"?e("sort_distance"," "):e("sort_rating"," ")}),i.jsx("div",{className:"w-[1px] h-8 bg-gray-200 dark:bg-gray-700 mx-1 shrink-0"}),i.jsxs("button",{onClick:()=>D(W=>je(J({},W),{hasPaper:!W.hasPaper})),className:`shrink-0 flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-bold border transition-colors ${se.hasPaper?"bg-primary-50 border-primary-100 text-primary-700 dark:bg-primary-900/40 dark:border-primary-800 dark:text-primary-300":"bg-gray-50 dark:bg-gray-700 border-transparent text-gray-500 dark:text-gray-400"}`,children:[i.jsx("img",{src:"/images/icons/tissue.png",width:16,height:16,alt:"tissue",className:se.hasPaper?"":"grayscale opacity-50"}),e("filter_paper","")]}),i.jsxs("button",{onClick:()=>D(W=>je(J({},W),{hasBidet:!W.hasBidet})),className:`shrink-0 flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-bold border transition-colors ${se.hasBidet?"bg-primary-50 border-primary-100 text-primary-700 dark:bg-primary-900/40 dark:border-primary-800 dark:text-primary-300":"bg-gray-50 dark:bg-gray-700 border-transparent text-gray-500 dark:text-gray-400"}`,children:[i.jsx("img",{src:"/images/icons/bidet.png",width:16,height:16,alt:"bidet",className:se.hasBidet?"":"grayscale opacity-50"}),e("filter_bidet","")]}),i.jsxs("button",{onClick:()=>D(W=>je(J({},W),{minRating:!W.minRating})),className:`shrink-0 flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-bold border transition-colors ${se.minRating?"bg-primary-50 border-primary-100 text-primary-700 dark:bg-primary-900/40 dark:border-primary-800 dark:text-primary-300":"bg-gray-50 dark:bg-gray-700 border-transparent text-gray-500 dark:text-gray-400"}`,children:[i.jsx($r,{className:`w-3.5 h-3.5 ${se.minRating?"fill-primary-700 text-primary-700":"text-gray-400"}`}),e("filter_score_3plus","3+")]})]})}),i.jsx("div",{className:"p-4 space-y-3",children:V.length===0?i.jsx("div",{className:"text-center py-10 text-gray-400",children:e("no_toilets_found","   .")}):V.map((W,X)=>i.jsx(Dr.Fragment,{children:i.jsxs("div",{onClick:()=>Z(W),className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex gap-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsx("div",{className:"shrink-0 self-center",children:i.jsx("img",{src:qw(W,r.role,X===0&&R==="distance"),alt:"pin",className:"w-[65px] h-[65px] object-contain drop-shadow-sm"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-bold ${W.type==="public"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:W.type==="public"?e("toilet_type_public",""):W.type==="commercial"?e("toilet_type_commercial",""):e("toilet_type_other","")}),i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:W.name})]}),i.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[W.address," ",W.floor,""]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($r,{className:"w-3 h-3 fill-amber-400 text-amber-400"})," ",W.ratingAvg?W.ratingAvg.toFixed(1):"0.0"," (",W.reviewCount,")"]}),i.jsx("span",{children:"|"}),i.jsx("span",{children:zp(W.distance||0)})]})]})]})},W.id))})]})]})}),i.jsx("div",{className:"absolute bottom-56 right-4 z-20 pointer-events-auto",children:i.jsx("button",{onClick:()=>T(null,null,function*(){_&&(yield _()),j.current&&n.lat!==0&&(j.current.panTo(n),j.current.setZoom(17))}),className:"w-12 h-12 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700 transition-all active:scale-95",children:i.jsx(hh,{className:"w-6 h-6"})})})]})},_Fe=zs("Share",{web:()=>Ni(()=>import("./web-DIIypZ3b.js"),[],import.meta.url).then(t=>new t.ShareWeb)}),xFe="https://play.google.com/store/apps/details?id=com.toiletshare.app",vFe="https://apps.apple.com/app/id6740177708",bw="https://toiletshare.pages.dev",yj={getStoreUrl(){const t=en.getPlatform();return t==="ios"?vFe:t==="android"?xFe:bw},shareApp(t){return T(this,null,function*(){const e=btoa(t),r=`${bw}/?ref=${e}`;yield this.performShare({title:" -  ",text:"     !   .",url:r})})},shareToilet(t,e){return T(this,null,function*(){const r=btoa(e),n=`${bw}/?ref=${r}#/toilet/${t.id}`,a=` : ${t.name}`,s=`${t.name}   !
${t.address}`;yield this.performShare({title:a,text:s,url:n})})},performShare(t){return T(this,null,function*(){try{en.isNativePlatform()?yield _Fe.share({title:t.title,text:t.text,url:t.url,dialogTitle:" "}):navigator.share?yield navigator.share(t):(yield navigator.clipboard.writeText(t.url),alert("   ."))}catch(e){console.error("Error sharing:",e)}})}},xm=({level:t,size:e="md",showLabel:r=!1,className:n=""})=>{const{t:a}=nn();let s,l,u;switch(t){case 6:s="/images/levels/level_6.png",u="text-sky-500",l=a("level_bidet","");break;case 5:s="/images/levels/level_5.png",u="text-blue-400",l=a("level_wet_tissue","");break;case 4:s="/images/levels/level_4.png",u="text-purple-400",l=a("level_box_tissue","");break;case 3:s="/images/levels/level_3.png",u="text-gray-900 dark:text-gray-100",l=a("level_roll_tissue","");break;case 2:s="/images/levels/level_2.png",u="text-gray-500",l=a("level_newspaper","");break;case 1:s="/images/levels/level_1.png",u="text-yellow-600",l=a("level_straw","");break;case 0:default:s="/images/levels/level_0.png",u="text-amber-700",l=a("level_hand","");break}const h={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-10 h-10",xl:"w-24 h-24"}[e];return i.jsxs("div",{className:`flex items-center gap-2 ${n}`,title:` ${t}: ${l}`,children:[i.jsx("img",{src:s,alt:l,className:`object-contain ${h}`}),r&&i.jsxs("span",{className:`font-bold ${e==="sm"?"text-xs":"text-sm"} ${u}`,children:[l," (Lv. ",t,")"]})]})},wFe=({toilet:t,user:e,onUnlock:r,isUnlocked:n})=>{const{t:a}=nn(),[s,l]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(1);Dr.useEffect(()=>{oe.getCreditPolicy().then(w=>m(w.unlockCost||1))},[]);const p=e.role===Be.VIP||e.role===Be.ADMIN,b=e.id===t.createdBy,y=!t.hasPassword||n||p||b,_=()=>{console.log(" handleUnifiedUnlock called!",{credits:e.credits}),e.credits>=h?(console.log(" User has credits, unlocking immediately"),d(!0),r("credit"),d(!1)):(console.log(" No credits, unlocking with ad"),d(!0),setTimeout(()=>{d(!1),r("ad")},100))};return i.jsxs("div",{className:`
      relative overflow-hidden rounded-xl border transition-all duration-300 shadow-sm
      ${y?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}
    `,children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-white/50 dark:bg-black/20",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[y?i.jsx(jje,{className:"w-4 h-4 text-green-600"}):i.jsx(jl,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-bold text-sm text-gray-700 dark:text-gray-300",children:y?a("password_unlocked"," "):a("password_locked"," ")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:!t.source||t.source==="user"?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(xm,{level:t.creatorLevel||0,size:"sm"}),i.jsx("span",{className:"font-medium",children:t.creatorName||(t.creatorEmail?(()=>{let w=t.creatorName||t.creatorEmail.split("@")[0];return w.length>6&&(w=w.slice(0,6)),w.length<=2?w.substring(0,1)+"*":w.slice(0,w.length-2)+"**"})():a("anonymous",""))}),i.jsxs("span",{className:"text-[10px] text-gray-400 opacity-80 decoration-none font-normal",children:["(Lv.",t.creatorLevel||0,")"]})]}):i.jsx("span",{className:"font-medium text-blue-500",children:a("public_data","")})})]}),i.jsx("div",{className:"p-5 flex flex-col items-center justify-center min-h-[120px]",children:y?i.jsxs("div",{className:"flex flex-col items-center animate-in fade-in zoom-in duration-300 w-full",children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:a("toilet_password"," ")}),i.jsx("div",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-wider mb-4",children:t.password||a("none","")})]}):i.jsx("div",{className:"w-full",children:i.jsxs("button",{onClick:_,disabled:u,className:`w-full flex items-center justify-center gap-3 px-4 py-4 rounded-xl shadow-md transition-all active:scale-95
                  ${e.credits>=h?"bg-primary text-white hover:bg-amber-600":"bg-gray-900 text-white hover:bg-gray-800"}
                `,children:[u?i.jsx(ht,{className:"w-5 h-5 animate-spin"}):e.credits>=h?i.jsx(xNe,{className:"w-5 h-5 fill-current"}):i.jsx(Bh,{className:"w-5 h-5"}),i.jsxs("div",{className:"flex flex-col items-start leading-none",children:[i.jsx("span",{className:"font-bold text-base",children:e.credits>=h?a("check_password"," "):a("unlock_with_ad"," ")}),e.credits>=h&&i.jsx("span",{className:"text-[10px] opacity-80 mt-1 font-medium",children:a("credit_deduction","{{cost}}   (: {{balance}})",{cost:h,balance:e.credits})})]})]})})})]})},ul={DAILY_REVIEW_LIMIT:5,DAILY_REPORT_LIMIT:3,MIN_CONTENT_LENGTH:10,MIN_WRITE_TIME_MS:1e4,REVIEW_COOLDOWN_MS:12e4},jFe=[/(.)\1{4,}/,/(\d{2,})\1{2,}/,/([--])\1{4,}/,/^[--\s]+$/,/^[0-9\s]+$/,/([a-z])\1{4,}/],NFe=["","","","","","","","","","","","","","","","","","","","","","","",""],M$=t=>{if(t.replace(/\s/g,"").length<ul.MIN_CONTENT_LENGTH)return{valid:!1,message:`      ! (${ul.MIN_CONTENT_LENGTH} )`};for(const a of jFe)if(a.test(t))return{valid:!1,message:"        ."};if((t.match(/[]/g)||[]).length>t.length*.5&&t.length>20)return{valid:!1,message:"   .      :)"};const n=(t.match(/[-a-zA-Z]/g)||[]).length;if(t.length>=10&&n/t.length<.4)return{valid:!1,message:"        ."};for(const a of NFe)if(t.includes(a))return{valid:!1,message:"   .        ."};return{valid:!0}};var U$;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(U$||(U$={}));const ni=zs("LocalNotifications",{web:()=>Ni(()=>import("./web-DD271FI4.js"),[],import.meta.url).then(t=>new t.LocalNotificationsWeb)}),kFe="fetch",SFe="BackgroundFetch",EFe=0,AFe=1,TFe=2,OFe=0,CFe=1,$Fe=2,PFe=3,RFe=4,ac=zs("BackgroundFetch");let hp=null;class hc{static get STATUS_RESTRICTED(){return EFe}static get STATUS_DENIED(){return AFe}static get STATUS_AVAILABLE(){return TFe}static get NETWORK_TYPE_NONE(){return OFe}static get NETWORK_TYPE_ANY(){return CFe}static get NETWORK_TYPE_CELLULAR(){return RFe}static get NETWORK_TYPE_UNMETERED(){return $Fe}static get NETWORK_TYPE_NOT_ROAMING(){return PFe}static configure(e,r,n){if(typeof r!="function")throw"BackgroundFetch requires an event callback at 2nd argument";typeof n!="function"&&(console.warn("[BackgroundFetch] configure:  You did not provide a 3rd argument onTimeout callback.  This callback is a signal from the OS that your allowed background time is about to expire.  Use this callback to finish what you're doing and immediately call BackgroundFetch.finish(taskId)"),n=s=>{console.warn("[BackgroundFetch] default onTimeout callback fired.  You should provide your own onTimeout callbcak to .configure(options, onEvent, onTimeout)"),hc.finish(s)});const a=n;return hp!==null&&(hp.remove(),hp=null),hp=ac.addListener(kFe,s=>{s.timeout?a(s.taskId):r(s.taskId)}),e=e||{},new Promise((s,l)=>{ac.configure({options:e}).then(u=>{s(u.status)}).catch(u=>{console.warn(SFe,"ERROR:",u),l(u.message)})})}static scheduleTask(e){return new Promise((r,n)=>{if(typeof e.delay!="number"){const a=parseInt(e.delay,10);if(a===NaN){n("[BackgroundFetch] TaskConfig.delay must be a number: "+e.delay);return}e.delay=a}return ac.scheduleTask({options:e}).then(()=>{r()}).catch(a=>{n(a.message)})})}static start(){return new Promise((e,r)=>{ac.start().then(n=>{e(n.status)}).catch(n=>{r(n.message)})})}static stop(e){return new Promise((r,n)=>{ac.stop({taskId:e}).then(()=>{r()}).catch(a=>{n(a.message)})})}static finish(e){return ac.finish({taskId:e})}static status(){return new Promise((e,r)=>{ac.status().then(n=>{e(n.status)}).catch(n=>{r(n.message)})})}}class Xu{constructor(){this.isInitialized=!1}static getInstance(){return Xu.instance||(Xu.instance=new Xu),Xu.instance}initialize(){return T(this,null,function*(){if(!this.isInitialized)try{if(en.getPlatform()==="web")return;(yield ni.requestPermissions()).display==="granted"&&(yield this.createChannels(),yield this.configureNightlifeReminder()),this.isInitialized=!0,console.log(" NotificationService Initialized")}catch(e){console.error("Failed to initialize NotificationService",e)}})}scheduleReviewReminder(e,r){return T(this,null,function*(){try{const s=(yield oe.getSystemSetting("msg_review_reminder","  [name]  ? 1     ! ")).replace("[name]",r);yield ni.schedule({notifications:[{id:10001,title:" ",body:s,schedule:{at:new Date(Date.now()+300*1e3)},extra:{toiletId:e,type:"review_reminder"},smallIcon:"ic_stat_poop",channelId:"reminders"}]}),console.log(` Review Reminder Scheduled for ${r} in 3 mins`)}catch(a){console.error("Failed to schedule review reminder",a)}})}cancelReviewReminder(e){return T(this,null,function*(){try{yield ni.cancel({notifications:[{id:10001}]}),console.log(` Review Reminder Cancelled for ${e}`)}catch(n){}})}configureNightlifeReminder(){return T(this,null,function*(){try{const r=yield Yi.checkPermissions(),n=r.location==="granted";if(console.log(` Configuring Nightlife Reminder. Perm: ${r.location}`),r.location==="granted"){console.log(" Activating Smart Nightlife Mode"),yield ni.cancel({notifications:[{id:99999}]});const a=yield hc.configure({minimumFetchInterval:15,stopOnTerminate:!1,startOnBoot:!0,enableHeadless:!0,requiredNetworkType:hc.NETWORK_TYPE_ANY},s=>T(this,null,function*(){console.log("[BackgroundFetch] Event received: ",s),yield this.checkNightlifeMovement(),yield this.checkNewToiletsNearby(),hc.finish(s)}),s=>{console.log("[BackgroundFetch] TIMEOUT: ",s),hc.finish(s)});console.log("[BackgroundFetch] Status: ",a)}else{console.log(" Activating Fixed Nightlife Mode"),yield hc.stop();let a=5;const s=localStorage.getItem("nightlife_fixed_day");s?a=parseInt(s,10):(a=Math.floor(Math.random()*5)+1,localStorage.setItem("nightlife_fixed_day",String(a)));const l=["","msg_nightlife_mon","msg_nightlife_tue","msg_nightlife_wed","msg_nightlife_thu","msg_nightlife_fri"],u=[""," !    ?"," !    ?","  ~    !","     !"," !      , ?"],d=yield oe.getSystemSetting(l[a],u[a]),h=this.getNextDayOfWeek(a,19,0);yield ni.schedule({notifications:[{id:99999,title:"  ",body:d,schedule:{at:h,every:"week"},extra:{type:"fixed_nightlife"},channelId:"reminders"}]}),console.log(` Fixed Reminder Scheduled: Day ${a} at 19:00`)}}catch(r){console.error("Failed to configure Nightlife Reminder",r)}})}checkNightlifeMovement(){return T(this,null,function*(){console.log(" Checking Nightlife Movement...");const e=new Date,r=e.getHours(),n=e.getDay();if(n===0||n===6){console.log("Skipping Nightlife Check: Weekend");return}if(r<19||r>=22){console.log("Skipping Nightlife Check: Outside time window");return}const a=localStorage.getItem("last_nightlife_notification");if(a&&new Date(a).toDateString()===e.toDateString()){console.log("Skipping Nightlife Check: Already sent today");return}try{const s=yield Yi.getCurrentPosition({enableHighAccuracy:!0}),l=s.coords.latitude,u=s.coords.longitude,d=localStorage.getItem("last_known_location");if(d){const h=JSON.parse(d),m=cd(h.lat,h.lng,l,u),p=e.getTime()-h.timestamp;if(console.log(`Movement Check: Dist=${m.toFixed(2)}km, TimeDiff=${(p/6e4).toFixed(0)}min`),p<3600*1e3&&m>=.5&&m<=2){const b=["msg_nightlife_sun","msg_nightlife_mon","msg_nightlife_tue","msg_nightlife_wed","msg_nightlife_thu","msg_nightlife_fri","msg_nightlife_sat"],_=yield oe.getSystemSetting(b[n]||"msg_nightlife_smart","     !");yield ni.schedule({notifications:[{id:Math.floor(Math.random()*1e5)+1e5,title:"  ",body:_,schedule:{at:new Date(Date.now()+1e3)},extra:{type:"smart_nightlife"},channelId:"reminders"}]}),localStorage.setItem("last_nightlife_notification",e.toISOString()),console.log(" Smart Nightlife Notification Sent")}}localStorage.setItem("last_known_location",JSON.stringify({lat:l,lng:u,timestamp:e.getTime()}))}catch(s){console.error("Nightlife Position Check Failed",s)}})}checkNewToiletsNearby(){return T(this,null,function*(){console.log(" Checking New Toilets Nearby...");const e=new Date,r=localStorage.getItem("last_nearby_toilet_check");if(!(r&&new Date(r).toDateString()===e.toDateString()))try{const n=yield Yi.getCurrentPosition({enableHighAccuracy:!1}),{latitude:a,longitude:s}=n.coords,l=yield oe.getSystemSetting("new_toilet_radius","2"),u=parseFloat(l)||2,d=yield oe.getToiletsInRadius(a,s,u),h=new Date(e.getTime()-1440*60*1e3),m=d.filter(p=>p.createdAt&&new Date(p.createdAt)>h);if(m.length>0){console.log(`Found ${m.length} new toilets nearby!`);const b=(yield oe.getSystemSetting("msg_new_toilet_nearby","  [radius]km  [count]   !")).replace("[radius]",String(u)).replace("[count]",String(m.length));yield ni.schedule({notifications:[{id:Math.floor(Math.random()*1e5)+2e5,title:"  ",body:b,schedule:{at:new Date(Date.now()+1e3)},extra:{type:"nearby_toilet_check"},channelId:"reminders"}]})}localStorage.setItem("last_nearby_toilet_check",e.toISOString())}catch(n){console.error("New Toilets Check Failed",n)}})}createChannels(){return T(this,null,function*(){en.getPlatform()!=="web"&&(yield ni.createChannel({id:"reminders",name:" ",description:"     ",importance:4,visibility:1,sound:"default"}),yield ni.createChannel({id:"messages",name:"  ",description:"    ",importance:5,visibility:1}),yield ni.createChannel({id:"default",name:" ",description:"  ",importance:3,visibility:1}))})}getNextDayOfWeek(e,r,n){const a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate()+(e+7-a.getDay())%7,r,n);return s<a&&s.setDate(s.getDate()+7),s}hashString(e){let r=0,n,a;if(e.length===0)return r;for(n=0;n<e.length;n++)a=e.charCodeAt(n),r=(r<<5)-r+a,r|=0;return Math.abs(r)}}const Y0=Xu.getInstance(),q$=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],DFe=({toilet:t,myLocation:e,onClose:r,darkMode:n,onNavigate:a})=>{const{t:s,i18n:l}=nn(),u=l.language.startsWith("ko"),d=x.useRef(null),h=x.useRef(null),m=x.useRef(null),p=x.useRef(null),b=x.useRef(n),[y,_]=x.useState(null),[w,j]=x.useState(null);return x.useEffect(()=>{b.current=n},[n]),x.useEffect(()=>{const k=()=>{const S=cd(e.lat,e.lng,t.lat,t.lng),P=zp(S),C=s("walking_time_approx_short"," {{time}}",{time:Math.ceil(S*1.5/67)});_({distance:P,duration:C})},E=setTimeout(()=>{var P,C;if((!d.current||!((P=window.google)!=null&&P.maps))&&!((C=window.google)!=null&&C.maps&&d.current)){j(s("map_load_fail","  "));return}const S=b.current;if(d.current&&!h.current){const I=new window.google.maps.Map(d.current,{center:e,zoom:17,disableDefaultUI:!0,styles:S?[...q$,{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});h.current=I;const $=qw(t,Be.USER,!0);new window.google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:I,icon:{url:$,scaledSize:new window.google.maps.Size(40,52),anchor:new window.google.maps.Point(20,52)},title:t.name,zIndex:2}),k(),new window.google.maps.Polyline({path:[e,{lat:t.lat,lng:t.lng}],geodesic:!0,strokeColor:"#38BDF8",strokeOpacity:0,strokeWeight:2,icons:[{icon:{path:"M 0,-1 0,1",strokeOpacity:1,scale:3},offset:"0",repeat:"20px"}],map:I});const B=new window.google.maps.LatLngBounds;B.extend(e),B.extend({lat:t.lat,lng:t.lng}),I.fitBounds(B,{top:100,bottom:250,left:20,right:20});class H extends window.google.maps.OverlayView{constructor(R){super(),this.position=R,this.div=null}onAdd(){const R=document.createElement("div");R.style.position="absolute",R.style.cursor="pointer",R.style.zIndex="999",R.contentEditable="false",R.innerHTML=`
                        <div class="relative flex items-center justify-center w-8 h-8">
                            <span class="absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 animate-ping"></span>
                            <span class="relative inline-flex rounded-full h-4 w-4 bg-blue-500 border-2 border-white shadow-sm"></span>
                        </div>
                    `,this.div=R;const L=this.getPanes();L==null||L.overlayMouseTarget.appendChild(R)}draw(){const R=this.getProjection();if(!R||!this.div)return;const L=R.fromLatLngToDivPixel(new window.google.maps.LatLng(this.position));L&&(this.div.style.left=L.x-16+"px",this.div.style.top=L.y-16+"px")}onRemove(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)}setPosition(R){this.position=R,this.draw()}}const se=new H(e);se.setMap(I),m.current=se,navigator.geolocation&&(p.current=navigator.geolocation.watchPosition(D=>{const R={lat:D.coords.latitude,lng:D.coords.longitude};m.current&&m.current.setPosition(R)},D=>console.log("Geolocation error suppressed"),{enableHighAccuracy:!0,maximumAge:0}))}},200);return()=>{p.current!==null&&navigator.geolocation.clearWatch(p.current),clearTimeout(E)}},[]),x.useEffect(()=>{h.current&&h.current.setOptions({styles:n?[...q$,{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]})},[n]),i.jsx("div",{className:"fixed inset-0 z-[2000] flex justify-center bg-black/10 backdrop-blur-[1px]",children:i.jsxs("div",{className:"w-full h-full bg-surface dark:bg-surface-dark flex flex-col shadow-2xl animate-in slide-in-from-bottom-full duration-300 relative",children:[i.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-border dark:border-border-dark bg-surface dark:bg-surface-dark z-10 shadow-sm shrink-0",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-text-muted font-bold mb-0.5",children:s("destination","")}),i.jsx("h3",{className:"font-bold text-lg leading-none text-text-main dark:text-text-light",children:t.name})]}),i.jsx("button",{onClick:r,className:"p-2 bg-background dark:bg-background-dark rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:i.jsx(Xt,{className:"w-6 h-6 text-text-muted"})})]}),i.jsx(rb,{position:"top",margin:80,className:"w-full max-w-[360px] mx-auto aspect-[4/1] h-auto shadow-sm rounded-lg overflow-hidden my-2",type:"NATIVE_DETAIL"}),i.jsxs("div",{className:"flex-1 relative w-full h-full min-h-0",children:[i.jsx("div",{ref:d,className:"w-full h-full"}),y&&i.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-20 bg-surface dark:bg-surface-dark px-6 py-3 rounded-full shadow-xl border border-border dark:border-border-dark flex items-center gap-4 animate-in fade-in slide-in-from-top-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-[10px] text-text-muted font-bold",children:s("distance","")}),i.jsx("span",{className:"text-sm font-black text-text-main dark:text-text-light",children:y.distance})]}),i.jsx("div",{className:"w-px h-6 bg-border dark:bg-border-dark"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-[10px] text-text-muted font-bold",children:s("duration","")}),i.jsx("span",{className:"text-sm font-black text-primary",children:y.duration})]})]}),i.jsx("div",{className:"absolute bottom-[240px] right-4 z-20",children:i.jsx("button",{onClick:()=>{h.current&&(h.current.panTo(e),h.current.setZoom(17))},className:"w-12 h-12 bg-surface dark:bg-surface-dark rounded-full shadow-lg flex items-center justify-center text-text-main dark:text-text-light border border-border dark:border-border-dark",children:i.jsx(hh,{className:"w-6 h-6"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 pb-4 pb-safe bg-gradient-to-t from-surface via-surface to-transparent dark:from-surface-dark dark:via-surface-dark flex flex-col items-center",children:i.jsx("div",{className:"flex gap-4 justify-center items-center pb-4 w-full px-4 max-w-md mx-auto z-10",children:u?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>a("kakao"),className:"flex-1 h-14 bg-[#FEE500] rounded-2xl shadow-lg flex items-center justify-center hover:bg-[#FFE500] active:scale-95 transition-all relative overflow-hidden group border border-yellow-400","aria-label":s("kakao_map",""),children:i.jsx("img",{src:"https://play-lh.googleusercontent.com/pPTTNz433EYFurg2j__bFU5ONdMoU_bs_-yS2JLZriua3iHrksGP6XBPF5VtDPlpGcW4=s64-rw",alt:"Kakao Map",className:"h-10 w-10 object-contain rounded-xl"})}),i.jsx("button",{onClick:()=>a("naver"),className:"flex-1 h-14 bg-white rounded-2xl shadow-lg flex items-center justify-center hover:bg-gray-50 active:scale-95 transition-all relative overflow-hidden group border border-gray-200","aria-label":s("naver_map",""),children:i.jsx("img",{src:"https://play-lh.googleusercontent.com/FZCOcEqapjBkvBmv2RkIMlJ1mteGJh8eq4239jAm-4QgpzvCa9sBj4msNlUBsWvf3hX69-fJoTnFZR2pFdZdwxY=s64-rw",alt:"Naver Map",className:"h-10 w-10 object-contain rounded-xl"})})]}):i.jsxs("button",{onClick:()=>a("google"),className:"flex-1 h-14 bg-white rounded-2xl shadow-lg flex items-center justify-center hover:bg-gray-50 active:scale-95 transition-all relative overflow-hidden group border border-gray-200 gap-2","aria-label":"Google Maps",children:[i.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Google_Maps_icon_%282020%29.svg/512px-Google_Maps_icon_%282020%29.svg.png",alt:"Google Maps",className:"h-8 w-8 object-contain"}),i.jsx("span",{className:"font-bold text-gray-700",children:s("google_map","Google Maps")})]})})})]})]})})},LFe=({user:t,toilet:e,myLocation:r,bookmarks:n,unlockedToilets:a,onBack:s,onBookmark:l,onUnlock:u,onShowLogin:d,onRefresh:h,onUserUpdate:m,darkMode:p,requestAd:b,onModalStateChange:y})=>{const{t:_}=nn(),[w,j]=x.useState([]),[k,E]=x.useState(!1),[S,P]=x.useState(null),[C,I]=x.useState(!1),[$,B]=x.useState(5),[H,se]=x.useState(""),[D,R]=x.useState(""),[L,V]=x.useState(""),[Z,U]=x.useState(!1),[K,W]=x.useState({isOpen:!1,message:""}),X=x.useRef(null),Q=Le=>{W({isOpen:!0,message:Le,isConfirm:!1})},M=(Le,Ae)=>{W({isOpen:!0,message:Le,onConfirm:Ae,isConfirm:!0})},G=()=>{W(Le=>je(J({},Le),{isOpen:!1}))},q=e.createdBy===t.id||t.role===Be.ADMIN;x.useEffect(()=>{T(null,null,function*(){if(e){X.current!==e.id&&(oe.incrementToiletView(e.id),X.current=e.id);const Ae=yield oe.getReviews(e.id);j(Ae)}})},[e]);const ae=x.useRef([]);x.useEffect(()=>{ae.current=w},[w]);const ie=x.useCallback(()=>{if(!e||!(t!=null&&t.id))return;const Le=e.createdBy===t.id,Ae=w.some(We=>We.userId===t.id);!Le&&!Ae&&(console.log(` Triggered Review Reminder Scheduling for ${e.name} (3 mins)`),Y0.scheduleReviewReminder(e.id,e.name))},[e,t.id,w]);x.useEffect(()=>{const Le=setTimeout(()=>{ie()},3e3);return()=>clearTimeout(Le)},[ie]);const be=Le=>{if(t.role===Be.GUEST){d();return}ie(),u(Le)},te=()=>T(null,null,function*(){yield yj.shareToilet(e,t.id)}),[he,Y]=x.useState({show:!1,message:"",points:0}),[we,Ce]=x.useState(2);x.useEffect(()=>{T(null,null,function*(){try{const Ae=yield oe.getCreditPolicy();Ae&&Ae.reviewSubmit&&Ce(Ae.reviewSubmit)}catch(Ae){console.error("Failed to fetch credit policy",Ae)}})},[]);const[ce,ue]=x.useState(!1),[Ie,Ve]=x.useState(!1),[Ze,ve]=x.useState(!1),[Re,bt]=x.useState(null),hr=Le=>{const Ae=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent);if(!e)return;const{lat:We,lng:Oe,name:Ue}=e,Fe=(r==null?void 0:r.lat)||0,ot=(r==null?void 0:r.lng)||0,_t=Fe!==0&&ot!==0;if(Le==="kakao")Ae?_t?window.location.href=`kakaomap://route?sp=${Fe},${ot}&ep=${We},${Oe}&by=foot`:window.location.href=`kakaomap://route?ep=${We},${Oe}&by=foot`:_t?window.open(`https://map.kakao.com/link/from/,${Fe},${ot}/to/${Ue},${We},${Oe}`,"_blank"):window.open(`https://map.kakao.com/link/to/${Ue},${We},${Oe}`,"_blank");else if(Le==="naver")if(Ae){const Et=encodeURIComponent(""),mt=encodeURIComponent(Ue);if(_t){const Pt=encodeURIComponent("");window.location.href=`nmap://route/walk?slat=${Fe}&slng=${ot}&sname=${Pt}&dlat=${We}&dlng=${Oe}&dname=${mt}&appname=${Et}`}else window.location.href=`nmap://route/walk?dlat=${We}&dlng=${Oe}&dname=${mt}&appname=${Et}`}else _t?window.open(`https://map.naver.com/v5/directions/${ot},${Fe},/${Oe},${We},${Ue}/-/walk`,"_blank"):window.open(`https://map.naver.com/v5/search/${encodeURIComponent(Ue)}`,"_blank")},Ir=Le=>{bt(Le),ve(!0)},Mn=()=>{ve(!1),Re?(oe.recordAdView("unlock").catch(console.error),hr(Re),bt(null),U(!1),y==null||y(!1)):yr&&Gt()},[Wr,St]=x.useState(0),[yr,an]=x.useState(null),Zt=x.useRef(0),jt=x.useRef(0);x.useEffect(()=>{k&&(Zt.current=Date.now())},[k]),x.useEffect(()=>{C&&(jt.current=Date.now())},[C]),x.useEffect(()=>{if(y){const Le=k||C||ce||Ze||he.show;y(Le)}},[k,C,ce,Ze,he.show,y]);const Yr=()=>T(null,null,function*(){var Le,Ae;console.log("handleSubmitReview triggered");try{if(t.role===Be.GUEST){d();return}const We=M$(H);if(!We.valid){Q(We.message);return}const Oe=Date.now()-Zt.current;if(console.log(`Review write time: ${Oe}ms`),Oe<ul.MIN_WRITE_TIME_MS){Q(_("alert_review_fast","        :)"));return}const Ue=t.role===Be.ADMIN||t.role===Be.VIP;if(!Ue&&(yield oe.getDailyReviewCount(t.id))>=ul.DAILY_REVIEW_LIMIT){Q(_("alert_review_limit","     {{limit}}. ,   !",{limit:ul.DAILY_REVIEW_LIMIT}));return}if((yield oe.checkRecentReview(t.id,e.id))&&!S){Q(_("alert_review_duplicate","         .   :)"));return}if(S){const ot={id:S,toiletId:e.id,userId:t.id,userName:G3(t),rating:$,content:H,createdAt:new Date().toISOString(),rewarded:(Ae=(Le=w.find(Et=>Et.id===S))==null?void 0:Le.rewarded)!=null?Ae:!1},_t=w.find(Et=>Et.id===S);_t&&(ot.createdAt=_t.createdAt),j(Et=>Et.map(mt=>mt.id===S?ot:mt)),E(!1),se(""),B(5),P(null),yield oe.updateReview(ot),Q(_("alert_review_saved"," ."))}else{const ot={id:"r_"+Date.now(),toiletId:e.id,userId:t.id,userName:G3(t),rating:$,content:H,createdAt:new Date().toISOString(),rewarded:!1};yield oe.addReview(ot),Y0.cancelReviewReminder(e.id),j(_t=>[ot,..._t]),E(!1),se(""),B(5),Ue?Y({show:!0,message:_("review_thanks_vip_admin",`  !
  .`),points:we}):(St(we),an(ot.id),Ve(!0))}}catch(We){console.error("Failed to save review",We),Q(_("alert_review_failed",",   .   !"))}}),Gt=()=>T(null,null,function*(){ve(!1);const Le=Wr,Ae=je(J({},t),{credits:(t.credits||0)+Le});m(Ae),yr&&j(We=>We.map(Oe=>Oe.id===yr?je(J({},Oe),{rewarded:!0}):Oe)),Y({show:!0,message:_("ad_reward_message",`  !
 .`),points:Le}),Promise.all([oe.recordAdView("review"),oe.updateUserCredits(t.id,Le),yr?oe.logCreditTransaction(t.id,Le,"ad_view","review",yr,"   ()"):Promise.resolve(),yr?oe.updateReviewReward(yr,!0):Promise.resolve()]).catch(We=>{console.error("Failed to sync ad reward to DB:",We)}),an(null)}),bn=Le=>{const Ae=w.find(Ue=>Ue.id===Le),We=(Ae==null?void 0:Ae.rewarded)===!0,Oe=We?_("review_delete_confirm",`   ? 
(   {{amount}}  )`,{amount:we}):_("review_delete_confirm_simple","   ?");M(Oe,()=>{j(Ue=>Ue.filter(Fe=>Fe.id!==Le)),oe.deleteReview(Le).then(()=>T(null,null,function*(){let Ue=_("review_deleted"," .");if(We){const Fe=-we,ot=je(J({},t),{credits:(t.credits||0)+Fe});m(ot),yield oe.updateUserCredits(t.id,Fe),Ue=_("review_deleted_deducted",` ,
  .`)}Q(Ue),h()})).catch(Ue=>{console.error("Failed to delete review",Ue),Q(_("review_delete_fail","  .")),h()})})},sn=Le=>{P(Le.id),B(Le.rating),se(Le.content),E(!0)},yn=()=>{if(t.role===Be.GUEST){d();return}let Le=L;if(L===""){if(!D.trim()){Q(_("report_add_detail","    ."));return}Le=`: ${D.trim()}`}else if(!L){Q(_("report_select_reason","  !"));return}if(L==="  "){ue(!0);return}Ht(Le)},Ht=Le=>T(null,null,function*(){if(L===""){const Ue=M$(Le.replace(": ",""));if(!Ue.valid){Q(Ue.message);return}}if(Date.now()-jt.current<3e3){Q(_("alert_report_fast","     ."));return}if(!(t.role===Be.ADMIN||t.role===Be.VIP)){if((yield oe.getDailyReportCount(t.id))>=ul.DAILY_REPORT_LIMIT){Q(_("alert_report_limit","  {{limit}} .   ,   .",{limit:ul.DAILY_REPORT_LIMIT}));return}if(yield oe.checkRecentReport(t.id,e.id)){Q(_("alert_report_duplicate","       .      !"));return}}const Oe={id:"rep_"+Date.now(),toiletId:e.id,toiletName:e.name,reporterId:t.id,reason:Le,status:"pending",createdAt:new Date().toISOString()};try{yield oe.addReport(Oe),I(!1),ue(!1),R(""),V(""),Y({show:!0,message:_("report_thanks_title",`  .
  .`),points:0})}catch(Ue){console.error("Failed to submit report",Ue),Q(_("alert_report_error","    ."))}});return i.jsx("div",{className:"absolute inset-0 z-[50] flex justify-center bg-black/20 backdrop-blur-sm overflow-hidden",children:i.jsxs("div",{className:"w-full max-w-md h-full bg-surface dark:bg-surface-dark overflow-y-auto no-scrollbar shadow-2xl relative pb-32",style:{WebkitOverflowScrolling:"touch"},children:[i.jsxs("div",{className:"bg-surface dark:bg-surface-dark px-4 py-3 flex items-center justify-between sticky top-0 z-20 border-b border-border dark:border-border-dark shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:s,className:"p-2 -ml-2 text-text-main dark:text-text-light",children:i.jsx(ao,{className:"w-6 h-6 rotate-180"})}),i.jsx("div",{children:i.jsx("h1",{className:"font-bold text-lg leading-tight text-text-main dark:text-text-light whitespace-nowrap overflow-hidden text-ellipsis",children:e.name.length>14?e.name.slice(0,14)+"..":e.name})})]}),i.jsxs("div",{className:"flex gap-1",children:[q&&i.jsx("button",{onClick:()=>window.location.hash=`#/edit/${e.id}`,className:"p-2 text-text-muted hover:bg-background dark:hover:bg-background-dark rounded-full transition-colors",children:i.jsx(I6,{className:"w-6 h-6"})}),i.jsx("button",{onClick:te,className:"p-2 text-text-muted hover:bg-background dark:hover:bg-background-dark rounded-full transition-colors",children:i.jsx(D6,{className:"w-6 h-6"})}),i.jsx("button",{onClick:()=>{t.role===Be.GUEST?d():l(e.id)},className:"p-2",children:n.has(e.id)?i.jsx($r,{className:"w-6 h-6 text-amber-400 fill-current"}):i.jsx($r,{className:"w-6 h-6 text-border"})})]})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(wFe,{toilet:e,user:t,onUnlock:be,isUnlocked:a[e.id]>Date.now()||q}),i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-xl border border-border dark:border-border-dark p-5 shadow-sm space-y-5",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"shrink-0",children:i.jsx(j6,{type:e.genderType,className:"w-16 h-16"})}),i.jsxs("div",{className:"flex-1 flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm text-text-main dark:text-text-light font-medium line-clamp-2 break-keep",children:[e.address," ",e.floor,""]}),e.distance&&i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-text-muted mt-1",children:[i.jsx("span",{className:"text-primary",children:zp(e.distance)}),i.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),i.jsx("span",{children:_("walking_time"," {{time}}",{time:Math.ceil(e.distance*1.5/67)})})]})]}),i.jsxs("button",{onClick:()=>{ie(),U(!0),y==null||y(!0)},className:"flex flex-col items-center justify-center gap-1 w-16 h-16 rounded-xl bg-primary-50 hover:bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:hover:bg-primary-900/50 dark:text-primary-400 transition-colors",children:[i.jsx(Fw,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-bold",children:_("view_map","")})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:`p-3 rounded-lg border flex flex-col items-center gap-2 ${e.hasPaper?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800":"bg-background dark:bg-background-dark border-border dark:border-border-dark"}`,children:[i.jsx("img",{src:"/images/icons/tissue.png",alt:"",className:`w-10 h-10 object-contain ${!e.hasPaper&&"opacity-40 grayscale"}`}),i.jsxs("span",{className:`text-xs font-bold ${e.hasPaper?"text-primary-700 dark:text-primary-300":"text-text-muted"}`,children:[_("tissue","")," ",e.hasPaper?_("tissue_yes",""):_("tissue_no","")]})]}),i.jsxs("div",{className:`p-3 rounded-lg border flex flex-col items-center gap-2 ${e.hasBidet?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800":"bg-background dark:bg-background-dark border-border dark:border-border-dark"}`,children:[i.jsx("img",{src:"/images/icons/bidet.png",alt:"",className:`w-10 h-10 object-contain ${!e.hasBidet&&"opacity-40 grayscale"}`}),i.jsxs("span",{className:`text-xs font-bold ${e.hasBidet?"text-primary-700 dark:text-primary-300":"text-text-muted"}`,children:[_("bidet","")," ",e.hasBidet?_("bidet_yes",""):_("bidet_no","")]})]}),i.jsxs("div",{className:`p-3 rounded-lg border flex flex-col items-center gap-2 ${e.stallCount?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800":"bg-background dark:bg-background-dark border-border dark:border-border-dark"}`,children:[i.jsx("img",{src:"/images/icons/toilet.png",alt:"",className:`w-10 h-10 object-contain ${!e.stallCount&&"opacity-40 grayscale"}`}),i.jsx("span",{className:`text-xs font-bold ${e.stallCount?"text-primary-700 dark:text-primary-300":"text-text-muted"}`,children:_("stalls_count","{{count}}",{count:e.stallCount})})]})]}),e.note&&i.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 text-sm text-gray-700 flex gap-3",children:[i.jsx(Cj,{className:"w-5 h-5 text-amber-500 shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-amber-800 text-xs mb-1",children:_("note","")}),e.note]})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsxs("div",{className:"flex justify-between items-end mb-3 px-1",children:[i.jsxs("h3",{className:"font-bold text-text-main dark:text-text-light text-lg",children:[_("reviews","")," (",w.length,")"]}),i.jsx("button",{onClick:()=>{t.role===Be.GUEST?d():E(!0)},className:"text-xs bg-primary text-white px-3 py-1.5 rounded-lg font-bold",children:_("write_review"," ")})]}),w.length===0?i.jsx("div",{className:"space-y-3",children:i.jsx("div",{className:"p-8 text-center text-text-muted text-sm border border-border dark:border-border-dark rounded-xl bg-background dark:bg-background-dark",children:_("first_review","  !")})}):i.jsx("div",{className:"space-y-3",children:w.map(Le=>i.jsxs("div",{className:"bg-surface dark:bg-surface-dark p-4 rounded-xl border border-border dark:border-border-dark shadow-sm",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(xm,{level:Le.userLevel||0,size:"sm"}),i.jsx("span",{className:"font-bold text-sm text-text-main dark:text-text-light",children:(()=>{let Ae=Le.userName&&Le.userName!==""?Le.userName:Le.userEmail?Le.userEmail.split("@")[0]:"";return Ae===""?_("anonymous",""):(Ae.length>6&&(Ae=Ae.slice(0,6)),Ae.length<=2?"**":Ae.slice(0,Ae.length-2)+"**")})()}),i.jsxs("span",{className:"text-[10px] text-text-muted opacity-80 decoration-none font-normal",children:["(Lv.",Le.userLevel||0,")"]}),i.jsx("span",{className:"text-xs text-text-muted ml-1",children:new Date(Le.createdAt).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex text-amber-400",children:[...Array(Le.rating)].map((Ae,We)=>i.jsx($r,{className:"w-3 h-3 fill-current"},We))}),Le.userId===t.id&&i.jsxs("div",{className:"flex gap-1 ml-2",children:[i.jsx("button",{onClick:()=>sn(Le),className:"p-1 text-text-muted hover:text-primary",children:i.jsx($j,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>bn(Le.id),className:"p-1 text-text-muted hover:text-urgency",children:i.jsx(kr,{className:"w-3 h-3"})})]})]})]}),i.jsx("div",{className:"text-sm text-text-main dark:text-text-light",children:Le.content})]},Le.id))})]}),i.jsxs("div",{className:"pt-8 pb-32 text-center",children:[i.jsxs("button",{onClick:()=>{t.role===Be.GUEST?d():I(!0)},className:"text-text-muted text-xs underline flex items-center justify-center gap-1 mx-auto hover:text-urgency",children:[i.jsx(O6,{className:"w-3 h-3"})," ",_("report","")]}),(e.updatedAt||e.createdAt)&&i.jsx("div",{className:"mt-2 text-[10px] text-text-muted opacity-50 font-medium",children:e.updatedAt?_("update_date",": {{date}}",{date:new Date(e.updatedAt).toLocaleDateString()}):_("reg_date",": {{date}}",{date:new Date(e.createdAt).toLocaleDateString()})})]})]}),Z&&i.jsx(DFe,{toilet:e,myLocation:r,onClose:()=>{U(!1),y==null||y(!1)},darkMode:p,onNavigate:Ir}),k&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-2xl w-full max-w-sm p-6 shadow-2xl mb-[10vh]",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-center text-text-main dark:text-text-light",children:S?" ":" "}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(Le=>i.jsx("button",{onClick:()=>B(Le),children:i.jsx($r,{className:`w-8 h-8 ${Le<=$?"text-amber-400 fill-current":"text-gray-200 dark:text-gray-600"}`})},Le))}),i.jsx("textarea",{className:"w-full bg-background dark:bg-background-dark text-text-main dark:text-text-light rounded-xl p-3 text-sm min-h-[100px] border border-border dark:border-border-dark mb-4 outline-none resize-none",value:H,onChange:Le=>se(Le.target.value),onPaste:Le=>{Le.preventDefault(),Q(_("alert_copy_paste","        !"))},placeholder:_("alert_min_length"," {{length}}  .",{length:ul.MIN_CONTENT_LENGTH})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{E(!1),P(null),se(""),B(5)},className:"flex-1 py-3 bg-background dark:bg-background-dark text-text-muted rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600",children:_("cancel","")}),i.jsx("button",{onClick:Yr,className:"flex-1 py-3 bg-primary text-white rounded-xl font-bold",children:S?_("review_edit",""):""})]})]})}),C&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>I(!1),children:i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-2xl w-full max-w-sm p-6 shadow-2xl border-t-4 border-urgency max-h-[85vh] overflow-y-auto",onClick:Le=>Le.stopPropagation(),style:{WebkitOverflowScrolling:"touch"},children:[i.jsx("h3",{className:"text-lg font-bold text-center mb-4 text-text-main dark:text-text-light",children:_("report_title","")}),i.jsx("p",{className:"text-sm text-text-muted text-center mb-4",children:_("report_reason_select","  ")}),i.jsx("div",{className:"space-y-2 mb-4",children:[{key:"report_reason_password",value:" "},{key:"report_reason_owner",value:"  "},{key:"report_reason_doorlock",value:" "},{key:"report_reason_tissue",value:" "},{key:"report_reason_bidet",value:" "},{key:"report_reason_other",value:""}].map(Le=>i.jsx("button",{onClick:()=>{V(Le.value),Le.value!==""&&R("")},className:`w-full py-3 px-4 rounded-xl font-medium text-sm transition-all ${L===Le.value?"bg-primary-50 text-primary-700 border border-primary-200 shadow-sm":"bg-background dark:bg-background-dark text-text-main dark:text-text-light hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:_(Le.key,Le.value)},Le.key))}),L===""&&i.jsx("textarea",{className:"w-full bg-background dark:bg-background-dark rounded-xl p-3 text-sm min-h-[80px] border border-urgency dark:border-urgency-500 mb-4 text-text-main dark:text-text-light outline-none",placeholder:_("report_other_placeholder","  "),value:D,onChange:Le=>R(Le.target.value),onPaste:Le=>{Le.preventDefault(),Q("        !")}}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{I(!1),V(""),R("")},className:"flex-1 py-3 bg-background dark:bg-background-dark text-text-muted rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700",children:_("cancel","")}),i.jsx("button",{onClick:yn,className:"flex-1 py-3 bg-urgency text-white rounded-xl font-bold",children:_("submit","")})]})]})}),ce&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx(X1e,{className:"w-8 h-8 text-red-500"})})}),i.jsx("h3",{className:"text-lg font-bold text-center mb-2",children:_("owner_apology_title",",   .")}),i.jsx("p",{className:"text-gray-600 text-center text-sm mb-6 leading-relaxed",dangerouslySetInnerHTML:{__html:_("owner_apology_desc","         .<br /><br /><strong>   ?</strong>")}}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-3 bg-gray-100 rounded-xl font-bold text-gray-600",children:_("cancel","")}),i.jsx("button",{onClick:()=>Ht("  "),className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold",children:_("request_delete"," ")})]})]})}),Ie&&i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-8 shadow-2xl animate-in zoom-in-95 duration-300 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[i.jsx("circle",{cx:"20",cy:"20",r:"5",fill:"#FBBF24"}),i.jsx("circle",{cx:"80",cy:"30",r:"7",fill:"#3B82F6"}),i.jsx("rect",{x:"40",y:"60",width:"8",height:"8",fill:"#EF4444",transform:"rotate(45 44 64)"}),i.jsx("circle",{cx:"60",cy:"80",r:"6",fill:"#10B981"}),i.jsx("rect",{x:"10",y:"50",width:"6",height:"6",fill:"#8B5CF6",transform:"rotate(30 13 53)"})]})}),i.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[i.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mb-6 shadow-inner",children:i.jsx("span",{className:"text-4xl",children:""})}),i.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:_("review_success_title","  !")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center text-sm mb-8 leading-relaxed",dangerouslySetInnerHTML:{__html:_("review_reward_desc",'   <span className="font-bold text-amber-500">(+{{amount}} Cr)</span><br />.',{amount:we})}}),i.jsxs("button",{onClick:()=>{Ve(!1),ve(!0)},className:"w-full py-4 bg-primary text-white rounded-xl font-bold hover:bg-primary-600 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Bh,{className:"w-5 h-5 fill-current"}),_("watch_ad"," ")]}),i.jsx("button",{onClick:()=>Ve(!1),className:"mt-4 text-xs text-gray-400 underline decoration-gray-300 underline-offset-4 hover:text-gray-600",children:_("later",",  ")})]})]})}),he.show&&i.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-sm text-center transform scale-100 animate-in zoom-in-95 duration-200 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[i.jsx("circle",{cx:"20",cy:"20",r:"5",fill:"#FBBF24"}),i.jsx("circle",{cx:"80",cy:"30",r:"7",fill:"#3B82F6"}),i.jsx("rect",{x:"40",y:"60",width:"8",height:"8",fill:"#EF4444",transform:"rotate(45 44 64)"})]})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-20 h-20 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center mx-auto mb-5 ring-4 ring-yellow-50 dark:ring-yellow-900/20",children:i.jsx(tb,{className:"w-10 h-10 text-yellow-600 dark:text-yellow-500 fill-yellow-500"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 leading-tight whitespace-pre-line",children:he.message}),i.jsx("div",{className:"my-6",children:i.jsxs("span",{className:"text-3xl font-black text-amber-500 flex items-center justify-center gap-1 drop-shadow-sm",children:["+",he.points," ",i.jsx("span",{className:"text-xl text-gray-400 font-bold",children:"Credits"})]})}),i.jsx("button",{onClick:()=>Y(je(J({},he),{show:!1})),className:"w-full bg-[#3B82F6] hover:bg-blue-600 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-blue-500/30 active:scale-95",children:_("confirm","")})]})]})}),i.jsx(U6,{isOpen:Ze,onClose:Mn,adType:Re?"interstitial":"reward",triggerType:Re?"navigation":"point"}),i.jsx(H0,{isOpen:K.isOpen,message:K.message,onClose:G,onConfirm:K.onConfirm,isConfirm:K.isConfirm})]})})},yo=({children:t,className:e=""})=>i.jsx("div",{className:"w-full h-full bg-gray-50 dark:bg-gray-900 flex justify-center overflow-hidden",children:i.jsx("div",{className:`w-full max-w-md bg-white dark:bg-gray-800 h-full overflow-y-auto no-scrollbar shadow-2xl ${e}`,style:{WebkitOverflowScrolling:"touch"},children:t})}),IFe=({isOpen:t,onClose:e,onWithdraw:r})=>{const[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState("reason");if(!t)return null;const{t:h}=nn(),m=[h("withdraw_reason_1","    "),h("withdraw_reason_2","   "),h("withdraw_reason_3","   "),h("withdraw_reason_4","  "),h("withdraw_reason_5","    ")],p=()=>{if(!n){alert(h("withdraw_alert_reason","  ."));return}const b=n===h("withdraw_other","")?s:n;if(n===h("withdraw_other","")&&!s.trim()){alert(h("withdraw_alert_other","  ."));return}r(b)};return i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-sm p-6 shadow-2xl text-center relative overflow-hidden",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:i.jsx(Xt,{className:"w-6 h-6"})}),u==="reason"&&i.jsxs("div",{className:"animate-in slide-in-from-right",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:h("withdraw_reason_title","  ")}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:h("withdraw_reason_desc","     .")}),i.jsxs("div",{className:"space-y-3 mb-6 text-left",children:[m.map(b=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[i.jsx("input",{type:"radio",name:"withdrawalReason",value:b,checked:n===b,onChange:y=>a(y.target.value),className:"w-4 h-4 text-primary focus:ring-primary"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:b})]},b)),i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[i.jsx("input",{type:"radio",name:"withdrawalReason",value:h("withdraw_other",""),checked:n===h("withdraw_other",""),onChange:b=>a(b.target.value),className:"w-4 h-4 text-primary focus:ring-primary"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:h("withdraw_other","")})]}),n===h("withdraw_other","")&&i.jsx("textarea",{className:"w-full mt-2 p-3 text-sm border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary",placeholder:h("withdraw_reason_placeholder"," ..."),rows:2,value:s,onChange:b=>l(b.target.value)})]}),i.jsx("button",{onClick:()=>d("confirm"),className:"w-full py-3.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-xl hover:opacity-90 transition-opacity",children:h("withdraw_next","")})]}),u==="confirm"&&i.jsxs("div",{className:"animate-in slide-in-from-right py-4",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(io,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:h("withdraw_confirm_title"," ?")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8 leading-relaxed",dangerouslySetInnerHTML:{__html:h("withdraw_confirm_desc","     <br />  . ")}}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:e,className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:h("cancel","")}),i.jsx("button",{onClick:p,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition-colors shadow-lg shadow-red-500/30",children:h("withdraw_confirm_btn","")})]})]})]})})},ih="1.0.4",MFe="2026.01.09",UFe=["      ","     ","    "],qFe={name:"()"},BFe=({isOpen:t,onClose:e,user:r,onLogout:n,onWithdraw:a,onOpenContact:s,onShareApp:l,onNavigate:u})=>{const{t:d}=nn();return r.role===Be.ADMIN||r.email,t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 backdrop-blur-sm transition-opacity",onClick:e}),i.jsxs("div",{className:"fixed top-0 right-0 bottom-0 w-[80%] max-w-[320px] bg-white dark:bg-gray-900 z-[2000] shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[i.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-bold text-lg text-gray-900 dark:text-white",children:d("menu_title"," ")}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" v",ih]})]}),i.jsx("button",{onClick:e,className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:i.jsx(Xt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto py-2",children:[i.jsxs("div",{className:"px-4 py-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2 px-2",children:d("settings","")}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:i.jsx(ss,{icon:i.jsx(R6,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),label:d("settings"," "),onClick:()=>{e(),u("#/settings")}})})]}),i.jsxs("div",{className:"px-4 py-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2 px-2",children:d("customer_support"," ")}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:[i.jsx(ss,{icon:i.jsx(P6,{className:"w-5 h-5 text-blue-500"}),label:d("contact_us"," / "),onClick:()=>{e(),s()}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(io,{className:"w-5 h-5 text-amber-500"}),label:d("ad_inquiry"," "),onClick:()=>{e(),s()}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(C6,{className:"w-5 h-5 text-gray-400"}),label:d("logout",""),onClick:()=>{e(),n()}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(io,{className:"w-5 h-5 text-red-400"}),label:d("withdraw"," "),onClick:()=>{e(),a()}})]})]}),i.jsxs("div",{className:"px-4 py-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2 px-2",children:d("service_guide"," ")}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:[i.jsx(ss,{icon:i.jsx(j1e,{className:"w-5 h-5 text-purple-500"}),label:d("guide_usage"," "),onClick:()=>{e(),u("#/guide")}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(tb,{className:"w-5 h-5 text-pink-500"}),label:d("guide_credit"," / "),onClick:()=>{e(),u("#/guide/credit")}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(Gp,{className:"w-5 h-5 text-emerald-500"}),label:d("guide_registration","  "),onClick:()=>{e(),u("#/guide/registration")}})]})]}),i.jsxs("div",{className:"px-4 py-2",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2 px-2",children:d("together","")}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:[i.jsx(ss,{icon:i.jsx(T6,{className:"w-5 h-5 text-indigo-500"}),label:d("donate","  ()"),onClick:()=>{alert(d("donate_alert","  !  ( )"))}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(D6,{className:"w-5 h-5 text-cyan-500"}),label:d("share_app"," "),onClick:()=>{e(),l()}})]})]}),i.jsxs("div",{className:"px-4 py-2 pb-10",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 mb-2 px-2",children:d("app_info"," ")}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:[i.jsx(ss,{icon:i.jsx(wl,{className:"w-5 h-5 text-gray-400"}),label:d("terms_of_service"," "),onClick:()=>{e(),u("#/terms")}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),i.jsx(ss,{icon:i.jsx(wl,{className:"w-5 h-5 text-gray-400"}),label:d("privacy_policy"," "),onClick:()=>{e(),u("#/privacy")}}),i.jsx("div",{className:"h-[1px] bg-gray-50 dark:bg-gray-800 mx-4"}),en.isNativePlatform()?i.jsxs("div",{className:"w-full px-4 py-3 flex justify-between items-center bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors text-left cursor-default",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:i.jsx(Vp,{className:"w-5 h-5 text-gray-500"})}),i.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-200",children:d("version_info"," ")})]}),i.jsx("span",{className:"text-xs font-bold text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:ih})]}):i.jsxs("button",{onClick:()=>{e(),u("#/app-info")},className:"w-full px-4 py-3 flex justify-between items-center bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors text-left",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:i.jsx(Vp,{className:"w-5 h-5 text-gray-500"})}),i.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-200",children:d("app_info"," ")})]}),i.jsx("span",{className:"text-xs font-bold text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:ih})]})]})]})]})]})]}):null},ss=({icon:t,label:e,onClick:r})=>i.jsxs("button",{onClick:r,className:"w-full px-4 py-3 flex justify-between items-center bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors text-left",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 dark:bg-gray-700/50 flex items-center justify-center",children:t}),i.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-200",children:e})]}),i.jsx(ud,{className:"w-4 h-4 text-gray-300"})]});class vm{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const zFe=()=>{if(typeof localStorage!="undefined")return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Vn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:zFe()},ak=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},FFe=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=ak(t);Vn.publicKey=r.publicKey,Vn.blockHeadless=r.blockHeadless,Vn.storageProvider=r.storageProvider,Vn.blockList=r.blockList,Vn.limitRate=r.limitRate,Vn.origin=r.origin||e},s7=(n,a,...s)=>T(null,[n,a,...s],function*(t,e,r={}){const l=yield fetch(Vn.origin+t,{method:"POST",headers:r,body:e}),u=yield l.text(),d=new vm(l.status,u);if(l.ok)return d;throw d}),i7=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},HFe=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},o7=t=>t.webdriver||!t.languages||t.languages.length===0,l7=()=>new vm(451,"Unavailable For Headless Browser"),KFe=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},VFe=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},GFe=(t,e)=>t instanceof FormData?t.get(e):t[e],c7=(t,e)=>{if(VFe(t))return!1;KFe(t.list,t.watchVariable);const r=GFe(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},u7=()=>new vm(403,"Forbidden"),WFe=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},YFe=(t,e,r)=>T(null,null,function*(){const n=Number((yield r.get(t))||0);return e-Date.now()+n}),d7=(t,e,r)=>T(null,null,function*(){if(!e.throttle||!r)return!1;WFe(e.throttle,e.id);const n=e.id||t;return(yield YFe(n,e.throttle,r))>0?!0:(yield r.set(n,Date.now().toString()),!1)}),f7=()=>new vm(429,"Too Many Requests"),XFe=(t,e,r,n)=>T(null,null,function*(){const a=ak(n),s=a.publicKey||Vn.publicKey,l=a.blockHeadless||Vn.blockHeadless,u=a.storageProvider||Vn.storageProvider,d=J(J({},Vn.blockList),a.blockList),h=J(J({},Vn.limitRate),a.limitRate);return l&&o7(navigator)?Promise.reject(l7()):(i7(s,t,e),HFe(r),r&&c7(d,r)?Promise.reject(u7()):(yield d7(location.pathname,h,u))?Promise.reject(f7()):s7("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))}),ZFe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},JFe=t=>typeof t=="string"?document.querySelector(t):t,QFe=(t,e,r,n)=>T(null,null,function*(){const a=ak(n),s=a.publicKey||Vn.publicKey,l=a.blockHeadless||Vn.blockHeadless,u=Vn.storageProvider||a.storageProvider,d=J(J({},Vn.blockList),a.blockList),h=J(J({},Vn.limitRate),a.limitRate);if(l&&o7(navigator))return Promise.reject(l7());const m=JFe(r);i7(s,t,e),ZFe(m);const p=new FormData(m);return c7(d,p)?Promise.reject(u7()):(yield d7(location.pathname,h,u))?Promise.reject(f7()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",s),s7("/api/v1.0/email/send-form",p))}),eHe={init:FFe,send:XFe,sendForm:QFe,EmailJSResponseStatus:vm},h7=({isOpen:t,onClose:e,user:r})=>{const{t:n}=nn(),[a,s]=x.useState(""),[l,u]=x.useState("contact_type_error"),d=[{key:"contact_type_error",label:n("contact_type_error","")},{key:"contact_type_partner",label:n("contact_type_partner","")},{key:"contact_type_ad",label:n("contact_type_ad","")},{key:"contact_type_other",label:n("contact_type_other","")}],[h,m]=x.useState("contact_type_error"),[p,b]=x.useState(""),[y,_]=x.useState(""),[w,j]=x.useState(!1),[k,E]=x.useState(!1),[S,P]=x.useState(!1),C=()=>T(null,null,function*(){if(!p.trim()||!y.trim()){alert(n("contact_alert_input","   ."));return}j(!0);try{yield eHe.send(n1e,a1e,{from_name:r.nickname||" ",from_email:r.email,reply_to:p,message:y,type:n(h)},s1e),E(!0),b(""),_("")}catch($){console.error("EmailJS Error:",$),P(!0)}finally{j(!1)}}),I=()=>{E(!1),e()};return t?i.jsxs("div",{className:"fixed inset-0 bg-black/50 z-[3000] flex items-center justify-center p-4 backdrop-blur-sm",children:[!k&&!S&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-2xl shadow-xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 flex-shrink-0",children:[i.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 dark:text-white",children:[i.jsx(E6,{className:"w-5 h-5 text-primary"}),n("contact_title","")]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full",children:i.jsx(Xt,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-3 dark:text-gray-300",children:n("contact_type_label"," ")}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map($=>i.jsx("button",{onClick:()=>m($.key),className:`py-3 px-2 rounded-xl text-sm font-bold transition-all ${h===$.key?"bg-primary text-white shadow-md scale-[1.02]":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:$.label},$.key))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:[n("contact_info_label","")," ",i.jsx("span",{className:"text-gray-400 font-normal text-xs",children:n("contact_info_hint","(  )")})]}),i.jsx("input",{type:"text",value:p,onChange:$=>b($.target.value),placeholder:n("contact_info_placeholder","  "),className:"w-full p-4 border dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-base focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:n("contact_content_label"," ")}),i.jsx("textarea",{value:y,onChange:$=>_($.target.value),placeholder:n("contact_content_placeholder","      ."),className:"w-full p-4 border dark:border-gray-600 rounded-xl h-40 resize-none bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-base focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition"})]})]}),i.jsx("div",{className:"p-4 border-t dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800",children:i.jsx("button",{onClick:C,disabled:w,className:`w-full py-4 bg-primary text-white text-lg rounded-2xl font-bold shadow-lg hover:bg-primary/90 flex items-center justify-center gap-2 transition-all active:scale-[0.98] ${w?"opacity-50 cursor-not-allowed":""}`,children:w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),n("contact_sending"," ...")]}):i.jsxs(i.Fragment,{children:[i.jsx(Kw,{className:"w-5 h-5"}),n("contact_send"," ")]})})})]}),k&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-xs rounded-2xl shadow-xl p-6 text-center animate-in fade-in zoom-in duration-200 z-[3010]",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kc,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsx("h3",{className:"font-bold text-lg mb-2 dark:text-white",children:n("contact_success_title"," !")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm",dangerouslySetInnerHTML:{__html:n("contact_success_desc"," <br /> .")}}),i.jsx("button",{onClick:I,className:"w-full py-3 bg-primary text-white rounded-xl font-bold",children:n("confirm","")})]}),S&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-xs rounded-2xl shadow-xl p-6 text-center animate-in fade-in zoom-in duration-200 z-[3010]",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Tj,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),i.jsx("h3",{className:"font-bold text-lg mb-2 dark:text-white",children:n("contact_fail_title"," ")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm",dangerouslySetInnerHTML:{__html:n("contact_fail_desc",'   .<br /><span className="font-bold select-all text-gray-800 dark:text-white">qseek77@gmail.com</span><br />  .')}}),i.jsx("button",{onClick:()=>P(!1),className:"w-full py-3 bg-gray-900 dark:bg-gray-700 text-white rounded-xl font-bold",children:n("contact_close","")})]})]}):null},m7=({notice:t,onClose:e})=>{const[r,n]=x.useState(null),a=s=>{const l=s.target;l.tagName==="IMG"&&n(l.src)};return i.jsxs("div",{className:"fixed inset-0 z-[60] bg-white dark:bg-gray-900 flex flex-col animate-in slide-in-from-bottom duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900",children:[i.jsx("h2",{className:"text-lg font-bold truncate pr-4 text-gray-900 dark:text-white",children:""}),i.jsx("button",{onClick:e,className:"p-2 -mr-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(Xt,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-5 scrollbar-hide",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.priority>0&&i.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 rounded-md text-xs font-bold",children:""}),i.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400 bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded-full",children:[i.jsx(Aj,{className:"w-3 h-3"}),rh(new Date(t.createdAt))]})]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-tight",children:t.title})]}),i.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none prose-img:rounded-xl prose-img:shadow-md prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-headings:font-bold",onClick:a,dangerouslySetInnerHTML:{__html:t.content}})]})}),r&&i.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[i.jsx("button",{onClick:()=>n(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white rounded-full bg-black/50",children:i.jsx(Xt,{className:"w-8 h-8"})}),i.jsx("img",{src:r,alt:"Zoomed",className:"max-w-full max-h-full rounded-lg shadow-2xl object-contain"})]})]})},tHe=({user:t,bookmarks:e,toilets:r,onToiletClick:n,onLogout:a,onLoginRequest:s,onAdRequest:l,onUserUpdate:u,darkMode:d,onToggleDarkMode:h,onContactModalChange:m,onNoticeModalChange:p})=>{const{t:b}=nn(),[y,_]=x.useState("my"),[w,j]=x.useState([]),[k,E]=x.useState([]),[S,P]=x.useState([]),[C,I]=x.useState([]),[$,B]=x.useState(null),[H,se]=x.useState(0),[D,R]=x.useState(!1),[L,V]=x.useState(t.nickname||t.email.split("@")[0]),[Z,U]=x.useState(!1),[K,W]=x.useState(0),[X,Q]=x.useState(!1),[M,G]=x.useState(1),q=5,[ae,ie]=x.useState(!1),[be,te]=x.useState(!1),[he,Y]=x.useState(0);x.useEffect(()=>{G(1)},[y]);const Ce=(()=>{switch(y){case"my":return k;case"favorites":return S;case"reviews":return w;default:return[]}})(),ce=Math.ceil(Ce.length/q),ue=Ce.slice((M-1)*q,M*q),Ie=()=>{Q(!0),m==null||m(!0)},Ve=()=>{Q(!1),m==null||m(!1)},Ze=()=>{window.location.hash="#/notifications"};x.useEffect(()=>{t.role===Be.GUEST&&s()},[t.role,s]),x.useEffect(()=>{T(null,null,function*(){if(t.id){const bt=yield oe.getUserReviews(t.id);j(bt);const hr=yield oe.getUnreadNotificationCountToday(t.id);Y(hr);const Ir=yield oe.getUserToilets(t.id);if(E(Ir),V(t.nickname||t.email.split("@")[0]),e.size>0){const St=yield oe.getToiletsByIds(Array.from(e));P(St)}else P([]);const{notices:Mn,hiddenIds:Wr}=yield oe.getAppNotices(t.id);I(Mn.filter(St=>!Wr.has(St.id)))}})},[t.id,y,H,e]),x.useEffect(()=>{if(C.length<=1)return;const Re=setInterval(()=>{W(bt=>(bt+1)%C.length)},4e3);return()=>clearInterval(Re)},[C.length]),x.useEffect(()=>{p(!!$)},[$,p]),x.useEffect(()=>{const Re=()=>B(null);return window.addEventListener("closeNoticeDetail",Re),()=>window.removeEventListener("closeNoticeDetail",Re)},[]);const ve=()=>T(null,null,function*(){if(!L.trim()){alert(b("nickname_input_alert"," ."));return}if(L.length>8){alert(b("nickname_length_alert","  8 ."));return}try{const Re=je(J({},t),{nickname:L});yield oe.saveUser(Re),localStorage.setItem("currentUser",JSON.stringify(Re)),u(Re),R(!1),U(!0)}catch(Re){console.error("Failed to update nickname",Re),alert(b("nickname_update_fail","  "))}});return i.jsxs(yo,{className:"p-0 pb-48 relative",children:[Z&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-xs rounded-2xl shadow-xl p-6 text-center animate-in fade-in zoom-in duration-200",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx($r,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 fill-current"})}),i.jsx("h3",{className:"font-bold text-lg mb-2 dark:text-white",children:b("change_complete"," !")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm",dangerouslySetInnerHTML:{__html:b("nickname_success_message",",   ! <br />   .")}}),i.jsx("button",{onClick:()=>U(!1),className:"w-full py-3 bg-primary text-white rounded-xl font-bold hover:bg-amber-600 transition",children:b("confirm","")})]})}),i.jsxs("div",{className:"bg-surface dark:bg-surface-dark px-4 py-3 flex items-center justify-between sticky top-0 z-20 border-b border-border dark:border-border-dark shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>window.location.hash="#/",className:"p-2 -ml-2 text-text-main dark:text-text-light hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ao,{className:"w-6 h-6 rotate-180"})}),i.jsx("div",{children:i.jsx("h1",{className:"font-bold text-lg leading-tight flex items-center gap-2 text-text-main dark:text-text-light",children:b("my_page_title","My Page")})})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsxs("button",{onClick:Ze,className:"p-2 text-text-muted hover:bg-background dark:hover:bg-background-dark rounded-full transition-colors relative",children:[i.jsx(so,{className:"w-6 h-6"}),he>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900 animate-in zoom-in duration-300",children:he>99?"99+":he})]}),i.jsx("button",{onClick:()=>ie(!0),className:"p-2 text-text-muted hover:bg-background dark:hover:bg-background-dark rounded-full transition-colors",children:i.jsx($6,{className:"w-6 h-6"})})]})]}),C.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-border/50 dark:border-border-dark/50 h-10 flex items-center px-4 relative z-10 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-primary-500 font-bold text-[11px] shrink-0 mr-3 px-2 py-0.5 bg-primary/5 dark:bg-primary/10 rounded-full border border-primary/10",children:[i.jsx(so,{className:"w-3.5 h-3.5 animate-bounce",style:{animationDuration:"3s"}}),i.jsx("span",{children:"NOTICE"})]}),i.jsx("div",{className:"flex-1 h-full relative overflow-hidden",children:C.map((Re,bt)=>i.jsx("div",{onClick:()=>B(Re),className:`absolute inset-0 flex items-center transition-all duration-700 ease-in-out cursor-pointer
                                    ${bt===K?"translate-y-0 opacity-100":bt<K?"-translate-y-full opacity-0":"translate-y-full opacity-0"}`,children:i.jsx("span",{className:"text-xs text-text-main dark:text-text-light truncate font-semibold",children:Re.title})},Re.id))}),i.jsx("button",{onClick:()=>B(C[K]),className:"p-2 text-text-muted hover:text-text-main transition-colors",children:i.jsx(ao,{className:"w-3.5 h-3.5"})})]}),i.jsx(BFe,{isOpen:ae,onClose:()=>ie(!1),user:t,onLogout:a,onOpenContact:Ie,onShareApp:()=>yj.shareApp(t.id),onNavigate:Re=>{window.location.hash=Re,ie(!1)},onWithdraw:()=>te(!0)}),i.jsx(IFe,{isOpen:be,onClose:()=>te(!1),onWithdraw:Re=>T(null,null,function*(){try{yield oe.withdrawUser(t.id,Re),alert(b("withdraw_complete_alert","  .   .")),a()}catch(bt){console.error("Withdrawal failed",bt),alert(b("withdraw_fail_alert","    ."))}})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-2xl p-6 shadow-sm border border-border dark:border-border-dark mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex flex-col items-center",children:t.gender===ft.MALE?i.jsx("img",{src:"/images/icons/Man_boxicon.png",alt:"Male",className:"w-16 h-16"}):t.gender===ft.FEMALE?i.jsx("img",{src:"/images/icons/Woman_boxicon.png",alt:"Female",className:"w-16 h-16"}):i.jsx("img",{src:"/images/icons/uni_boxicon.png",alt:"Unisex",className:"w-16 h-16"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("h2",{className:"text-xl font-bold text-text-main dark:text-text-light truncate max-w-[120px] sm:max-w-[200px]",children:t.nickname||t.email.split("@")[0]}),i.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[i.jsx("button",{onClick:()=>{V(t.nickname||t.email.split("@")[0]),R(!0)},className:"text-text-muted hover:text-text-main p-1",children:i.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-1.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})}),i.jsx("div",{className:"bg-surface dark:bg-surface-dark/50 rounded-full px-2 py-0.5 border border-border dark:border-border-dark flex items-center gap-1",children:i.jsx(xm,{level:t.level||0,size:"sm",showLabel:!0})})]})]})}),i.jsx("div",{className:"text-xs text-text-muted mb-1 truncate",children:t.email}),i.jsx("div",{className:"flex items-center gap-2",children:(t.role===Be.ADMIN||t.role===Be.VIP)&&i.jsx("span",{className:`text-xs px-2 py-0.5 rounded uppercase font-bold ${t.role===Be.ADMIN?"bg-red-600 text-white":"bg-purple-100 text-purple-600"}`,children:t.role})})]})]}),(t.email===Bp||t.role===Be.ADMIN)&&i.jsxs("button",{onClick:()=>window.location.hash="#/admin",className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold text-sm mb-4 flex items-center justify-center gap-2 shadow-lg animate-pulse",children:[i.jsx(Rj,{className:"w-4 h-4"})," ",b("admin_dashboard","[ ] ")]}),i.jsxs("div",{className:"bg-gray-900 text-white rounded-xl p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:b("my_credit"," ")}),i.jsx("div",{className:"text-3xl font-bold text-amber-400",children:t.credits})]}),i.jsxs("button",{onClick:l,className:"bg-white/20 px-3 py-2 rounded-lg text-xs font-medium backdrop-blur-sm flex items-center gap-1 hover:bg-white/30 transition",children:[i.jsx(Bh,{className:"w-3 h-3"})," ",b("charge_with_ad"," ")]})]}),i.jsxs("button",{onClick:()=>yj.shareApp(t.id),className:"w-full py-2.5 bg-gradient-to-r from-amber-500 to-orange-600 rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:brightness-110 active:scale-[0.98] transition-all shadow-md",children:[i.jsx(M6,{className:"w-4 h-4 fill-white text-white"}),b("recommend_and_charge"," ")]})]})]}),i.jsxs("div",{className:"flex mb-4 bg-surface dark:bg-surface-dark rounded-xl p-1 border border-border dark:border-border-dark",children:[i.jsxs("button",{onClick:()=>_("my"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-colors ${y==="my"?"bg-primary text-white shadow":"text-text-muted hover:text-text-main"}`,children:[b("my_registrations"," ")," (",k.length,")"]}),i.jsxs("button",{onClick:()=>_("favorites"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-colors ${y==="favorites"?"bg-primary text-white shadow":"text-text-muted hover:text-text-main"}`,children:[b("favorites","")," (",S.length,")"]}),i.jsxs("button",{onClick:()=>_("reviews"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-colors ${y==="reviews"?"bg-primary text-white shadow":"text-text-muted hover:text-text-main"}`,children:[b("review_management","")," (",w.length,")"]})]}),i.jsxs("div",{className:"space-y-3 min-h-[300px]",children:[y==="my"&&ue.map(Re=>i.jsxs("div",{onClick:()=>n(Re),className:"bg-surface dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-border dark:border-border-dark flex justify-between items-center cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/10 transition",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-bold text-text-main dark:text-text-light flex items-center gap-2",children:Re.name}),i.jsxs("div",{className:"text-sm text-text-muted",children:[Re.address," ",Re.floor,""]})]}),Re.isPrivate&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-text-muted bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-lg",children:[i.jsx(mh,{className:"w-3 h-3 mr-1"}),Re.viewCount||0]}),i.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-1.5 rounded-lg",children:i.jsx(jl,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),!Re.isPrivate&&i.jsxs("div",{className:"flex items-center text-xs text-text-muted bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-lg",children:[i.jsx(mh,{className:"w-3 h-3 mr-1"}),Re.viewCount||0]})]},Re.id)),y==="favorites"&&ue.map(Re=>i.jsxs("div",{onClick:()=>n(Re),className:"bg-surface dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-border dark:border-border-dark flex justify-between items-center cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/10 transition",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-bold text-text-main dark:text-text-light",children:Re.name}),i.jsxs("div",{className:"text-sm text-text-muted",children:[Re.address," ",Re.floor,""]})]}),i.jsx($r,{className:"w-5 h-5 text-amber-400 fill-current"})]},Re.id)),y==="reviews"&&(ue.length===0?i.jsx("div",{className:"text-center py-10 text-text-muted",children:b("no_reviews_written","  .")}):ue.map(Re=>i.jsxs("div",{onClick:()=>n({id:Re.toiletId}),className:"bg-surface dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-border dark:border-border-dark cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/10 transition",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("div",{className:"font-bold text-text-main dark:text-text-light",children:Re.toiletName||b("deleted_toilet"," ")}),i.jsx("span",{className:"text-xs text-text-muted",children:new Date(Re.createdAt).toLocaleDateString()})]}),i.jsx("div",{className:"text-xs text-text-muted mb-2",children:Re.toiletAddress||""}),i.jsx("div",{className:"flex items-center gap-1 mb-2",children:[1,2,3,4,5].map(bt=>i.jsx($r,{className:`w-3 h-3 ${bt<=Re.rating?"text-amber-400 fill-current":"text-border dark:text-border-dark"}`},bt))}),i.jsx("p",{className:"text-sm text-text-main dark:text-text-light bg-background dark:bg-background-dark p-3 rounded-lg line-clamp-2",children:Re.content})]},Re.id)))]}),ce>1&&i.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4 mb-2",children:[i.jsx("button",{onClick:()=>G(Re=>Math.max(1,Re-1)),disabled:M===1,className:`p-2 rounded-lg ${M===1?"text-gray-300 dark:text-gray-600":"text-primary hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,children:b("prev_page","")}),i.jsxs("span",{className:"text-sm font-medium text-text-muted px-2",children:[M," / ",ce]}),i.jsx("button",{onClick:()=>G(Re=>Math.min(ce,Re+1)),disabled:M===ce,className:`p-2 rounded-lg ${M===ce?"text-gray-300 dark:text-gray-600":"text-primary hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,children:b("next_page","")})]}),i.jsx("button",{onClick:a,className:"w-full p-4 bg-surface dark:bg-surface-dark rounded-xl border border-border dark:border-border-dark text-text-muted font-medium hover:bg-background dark:hover:bg-background-dark transition mb-20 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10",children:b("logout","")}),Z&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-xs rounded-2xl shadow-xl p-6 text-center animate-in fade-in zoom-in duration-200 shadow-2xl ring-1 ring-black/5",children:[i.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:i.jsx($r,{className:"w-8 h-8 text-amber-500 fill-current"})}),i.jsx("h3",{className:"font-bold text-xl mb-2 dark:text-white bg-clip-text text-transparent bg-gradient-to-r from-amber-500 to-orange-600",children:b("nickname_success_title"," !")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:b("nickname_success_desc",",   ! <br />   .")}}),i.jsx("button",{onClick:()=>U(!1),className:"w-full py-3.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transform transition hover:-translate-y-0.5",children:b("nickname_awesome","!")})]})}),D&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-2xl shadow-xl p-6 animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"font-bold text-lg dark:text-white",children:b("nickname_change_title"," ")}),i.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:i.jsx(Xt,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:b("nickname_new_label"," ")}),i.jsx("input",{type:"text",value:L,onChange:Re=>V(Re.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary dark:text-white text-lg font-bold placeholder:font-normal",placeholder:b("nickname_placeholder"," 8 "),maxLength:8,autoFocus:!0}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-right",children:[L.length," / 8"]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-3.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:b("cancel","")}),i.jsx("button",{onClick:ve,className:"flex-1 py-3.5 bg-primary hover:bg-primary-500 text-white rounded-xl font-bold transition shadow-lg shadow-primary/30",children:b("nickname_save","")})]})]})}),i.jsx(h7,{isOpen:X,onClose:Ve,user:t}),$&&i.jsx(m7,{notice:$,onClose:()=>B(null)})]})]})},rHe=({initialValue:t,onClose:e,onComplete:r})=>{const{t:n}=nn(),[a,s]=x.useState(t),[l,u]=x.useState(!1),[d,h]=x.useState(null),m=Dr.useRef(null),p=()=>{m.current||(m.current=new(window.AudioContext||window.webkitAudioContext)),m.current.state==="suspended"&&m.current.resume()},b=(S,P="sine",C=.08)=>{if(p(),!m.current)return;const I=m.current.createOscillator(),$=m.current.createGain();I.type=P,I.frequency.value=S,I.connect($),$.connect(m.current.destination),I.start(),$.gain.setValueAtTime(.1,m.current.currentTime),$.gain.exponentialRampToValueAtTime(.001,m.current.currentTime+C),I.stop(m.current.currentTime+C)},y=()=>{setTimeout(()=>b(1500,"sine",.1),0),setTimeout(()=>b(1500,"sine",.1),120),setTimeout(()=>b(2e3,"sine",.2),240)},_={1:1800,2:1800,3:1800,4:1800,5:1800,6:1800,7:1800,8:1800,9:1800,0:1800,"*":1600,"#":1600},w=S=>{a.length>=10||(navigator.vibrate&&navigator.vibrate(5),_[S]&&b(_[S]),s(P=>P+S))},j=()=>{navigator.vibrate&&navigator.vibrate(8),b(300,"square",.1),s(S=>S.slice(0,-1))},k=()=>{if(a.length===0){b(200,"sawtooth",.2),e();return}u(!0),h("OPEN"),navigator.vibrate&&navigator.vibrate([15,60,15]),y(),setTimeout(()=>{r(a)},800)};x.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const E=["1","2","3","4","5","6","7","8","9","*","0","#"];return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"w-full max-w-[320px] bg-gray-900 rounded-3xl p-4 shadow-2xl border-4 border-gray-700 relative scale-100 transition-transform duration-200 mb-[15vh]",children:[i.jsx("button",{onClick:e,className:"absolute -top-10 right-0 text-white/80 p-2 hover:bg-white/10 rounded-full",children:i.jsx(Xt,{className:"w-6 h-6"})}),i.jsx("div",{className:"text-center mb-2",children:i.jsx("h3",{className:"text-gray-400 text-[10px] font-bold tracking-[0.2em]",children:n("doorlock_brand","DIGITAL LOCK")})}),i.jsx("div",{className:"bg-black border-2 border-gray-600 rounded-lg p-2 mb-3 relative h-14 flex items-center justify-end overflow-hidden shadow-[inset_0_0_20px_rgba(0,0,0,1)] px-3",children:i.jsx("div",{className:`font-mono text-3xl tracking-[0.2em] ${d==="OPEN"?"text-blue-400 animate-pulse":"text-green-500"} drop-shadow-[0_0_8px_rgba(34,197,94,0.8)] flex items-baseline justify-end w-full leading-none`,style:{fontFamily:"Courier New, monospace"},children:d?i.jsx("span",{className:"w-full text-center",children:n("doorlock_open",d)}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:a.slice(0,-1)}),i.jsxs("span",{className:"relative inline-flex justify-center w-[0.8em] ml-[0.1em]",children:[a.slice(-1)||"",i.jsx("span",{className:"absolute w-[70%] left-[3%] bottom-1 h-[2px] bg-green-500/80 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"})]})]})})}),i.jsx("div",{className:"grid grid-cols-3 gap-1.5 mb-3",children:E.map(S=>i.jsx("button",{onClick:()=>w(S),disabled:l,className:"bg-gray-800 active:bg-gray-700 active:scale-95 transition-all h-10 rounded-lg flex items-center justify-center border-b-[3px] border-gray-950 text-white font-bold text-lg hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",children:S},S))}),i.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[i.jsxs("button",{onClick:j,disabled:l,className:"bg-gray-700 active:bg-gray-600 h-10 rounded-lg flex items-center justify-center text-red-400 font-bold border-b-[3px] border-gray-950 active:scale-95 transition-all",children:[i.jsx(W1e,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-xs",children:n("doorlock_delete","")})]}),i.jsx("button",{onClick:k,disabled:l,className:`h-10 rounded-lg flex items-center justify-center font-bold active:scale-95 transition-all text-white shadow-lg ${a.length>0?"bg-blue-600 hover:bg-blue-500 shadow-blue-600/50":"bg-gray-700 text-gray-400"}`,children:l?i.jsx(kc,{className:"w-4 h-4 animate-ping"}):i.jsx("span",{className:"text-xs",children:n("doorlock_enter","")})})]})]})})},B$=({user:t,editId:e,myLocation:r,toilets:n,onUserUpdate:a,onSubmitSuccess:s,onShowLogin:l,darkMode:u,onMapModeChange:d})=>{const{t:h}=nn(),m=x.useRef(window.location.hash.includes("from=admin")),p=x.useRef(null);if(p.current===null){const G=(window.location.hash||"").match(/reportId=([^&]+)/);p.current=G?G[1]:null}const[b,y]=x.useState("details"),[_,w]=x.useState({name:"",floor:"1",password:"",genderType:ft.UNISEX,note:"",hasPaper:!1,hasBidet:!1,lat:r.lat,lng:r.lng,address:"",stallCount:1}),[j,k]=x.useState(!1),[E,S]=x.useState(!1),[P,C]=x.useState(!1),[I,$]=x.useState({open:!1,message:"",type:"success"}),B=x.useRef(null),H=x.useRef(null),[se,D]=x.useState(!1),[R,L]=x.useState("idle");x.useEffect(()=>(d==null||d(b==="location"),()=>d==null?void 0:d(!1)),[b,d]),x.useEffect(()=>{if(e){const M=e.split("?")[0],G=n.find(q=>q.id===M);G&&(w({name:G.name,floor:G.floor.toString(),password:G.password||"",genderType:G.genderType,note:G.note||"",hasPaper:G.hasPaper,hasBidet:G.hasBidet,lat:G.lat,lng:G.lng,address:G.address,stallCount:G.stallCount||1}),k(G.isPrivate))}},[e,n]);const V=x.useCallback(()=>{var G;if(!B.current||!((G=window.google)!=null&&G.maps))return;const M=new window.google.maps.Map(B.current,{center:{lat:_.lat,lng:_.lng},zoom:18,disableDefaultUI:!0});H.current=M,new window.google.maps.Marker({position:r,map:M,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#3B82F6",fillOpacity:1,strokeColor:"white",strokeWeight:2},zIndex:1}),new window.google.maps.Circle({strokeColor:"#3B82F6",strokeOpacity:.3,strokeWeight:1,fillColor:"#3B82F6",fillOpacity:.1,map:M,center:r,radius:30})},[_.lat,_.lng,r]);if(x.useEffect(()=>{b==="location"&&(H.current=null,setTimeout(()=>{var M,G,q;if((M=window.google)!=null&&M.maps)V();else{const ae=document.createElement("script");ae.src=`https://maps.googleapis.com/maps/api/js?key=${x6}&libraries=places&language=ko`,ae.async=!0,ae.onload=V,document.head.appendChild(ae)}if(!((q=(G=window.kakao)==null?void 0:G.maps)!=null&&q.services)){const ae=document.createElement("script");ae.src=`https://dapi.kakao.com/v2/maps/sdk.js?appkey=${v6}&libraries=services&autoload=false`,ae.async=!0,ae.onload=()=>{window.kakao.maps.load(()=>{console.log("Kakao SDK loaded")})},document.head.appendChild(ae)}},100))},[b,V]),t.role===Be.GUEST)return i.jsx(yo,{children:i.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 bg-white",children:[i.jsx("div",{className:"w-20 h-20 bg-amber-50 rounded-full flex items-center justify-center mb-6",children:i.jsx(_c,{className:"w-10 h-10 text-amber-500"})}),i.jsx("h2",{className:"text-xl font-bold mb-2",dangerouslySetInnerHTML:{__html:h("submit_login_required_title"," <br /> ")}}),i.jsx("button",{onClick:l,className:"mt-8 w-full py-4 bg-primary text-white rounded-xl font-bold shadow-lg",children:h("submit_login_btn","")})]})});const Z=()=>{navigator.geolocation&&(D(!0),navigator.geolocation.getCurrentPosition(M=>{const G={lat:M.coords.latitude,lng:M.coords.longitude};H.current&&(H.current.panTo(G),H.current.setZoom(17)),D(!1)},()=>{D(!1),$({open:!0,message:h("submit_location_error","    ."),type:"error"})},{enableHighAccuracy:!0}))},U=()=>{var ie;if(!((ie=window.google)!=null&&ie.maps)||!H.current){y("details");return}const M=H.current.getCenter(),G=M.lat(),q=M.lng();if(!(G>=33&&G<=43&&q>=124&&q<=132)){$({open:!0,message:h("submit_location_korea_only","     ."),type:"error"});return}oe.checkIsOnLand(G,q).then(be=>T(null,null,function*(){if(!be){$({open:!0,message:h("submit_location_land_only",`    
  .
(/     )`),type:"error"});return}const{reverseGeocodeKakao:te}=yield Ni(()=>T(null,null,function*(){const{reverseGeocodeKakao:Y}=yield Promise.resolve().then(()=>o8e);return{reverseGeocodeKakao:Y}}),void 0,import.meta.url),he=yield te(G,q);w(he?Y=>je(J({},Y),{lat:G,lng:q,address:he}):Y=>je(J({},Y),{lat:G,lng:q,address:h("submit_address_none","  ")})),y("details")}))},K=()=>{S(!0)},W=()=>T(null,null,function*(){if(!e)return;if(S(!1),L("processing"),yield new Promise(G=>setTimeout(G,800)),yield oe.deleteToilet(e),!j){yield oe.updateUserCredits(t.id,-5),yield oe.logCreditTransaction(t.id,-5,"toilet_delete_penalty","toilet",e,"   ");const q=(yield oe.getUsers()).find(ae=>ae.id===t.id);q&&a(q),alert(h("submit_delete_success_deduct",". 5 ."))}else alert(h("submit_delete_success","."));s(),L("idle"),window.location.hash="#/"}),X=M=>T(null,null,function*(){if(R==="idle")try{L("processing");const G=Date.now();let q=_.name.trim();q||(q=_.password?h("submit_default_pw_name",""):h("submit_default_open_name",""));const ae={id:e||"user_"+Date.now(),name:q,floor:parseInt(_.floor)||1,password:_.password,genderType:_.genderType,hasPaper:_.hasPaper,hasBidet:_.hasBidet,lat:_.lat||r.lat,lng:_.lng||r.lng,address:_.address||h("submit_address_none"," "),type:"user_registered",cleanliness:5,stallCount:_.stallCount,crowdLevel:"low",distance:0,createdBy:t.id,isPrivate:M,hasPassword:!!_.password,note:_.note};let ie;if(e?ie=yield oe.updateToilet(ae):ie=yield oe.addToilet(ae),!ie.success){alert(ie.message||h("submit_fail_process"," ")),L("idle");return}e&&j&&!M&&(yield oe.updateUserCredits(t.id,5),yield oe.logCreditTransaction(t.id,5,"toilet_share_reward","toilet",e,"  "));const te=(yield oe.getUsers()).find(Y=>Y.id===t.id);te&&a(te);const he=Date.now()-G;he<3e3&&(yield new Promise(Y=>setTimeout(Y,3e3-he))),L("success")}catch(G){console.error("Submission Error",G),alert(h("submit_error_general"," .  .")),L("idle")}}),Q=()=>{L("idle"),s(),m.current?p.current?window.location.hash=`#/admin?openReport=${p.current}`:window.location.hash="#/admin":window.location.hash="#/"};return b==="location"?i.jsxs("div",{className:"h-full w-full relative bg-gray-100 flex flex-col",children:[i.jsxs("div",{className:"flex-1 w-full relative",children:[i.jsx("div",{ref:B,className:"w-full h-full"}),i.jsx("button",{onClick:()=>y("details"),className:"absolute top-4 right-4 z-20 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:bg-gray-50 active:scale-95 transition-all",children:i.jsx(Xt,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-full z-10 pointer-events-none drop-shadow-xl",children:i.jsx("img",{src:o1e(_.genderType,"#EF4444"),width:"40",height:"40",alt:"pin"})}),i.jsx("div",{className:"absolute bottom-[calc(1.5rem+env(safe-area-inset-bottom))] right-4 z-20",children:i.jsx("button",{onClick:Z,className:"w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700",children:se?i.jsx(ht,{className:"animate-spin w-6 h-6 text-blue-500"}):i.jsx(hh,{className:"w-6 h-6"})})})]}),i.jsx("div",{className:"bg-white p-4 pb-[calc(100px+env(safe-area-inset-bottom))] rounded-t-2xl shadow-2xl space-y-3 z-20 flex justify-center border-t border-gray-200",children:i.jsx("div",{className:"w-full max-w-md space-y-3",children:i.jsx("button",{onClick:U,className:"w-full py-4 bg-primary text-white font-bold rounded-xl text-lg shadow-lg",children:h("submit_set_location","  ")})})}),i.jsx(H0,{isOpen:I.open,message:I.message,type:I.type,onClose:()=>$(M=>je(J({},M),{open:!1}))})]}):i.jsxs(yo,{className:"pb-48 p-4",children:[i.jsx("h2",{className:"text-2xl font-black mb-6 dark:text-white",children:e?h("submit_page_title_edit"," "):h("submit_page_title_new"," ")}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700",children:i.jsxs("button",{onClick:()=>y("location"),className:"w-full py-4 bg-primary text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-md",children:[i.jsx(hh,{className:"w-4 h-4"})," ",_.address?h("submit_edit_location"," "):h("submit_find_location","  ")]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:h("submit_label_address","")}),i.jsx("div",{className:`w-full p-3 rounded-lg text-sm font-medium border transition-colors ${_.address?"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white":"bg-gray-50 dark:bg-gray-700 border-transparent text-gray-400"}`,children:_.address||h("submit_placeholder_address","   ")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:h("submit_label_name","  ")}),i.jsx("input",{type:"text",value:_.name,onChange:M=>w(je(J({},_),{name:M.target.value})),placeholder:h("submit_placeholder_name",":     "),className:"w-full p-3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-medium rounded-lg border border-transparent focus:bg-white dark:focus:bg-gray-600 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-900 outline-none transition-all placeholder:text-gray-400"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:h("submit_label_floor","")}),i.jsxs("div",{className:"flex items-center gap-1 w-full h-[46px] bg-gray-50 dark:bg-gray-700 rounded-lg p-1 border border-transparent transition-all",children:[i.jsx("button",{onClick:()=>w(M=>{const G=parseFloat(M.floor||"1"),q=G===1?-.5:G-.5;return je(J({},M),{floor:String(q)})}),className:"w-10 h-full bg-white dark:bg-gray-600 rounded-md shadow-sm border border-gray-200 dark:border-gray-500 flex items-center justify-center text-gray-600 dark:text-gray-200 hover:bg-gray-50 active:scale-95 transition-all",children:i.jsx(Hw,{className:"w-4 h-4"})}),i.jsx("input",{type:"number",value:_.floor,onChange:M=>w(je(J({},_),{floor:M.target.value})),placeholder:"1",step:"0.5",className:"flex-1 h-full bg-transparent text-center font-bold text-lg text-gray-900 dark:text-white outline-none min-w-0"}),i.jsx("button",{onClick:()=>w(M=>{const G=parseFloat(M.floor||"1"),q=G===-.5?1:G+.5;return je(J({},M),{floor:String(q)})}),className:"w-10 h-full bg-white dark:bg-gray-600 rounded-md shadow-sm border border-gray-200 dark:border-gray-500 flex items-center justify-center text-gray-600 dark:text-gray-200 hover:bg-gray-50 active:scale-95 transition-all",children:i.jsx(_c,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:h("submit_label_password","")}),i.jsx("button",{onClick:()=>C(!0),className:`w-full h-10 mt-[1px] rounded-lg flex items-center justify-center transition-all active:scale-95 ${_.password?"bg-primary-50 border-2 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800 text-primary-700 dark:text-primary-300 font-mono text-lg tracking-widest shadow-sm":"bg-white dark:bg-gray-800 border-2 border-dashed border-blue-300 dark:border-blue-700 text-blue-500 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-gray-700 hover:border-blue-400"}`,style:{height:"42px"},children:_.password?_.password:i.jsxs("span",{className:"text-sm font-bold flex items-center gap-2 animate-pulse",children:[i.jsx(jl,{className:"w-4 h-4"})," ",h("submit_placeholder_password"," ")]})})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-3 rounded-lg border border-transparent transition-all",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:h("submit_label_stalls"," ")}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>w(M=>je(J({},M),{stallCount:Math.max(1,M.stallCount-1)})),className:"w-10 h-10 bg-white dark:bg-gray-600 rounded-md shadow-sm border border-gray-200 dark:border-gray-500 flex items-center justify-center text-gray-600 dark:text-gray-200 hover:bg-gray-50 active:scale-95 transition-all",children:i.jsx(Hw,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-bold text-lg w-8 text-center text-gray-900 dark:text-white",children:_.stallCount}),i.jsx("button",{onClick:()=>w(M=>je(J({},M),{stallCount:M.stallCount+1})),className:"w-10 h-10 bg-white dark:bg-gray-600 rounded-md shadow-sm border border-gray-200 dark:border-gray-500 flex items-center justify-center text-gray-600 dark:text-gray-200 hover:bg-gray-50 active:scale-95 transition-all",children:i.jsx(_c,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>w(je(J({},_),{hasPaper:!_.hasPaper})),className:`flex-1 py-4 rounded-xl border flex flex-col items-center justify-center gap-2 ${_.hasPaper?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800":"bg-surface dark:bg-surface-dark border-border dark:border-border-dark text-text-muted"}`,children:[i.jsx("img",{src:"/images/icons/tissue.png",width:45,height:45,alt:"tissue",className:`object-contain ${!_.hasPaper&&"opacity-40 grayscale"}`}),i.jsx("span",{className:`text-sm font-bold ${_.hasPaper?"text-primary-700 dark:text-primary-300":"text-text-muted"}`,children:_.hasPaper?h("submit_paper_yes"," "):h("submit_paper_no"," ")})]}),i.jsxs("button",{onClick:()=>w(je(J({},_),{hasBidet:!_.hasBidet})),className:`flex-1 py-4 rounded-xl border flex flex-col items-center justify-center gap-2 ${_.hasBidet?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800":"bg-surface dark:bg-surface-dark border-border dark:border-border-dark text-text-muted"}`,children:[i.jsx("img",{src:"/images/icons/bidet.png",width:45,height:45,alt:"bidet",className:`object-contain ${!_.hasBidet&&"opacity-40 grayscale"}`}),i.jsx("span",{className:`text-sm font-bold ${_.hasBidet?"text-primary-700 dark:text-primary-300":"text-text-muted"}`,children:_.hasBidet?h("submit_bidet_yes"," "):h("submit_bidet_no"," ")})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>w(je(J({},_),{genderType:ft.MALE})),className:`flex-1 py-3 rounded-lg text-sm font-medium border ${_.genderType===ft.MALE?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800 text-primary-700 dark:text-primary-300":"bg-background dark:bg-background-dark border-border dark:border-border-dark text-text-muted"}`,children:h("submit_gender_male","")}),i.jsx("button",{onClick:()=>w(je(J({},_),{genderType:ft.FEMALE})),className:`flex-1 py-3 rounded-lg text-sm font-medium border ${_.genderType===ft.FEMALE?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800 text-primary-700 dark:text-primary-300":"bg-background dark:bg-background-dark border-border dark:border-border-dark text-text-muted"}`,children:h("submit_gender_female","")}),i.jsx("button",{onClick:()=>w(je(J({},_),{genderType:ft.UNISEX})),className:`flex-1 py-3 rounded-lg text-sm font-medium border ${_.genderType===ft.UNISEX?"bg-primary-50 border-primary-100 dark:bg-primary-900/40 dark:border-primary-800 text-primary-700 dark:text-primary-300":"bg-background dark:bg-background-dark border-border dark:border-border-dark text-text-muted"}`,children:h("submit_gender_unisex","")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:h("submit_label_note"," ()")}),i.jsx("textarea",{value:_.note,onChange:M=>w(je(J({},_),{note:M.target.value})),placeholder:h("submit_placeholder_note",":   ,   "),className:"w-full p-3 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-medium rounded-lg border border-transparent focus:bg-white dark:focus:bg-gray-600 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-900 outline-none min-h-[80px] resize-none transition-all placeholder:text-gray-400"})]})]}),e?j?i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{disabled:R!=="idle",onClick:()=>X(!0),className:"flex-1 py-4 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors border border-gray-200 dark:border-gray-600 flex justify-center items-center gap-2 text-sm",children:[R==="processing"?i.jsx(ht,{className:"animate-spin w-4 h-4"}):i.jsx(fs,{className:"w-4 h-4"}),h("submit_btn_edit_complete","")]}),!m.current&&i.jsxs("button",{disabled:R!=="idle",onClick:K,className:"flex-1 py-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 font-bold rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border border-red-100 dark:border-red-800 flex justify-center items-center gap-2 text-sm",children:[i.jsx(kr,{className:"w-4 h-4"}),h("submit_btn_delete","")]})]}),i.jsxs("button",{disabled:R!=="idle",onClick:()=>X(!1),className:"w-full py-4 bg-primary text-white font-bold rounded-xl hover:bg-blue-600 shadow-lg shadow-blue-200 transition-colors flex justify-center items-center gap-2 text-base",children:[R==="processing"?i.jsx(ht,{className:"animate-spin w-4 h-4"}):i.jsx(oT,{className:"w-4 h-4"}),h("submit_btn_share_update","  (+5 Cr)")]})]}):i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsxs("button",{disabled:R!=="idle",onClick:()=>X(!1),className:"flex-1 py-4 bg-primary text-white font-bold rounded-xl hover:bg-blue-600 transition-colors flex justify-center items-center gap-2 text-base",children:[R==="processing"?i.jsx(ht,{className:"animate-spin w-4 h-4"}):i.jsx(fs,{className:"w-4 h-4"}),h("submit_btn_edit_complete","")]}),!m.current&&i.jsxs("button",{disabled:R!=="idle",onClick:K,className:"flex-1 py-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 font-bold rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border border-red-100 dark:border-red-800 flex justify-center items-center gap-2 text-sm",children:[i.jsx(kr,{className:"w-4 h-4"}),h("submit_btn_delete","")," (-5 Cr)"]})]}):i.jsxs("div",{className:"flex gap-2 w-full max-w-sm mx-auto mt-4 px-1",children:[i.jsxs("button",{disabled:R!=="idle",onClick:()=>X(!0),className:"flex-1 py-3 px-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors border border-gray-200 dark:border-gray-600 flex flex-col justify-center items-center gap-0.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[R==="processing"?i.jsx(ht,{className:"animate-spin w-4 h-4"}):i.jsx(jl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm sm:text-base",children:h("submit_btn_private","")})]}),i.jsx("span",{className:"text-xs opacity-70 font-medium",children:"(0cr)"})]}),i.jsxs("button",{disabled:R!=="idle",onClick:()=>X(!1),className:"flex-[2] py-3 px-2 bg-gray-900 dark:bg-black text-white font-bold rounded-xl hover:bg-gray-800 shadow-xl shadow-gray-200 dark:shadow-none transition-colors flex flex-col justify-center items-center gap-0.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[R==="processing"?i.jsx(ht,{className:"animate-spin w-4 h-4"}):i.jsx(oT,{className:"w-4 h-4"}),i.jsx("span",{className:"text-base sm:text-lg",children:h("submit_btn_share","")})]}),i.jsx("span",{className:"text-xs sm:text-sm opacity-80 font-medium text-blue-200",children:"(+5cr)"})]})]})]}),R!=="idle"&&i.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-6 shadow-2xl flex flex-col items-center text-center space-y-3",children:[R==="processing"?i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-primary-500 rounded-full opacity-20 animate-ping"}),i.jsx("div",{className:"relative w-16 h-16 bg-primary-50 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:i.jsx(ht,{className:"w-8 h-8 text-primary-500 animate-spin"})})]}):i.jsx("div",{className:"w-16 h-16 bg-green-50 dark:bg-green-900/30 rounded-full flex items-center justify-center animate-in zoom-in duration-300",children:i.jsx(fs,{className:"w-8 h-8 text-green-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:R==="processing"?e?h("submit_processing_edit"," ..."):h("submit_processing_new"," ..."):e?h("submit_complete_edit"," !"):h("submit_complete_new"," !")}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:R==="processing"?i.jsx("span",{dangerouslySetInnerHTML:{__html:h("submit_desc_processing"," .<br />   . ")}}):i.jsx("span",{dangerouslySetInnerHTML:{__html:h("submit_desc_complete",'<span className="text-primary-600 dark:text-primary-400 font-bold">  .</span><br />! ')}})})]}),i.jsxs("div",{className:"w-full max-w-[300px] h-auto min-h-[100px] bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 flex flex-col items-center justify-center relative overflow-hidden",children:[i.jsx("span",{className:"absolute top-2 right-2 px-1.5 py-0.5 bg-gray-200 dark:bg-gray-600 text-[10px] text-gray-500 dark:text-gray-400 rounded z-10",children:"AD"}),i.jsx(rb,{isInline:!0,maxHeight:260,maxRatio:3.5,className:"w-full h-full",type:"NATIVE_MODAL"})]}),R==="success"&&i.jsx("button",{onClick:Q,className:"w-full py-4 bg-gray-900 dark:bg-black text-white font-bold rounded-xl hover:bg-gray-800 transition-all animate-in slide-in-from-bottom-2",children:h("submit_btn_close","")})]})}),E&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-sm p-6 shadow-2xl border-t-4 border-red-500",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kr,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-3 dark:text-white",children:h("submit_delete_confirm_title"," ?")}),!j&&i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 rounded-xl p-4 mb-4",children:i.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 text-center font-medium",dangerouslySetInnerHTML:{__html:h("submit_delete_warning",'   <br /><span className="font-bold text-red-600 dark:text-red-400">5 </span>.')}})}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center mb-6",children:h("submit_delete_desc","    .")}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:h("submit_btn_cancel","")}),i.jsx("button",{onClick:W,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors",children:h("submit_btn_delete","")})]})]})}),P&&i.jsx(rHe,{initialValue:_.password,onClose:()=>C(!1),onComplete:M=>{w(G=>je(J({},G),{password:M})),C(!1)}}),i.jsx(H0,{isOpen:I.open,message:I.message,type:I.type,onClose:()=>$(M=>je(J({},M),{open:!1}))})]})};function nHe(){const{t}=nn();return i.jsx("div",{className:"absolute inset-0 bg-gray-50 dark:bg-gray-900 overflow-y-auto",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:[i.jsxs("button",{onClick:()=>window.location.hash="#/",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[i.jsx(ki,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:t("go_home","")})]}),i.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:t("privacy_title","")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("privacy_date"," : 2025 12 6")})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 space-y-8 text-gray-900 dark:text-gray-200",children:[i.jsx("section",{children:i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:t("privacy_intro")})}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_1_title","1.   ")}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("privacy_sec_1_req_title","  ")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("privacy_sec_1_req_li_1")}),i.jsx("li",{children:t("privacy_sec_1_req_li_2")})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("privacy_sec_1_auto_title","  ")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("privacy_sec_1_auto_li_1")}),i.jsx("li",{children:t("privacy_sec_1_auto_li_2")})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_2_title","2.     ")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2 ml-4",children:[i.jsx("li",{children:t("privacy_sec_2_li_1")}),i.jsx("li",{children:t("privacy_sec_2_li_2")}),i.jsx("li",{children:t("privacy_sec_2_li_3")}),i.jsx("li",{children:t("privacy_sec_2_li_4")})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_3_title","3.     ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:t("privacy_sec_3_content")}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:i.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[i.jsx("strong",{children:t("privacy_sec_3_box_period"," :   ")}),i.jsx("br",{}),i.jsx("strong",{children:t("privacy_sec_3_box_exception",":           ")})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_4_title","4.     ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:t("privacy_sec_4_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2 ml-4",children:[i.jsx("li",{children:i.jsx("strong",{children:t("privacy_sec_4_li_1")})}),i.jsx("li",{children:i.jsx("strong",{children:t("privacy_sec_4_li_2")})})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_5_title","5. 3 ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t("privacy_sec_5_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2 ml-4 mt-3",children:[i.jsx("li",{children:t("privacy_sec_5_li_1")}),i.jsx("li",{children:t("privacy_sec_5_li_2")})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_6_title","6.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:t("privacy_sec_6_content")}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:t("privacy_sec_6_google","Google")}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("privacy_sec_6_google_info"," : , ")})]}),i.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:t("privacy_sec_6_naver","Naver")}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("privacy_sec_6_naver_info"," : , ")})]}),i.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:t("privacy_sec_6_kakao","Kakao")}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("privacy_sec_6_kakao_info"," : , ")})]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:t("privacy_sec_6_footer")})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_7_title","7.    ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:t("privacy_sec_7_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2 ml-4",children:[i.jsx("li",{children:t("privacy_sec_7_li_1")}),i.jsx("li",{children:t("privacy_sec_7_li_2")}),i.jsx("li",{children:t("privacy_sec_7_li_3")}),i.jsx("li",{children:t("privacy_sec_7_li_4")})]}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mt-4",children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:i.jsx("strong",{children:t("privacy_sec_7_box",'  :   " "       ')})})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_8_title","8.  ")}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg",children:[i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:t("privacy_sec_8_content")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-gray-900 dark:text-white",children:i.jsx("strong",{children:t("privacy_sec_8_role"," ")})}),i.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[t("privacy_sec_8_email",":")," ",i.jsx("a",{href:"mailto:qseek77@gmail.com",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"qseek77@gmail.com"})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t("privacy_sec_9_title","9.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t("privacy_sec_9_content")})]}),i.jsx("section",{className:"border-t border-gray-100 dark:border-gray-700 pt-6",children:i.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx("p",{children:t("privacy_footer_date","  2025 12 6 .")}),i.jsxs("p",{className:"mt-2",children:[t("privacy_footer_contact"," ")," ",i.jsx("a",{href:"mailto:qseek77@gmail.com",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"qseek77@gmail.com"}),t("privacy_footer_contact_end","   .")]})]})})]}),i.jsx("div",{className:"text-center mt-8 text-sm text-gray-500 dark:text-gray-400",children:i.jsx("button",{onClick:()=>window.location.hash="#/",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:t("tos_go_home"," ")})})]})})}function aHe(){const{t}=nn();return i.jsx("div",{className:"absolute inset-0 bg-gray-50 dark:bg-gray-900 overflow-y-auto",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6",children:[i.jsxs("button",{onClick:()=>window.location.hash="#/",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-4",children:[i.jsx(ki,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:t("go_home","")})]}),i.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:t("tos_title"," ")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("tos_date",": 2024 12 6")})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 space-y-8 text-gray-900 dark:text-gray-200",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_1_title","1 ()")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t("tos_article_1_content")})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_2_title","2 ()")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-2",children:[i.jsx("li",{children:t("tos_article_2_li_1")}),i.jsx("li",{children:t("tos_article_2_li_2")}),i.jsx("li",{children:t("tos_article_2_li_3")}),i.jsx("li",{children:t("tos_article_2_li_4")}),i.jsx("li",{children:t("tos_article_2_li_5")})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_3_title","3 (   )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_3_sub_1_title","1.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_3_sub_1_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_3_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_3_sub_2_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_4_title","4 (   )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_4_sub_1_title","1.  ")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("tos_article_4_sub_1_li_1")}),i.jsx("li",{children:t("tos_article_4_sub_1_li_2")}),i.jsx("li",{children:t("tos_article_4_sub_1_li_3")}),i.jsx("li",{children:t("tos_article_4_sub_1_li_4")}),i.jsx("li",{children:t("tos_article_4_sub_1_li_5")}),i.jsx("li",{children:t("tos_article_4_sub_1_li_6")})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_4_sub_2_title","2.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_4_sub_2_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_5_title","5 ()")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_5_sub_1_title","1.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_5_sub_1_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_5_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_5_sub_2_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_5_sub_3_title","3.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_5_sub_3_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_6_title","6 ( )")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:t("tos_article_6_content")}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[i.jsx("strong",{className:"text-gray-900 dark:text-white",children:t("tos_article_6_link",":")}),i.jsx("button",{onClick:()=>window.location.hash="#/privacy",className:"ml-2 text-blue-600 dark:text-blue-400 hover:underline",children:t("tos_article_6_btn","")})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_7_title","7 ( )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_7_sub_1_title","1. ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:t("tos_article_7_sub_1_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("tos_article_7_sub_1_li_1")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_2")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_3")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_4")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_5")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_6")}),i.jsx("li",{children:t("tos_article_7_sub_1_li_7")})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_7_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_7_sub_2_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_8_title","8 ( )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_8_sub_1_title","1.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:t("tos_article_8_sub_1_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("tos_article_8_sub_1_li_1")}),i.jsx("li",{children:t("tos_article_8_sub_1_li_2")}),i.jsx("li",{children:t("tos_article_8_sub_1_li_3")}),i.jsx("li",{children:t("tos_article_8_sub_1_li_4")})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_8_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_8_sub_2_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_8_sub_3_title","3.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_8_sub_3_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_9_title","9 ( )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_9_sub_1_title","1.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_9_sub_1_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_9_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:t("tos_article_9_sub_2_content")}),i.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1",children:[i.jsx("li",{children:t("tos_article_9_sub_2_li_1")}),i.jsx("li",{children:t("tos_article_9_sub_2_li_2")}),i.jsx("li",{children:t("tos_article_9_sub_2_li_3")}),i.jsx("li",{children:t("tos_article_9_sub_2_li_4")})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_10_title","10 (  )")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t("tos_article_10_content")})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_11_title","11 ()")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_11_sub_1_title","1.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_11_sub_1_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_11_sub_2_title","2.  ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_11_sub_2_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_11_sub_3_title","3.   ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_11_sub_3_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_12_title","12 ()")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t("tos_article_12_content")})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_13_title","13 ( )")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_13_sub_1_title","1. ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_13_sub_1_content")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:t("tos_article_13_sub_2_title","2. ")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_13_sub_2_content")})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:t("tos_article_14_title","14 ()")}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t("tos_article_14_content")})]}),i.jsx("section",{className:"border-t border-gray-100 dark:border-gray-700 pt-6",children:i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg text-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx("p",{className:"font-bold mb-2",children:t("tos_footer_contact_title","")}),i.jsx("p",{children:t("tos_footer_email",": qseek77@gmail.com")}),i.jsx("p",{children:t("tos_footer_service",": ")})]})})]}),i.jsx("div",{className:"text-center mt-8 text-sm text-gray-500 dark:text-gray-400",children:i.jsx("button",{onClick:()=>window.location.hash="#/",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:t("tos_go_home"," ")})})]})})}const sHe=600*1e3,mp=(t,e)=>{try{localStorage.setItem("last_known_location",JSON.stringify({lat:t,lng:e,timestamp:Date.now()})),console.log(" Location cached:",{lat:t,lng:e})}catch(r){console.error("Failed to save location",r)}},g7=()=>{try{const t=localStorage.getItem("last_known_location");return t?JSON.parse(t):null}catch(t){return null}},iHe=()=>{try{const t=g7();if(!t)return null;const e=Date.now()-t.timestamp;return e<sHe?(console.log(` Valid cache found (${Math.round(e/1e3)}s old)`),{lat:t.lat,lng:t.lng}):(console.log(` Cache expired (${Math.round(e/6e4)}min old), ignoring`),null)}catch(t){return null}},oHe={0:" (Lv.0)",1:" (Lv.1)",2:" (Lv.2)",3:" (Lv.3)",4:" (Lv.4)",5:" (Lv.5)",6:" (Lv.6)"},lHe=({userId:t,onBack:e})=>{var te;const[r,n]=x.useState(null),[a,s]=x.useState(!0),[l,u]=x.useState(null),[d,h]=x.useState("info"),[m,p]=x.useState({toilets:0,reviews:0,reports:0,reportsResolved:0}),[b,y]=x.useState([]),[_,w]=x.useState(!1),[j,k]=x.useState(0),[E,S]=x.useState(""),[P,C]=x.useState(!1),[I,$]=x.useState(!1),[B,H]=x.useState(""),[se,D]=x.useState(!0),[R,L]=x.useState(!1),[V,Z]=x.useState(!1),[U,K]=x.useState(0),[W,X]=x.useState(""),[Q,M]=x.useState(!1);x.useEffect(()=>{G()},[t]);const G=()=>T(null,null,function*(){s(!0);try{const{data:he,error:Y}=yield de.from("users").select("*").eq("id",t).single();if(Y)throw Y;const we={id:he.id,email:he.email,nickname:he.nickname,gender:he.gender,role:he.role,credits:he.credits,status:he.status,activityScore:he.activity_score,level:he.level,levelOverride:he.level_override,createdAt:he.created_at,lastLogin:he.last_login,referrerId:he.referrer_id};if(n(we),we.referrerId){const{data:ue}=yield de.from("users").select("email").eq("id",we.referrerId).single();ue&&u(ue.email)}const{data:Ce}=yield de.from("user_activity_stats").select("*").eq("user_id",t).single();Ce&&p({toilets:Ce.toilet_count||0,reviews:Ce.review_count||0,reports:Ce.report_total_count||0,reportsResolved:Ce.report_success_count||0});const{data:ce}=yield de.from("credit_history").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);ce&&y(ce.map(ue=>({id:ue.id,userId:ue.user_id,amount:ue.amount,type:ue.type,referenceType:ue.reference_type,referenceId:ue.reference_id,description:ue.description,createdAt:ue.created_at})))}catch(he){console.error(he)}finally{s(!1)}}),q=()=>T(null,null,function*(){if(!(!r||j===0)){L(!0);try{yield oe.updateActivityScore(r.id,j,E||"  "),yield G(),w(!1),k(0),S(""),alert(" .")}catch(he){console.error(he),alert(" .")}finally{L(!1)}}}),ae=()=>T(null,null,function*(){if(!(!r||U===0)){L(!0);try{U>0?yield oe.giveUserPoints(r.id,U,W||"  "):(yield oe.updateUserCredits(r.id,U),yield oe.logCreditTransaction(r.id,U,"admin_adjust","admin","manual",W||"  ")),yield G(),Z(!1),K(0),X(""),alert(" .")}catch(he){console.error(he),alert(" .")}finally{L(!1)}}}),ie=()=>T(null,null,function*(){if(r){L(!0);try{yield oe.deleteUserWithContentHandler(r.id,se,I,B),alert(I?" .":" ."),e()}catch(he){console.error(he),alert(" .")}finally{L(!1)}}}),be=he=>T(null,null,function*(){if(r){M(!0);try{yield oe.updateUserRole(r.id,he),yield G(),alert(" .")}catch(Y){console.error(Y),alert("  .")}finally{M(!1)}}});return a?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:i.jsx(ht,{className:"w-10 h-10 text-gray-400 animate-spin"})}):r?i.jsxs("div",{className:"w-full bg-gray-50 h-screen overflow-y-auto pb-20",children:[i.jsxs("div",{className:"bg-white shadow-sm border-b px-6 py-4 flex items-center gap-4 sticky top-0 z-10",children:[i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(ki,{className:"w-5 h-5 text-gray-600"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx("span",{children:r.nickname||""}),i.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",r.email,")"]}),r.status==="banned"&&i.jsx("span",{className:"bg-red-100 text-red-600 px-2 py-0.5 rounded text-xs font-bold",children:""}),r.status==="withdrawn"&&i.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-bold",children:""})]}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[": ",new Date(r.createdAt).toLocaleDateString()," |  : ",new Date(r.lastLogin).toLocaleDateString()]})]}),i.jsx("div",{className:"ml-auto flex items-center gap-3",children:i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg border",children:[i.jsx("span",{className:"text-xs font-bold text-gray-500",children:" :"}),i.jsxs("select",{value:r.role,onChange:he=>be(he.target.value),disabled:Q,className:`text-xs font-bold px-2 py-1 rounded border-none outline-none cursor-pointer ${r.role===Be.ADMIN?"text-red-600 bg-red-50":r.role===Be.VIP?"text-purple-600 bg-purple-50":"text-gray-700 bg-white"}`,children:[i.jsx("option",{value:Be.USER,children:"USER"}),i.jsx("option",{value:Be.VIP,children:"VIP"}),i.jsx("option",{value:Be.ADMIN,children:"ADMIN"})]}),Q&&i.jsx(ht,{className:"w-3 h-3 animate-spin text-gray-400"})]})})]}),i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 flex flex-col md:flex-row gap-8 items-center md:items-start",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(xm,{level:r.level||0,size:"xl",className:"mb-3"}),i.jsx("div",{className:"text-lg font-black text-gray-800",children:oHe[r.level||0]}),r.levelOverride&&i.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-600 px-2 py-0.5 rounded-full mt-1",children:" "})]}),i.jsxs("div",{className:"flex-1 w-full space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-end mb-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-500",children:"  (Cleaning Class)"}),i.jsxs("span",{className:"text-2xl font-black text-blue-600",children:[((te=r.activityScore)==null?void 0:te.toFixed(1))||0," ",i.jsx("span",{className:"text-sm text-gray-400 font-normal",children:""})]})]}),i.jsxs("div",{className:"relative pt-1",children:[i.jsx("div",{className:"w-full bg-gray-100 h-3 rounded-full overflow-hidden mb-1",children:i.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-500",style:{width:`${Math.min(100,(r.activityScore||0)/400*100)}%`}})}),i.jsxs("div",{className:"relative h-4 text-[10px] text-gray-400 font-bold mt-1",children:[i.jsx("div",{className:"absolute left-0 transform -translate-x-0",children:"0"}),i.jsx("div",{className:"absolute left-[2.5%] transform -translate-x-1/2",children:"1"}),i.jsx("div",{className:"absolute left-[7.5%] transform -translate-x-1/2",children:"2"}),i.jsx("div",{className:"absolute left-[17.5%] transform -translate-x-1/2",children:"3"}),i.jsx("div",{className:"absolute left-[37.5%] transform -translate-x-1/2",children:"4"}),i.jsx("div",{className:"absolute left-[62.5%] transform -translate-x-1/2",children:"5"}),i.jsx("div",{className:"absolute right-0 transform translate-x-0",children:"6"})]})]}),i.jsx("p",{className:"text-xs text-gray-400 text-right",children:"    !"})]}),i.jsx("div",{className:"flex gap-2 justify-end",children:i.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs font-bold text-gray-700 flex items-center gap-1",children:[i.jsx(dd,{className:"w-3 h-3"}),"  "]})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{onClick:()=>window.location.hash=`#/admin?section=toilets&search=${r.email}`,className:"bg-white p-4 rounded-xl border shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all group",children:[i.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1 group-hover:text-blue-600",children:" "}),i.jsxs("div",{className:"text-2xl font-black text-gray-800 group-hover:text-blue-600 flex items-center gap-2",children:[m.toilets,i.jsx(ao,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.jsxs("div",{onClick:()=>window.location.hash=`#/admin?section=reviews&search=${r.email}`,className:"bg-white p-4 rounded-xl border shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all group",children:[i.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1 group-hover:text-blue-600",children:" "}),i.jsxs("div",{className:"text-2xl font-black text-gray-800 group-hover:text-blue-600 flex items-center gap-2",children:[m.reviews,i.jsx(ao,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.jsxs("div",{onClick:()=>Z(!0),className:"bg-white p-4 rounded-xl border shadow-sm cursor-pointer hover:bg-amber-50 hover:border-amber-200 transition-all group",children:[i.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1 group-hover:text-amber-600 transition-colors",children:"  ( )"}),i.jsx("div",{className:"text-2xl font-black text-amber-500 group-hover:scale-105 transition-transform origin-left",children:r.credits})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[i.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:" "}),i.jsxs("div",{className:"text-2xl font-black text-green-600",children:[m.reports>0?Math.round(m.reportsResolved/m.reports*100):0,"%",i.jsxs("span",{className:"text-xs text-gray-300 ml-1 font-normal",children:["(",m.reportsResolved,"/",m.reports,")"]})]})]})]}),i.jsxs("div",{className:"flex gap-4 border-b",children:[i.jsx("button",{onClick:()=>h("info"),className:`pb-3 px-2 text-sm font-bold border-b-2 transition-colors ${d==="info"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:" "}),i.jsx("button",{onClick:()=>h("history"),className:`pb-3 px-2 text-sm font-bold border-b-2 transition-colors ${d==="history"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:" "}),i.jsx("button",{onClick:()=>h("danger"),className:`pb-3 px-2 text-sm font-bold border-b-2 transition-colors ${d==="danger"?"border-red-500 text-red-500":"border-transparent text-gray-400 hover:text-red-400"}`,children:" "})]}),i.jsxs("div",{className:"min-h-[300px]",children:[d==="info"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 space-y-3",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:""}),i.jsxs("a",{href:`#/admin?section=toilets&search=${r.id}`,className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors flex justify-between",children:[i.jsx("span",{children:"    "}),i.jsxs("span",{className:"font-bold",children:[m.toilets,""]})]}),i.jsxs("a",{href:`#/admin?section=reviews&userId=${r.id}`,className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors flex justify-between",children:[i.jsx("span",{children:"    "}),i.jsxs("span",{className:"font-bold",children:[m.reviews,""]})]}),i.jsxs("a",{href:`#/admin?section=reports&reporterId=${r.id}`,className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors flex justify-between",children:[i.jsx("span",{children:"   "}),i.jsxs("span",{className:"font-bold",children:[m.reports,""]})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 space-y-3",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:" "}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-gray-500 block mb-1",children:" (Referrer)"}),l?i.jsxs("div",{className:"font-bold text-blue-600 flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-50 px-2 py-1 rounded",children:l}),i.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"  "})]}):i.jsx("div",{className:"text-gray-400",children:"-"})]})]})]}),d==="history"&&i.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:""}),i.jsx("th",{className:"px-4 py-3",children:""}),i.jsx("th",{className:"px-4 py-3",children:""}),i.jsx("th",{className:"px-4 py-3 text-right",children:""})]})}),i.jsxs("tbody",{className:"divide-y",children:[b.map(he=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:new Date(he.createdAt).toLocaleString()}),i.jsxs("td",{className:"px-4 py-3",children:[he.type==="score_change"?i.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-600",children:" "}):i.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-amber-100 text-amber-600",children:""}),i.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5 font-normal",children:he.type})]}),i.jsx("td",{className:"px-4 py-3 text-gray-700",children:he.description}),i.jsxs("td",{className:`px-4 py-3 text-right font-bold ${he.amount>0?"text-green-600":"text-red-500"}`,children:[he.amount>0?"+":"",he.amount,i.jsx("span",{className:"text-xs ml-0.5 text-gray-400",children:he.type==="score_change"?"":"C"})]})]},he.id)),b.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-400",children:" ."})})]})]})}),d==="danger"&&i.jsxs("div",{className:"bg-red-50 rounded-xl border border-red-100 p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-red-800 flex items-center gap-2",children:[i.jsx(L6,{className:"w-5 h-5"})," "]}),i.jsx("p",{className:"text-sm text-red-600 mt-1",children:"         .  ."})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("button",{onClick:()=>{$(!0),C(!0)},className:"w-full bg-white border border-red-200 text-red-600 px-4 py-3 rounded-lg font-bold hover:bg-red-50 text-left flex items-center gap-3 transition-colors",children:[i.jsx(zw,{className:"w-5 h-5"}),i.jsxs("div",{children:[i.jsx("div",{children:"  (Ban)"}),i.jsx("div",{className:"text-xs font-normal opacity-70",children:"   .  ."})]})]}),i.jsxs("button",{onClick:()=>{$(!1),C(!0)},className:"w-full bg-red-600 border border-red-600 text-white px-4 py-3 rounded-lg font-bold hover:bg-red-700 text-left flex items-center gap-3 transition-colors",children:[i.jsx(kr,{className:"w-5 h-5"}),i.jsxs("div",{children:[i.jsx("div",{children:"  (Delete)"}),i.jsx("div",{className:"text-xs font-normal opacity-80",children:"  .   '' ."})]})]})]})]})]})]}),_&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in zoom-in-95",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"  "}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (+/-)"}),i.jsx("div",{className:"flex gap-2",children:i.jsx("input",{type:"number",value:j||"",onChange:he=>k(Number(he.target.value)),className:"w-full border rounded-lg p-3 text-center font-bold text-lg",placeholder:"0",autoFocus:!0})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("input",{type:"text",value:E,onChange:he=>S(he.target.value),placeholder:":   ",className:"w-full border rounded-lg p-2 text-sm"})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 bg-gray-100 font-bold text-gray-600 rounded-xl",children:""}),i.jsx("button",{onClick:q,disabled:R,className:"flex-1 py-3 bg-blue-600 font-bold text-white rounded-xl",children:""})]})]})]})}),V&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in zoom-in-95",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"text-amber-500",children:""}),"  "]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (/)"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"number",value:U||"",onChange:he=>K(Number(he.target.value)),className:`w-full border rounded-lg p-3 text-center font-black text-2xl ${U>0?"text-green-600 border-green-200 bg-green-50":U<0?"text-red-600 border-red-200 bg-red-50":"text-gray-400"}`,placeholder:"0",autoFocus:!0}),i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{onClick:()=>K(he=>he+10),className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs font-bold hover:bg-green-100",children:"+10"}),i.jsx("button",{onClick:()=>K(he=>he+100),className:"px-2 py-1 bg-green-50 text-green-700 rounded text-xs font-bold hover:bg-green-100",children:"+100"}),i.jsx("button",{onClick:()=>K(he=>he-10),className:"px-2 py-1 bg-red-50 text-red-700 rounded text-xs font-bold hover:bg-red-100",children:"-10"}),i.jsx("button",{onClick:()=>K(he=>he-100),className:"px-2 py-1 bg-red-50 text-red-700 rounded text-xs font-bold hover:bg-red-100",children:"-100"})]}),i.jsx("p",{className:"text-center text-xs text-gray-400",children:U>0?"  .":U<0?"  .":" ."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),i.jsx("input",{type:"text",value:W,onChange:he=>X(he.target.value),placeholder:":  ,  ",className:"w-full border rounded-lg p-2 text-sm"})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-3 bg-gray-100 font-bold text-gray-600 rounded-xl",children:""}),i.jsx("button",{onClick:ae,disabled:R||U===0,className:"flex-1 py-3 bg-amber-500 hover:bg-amber-600 font-bold text-white rounded-xl transition-colors shadow-lg shadow-amber-200",children:""})]})]})]})}),P&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-in zoom-in-95",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${I?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:I?i.jsx(zw,{className:"w-6 h-6"}):i.jsx(kr,{className:"w-6 h-6"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:I?" ":" "}),i.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:[r==null?void 0:r.email," ",i.jsx("br",{}),I?" ?":"?"]}),i.jsxs("div",{className:"space-y-4",children:[I&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ()"}),i.jsx("textarea",{value:B,onChange:he=>H(he.target.value),className:"w-full border rounded-lg p-2 text-sm h-20 resize-none",placeholder:"    ..."})]}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-start gap-2",children:[i.jsx("input",{type:"checkbox",id:"transferContent",checked:se,onChange:he=>D(he.target.checked),className:"mt-1"}),i.jsxs("label",{htmlFor:"transferContent",className:"text-xs text-gray-600 cursor-pointer select-none",children:[i.jsx("span",{className:"font-bold text-gray-800",children:"   ()"}),i.jsx("br",{}),"  ,     .     ."]})]}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 bg-gray-100 font-bold text-gray-600 rounded-xl",children:""}),i.jsx("button",{onClick:ie,disabled:R||I&&!B,className:`flex-1 py-3 font-bold text-white rounded-xl ${I?"bg-red-600":"bg-orange-600"}`,children:I?"":""})]})]})]})})]}):i.jsx("div",{className:"p-8 text-center text-red-500",children:"   ."})},z$=({user:t,onClose:e})=>{var l;const{t:r}=nn(),n=t.loginNotices&&t.loginNotices.length>0?t.loginNotices[0]:null;if(!n)return null;const a=()=>T(null,null,function*(){var u;if(!(!t.id||!n))try{yield oe.removeLoginNotice(t.id,n.id);const d=((u=t.loginNotices)==null?void 0:u.filter(m=>m.id!==n.id))||[],h=je(J({},t),{loginNotices:d});e(h)}catch(d){console.error("Failed to clear notice",d),e(t)}}),s=()=>{switch(n.type){case"referral_success":return i.jsx(Vw,{className:"w-10 h-10 text-indigo-500"});case"level_up":return i.jsx($r,{className:"w-10 h-10 text-amber-500"});case"admin_message":return i.jsx(Vp,{className:"w-10 h-10 text-blue-500"});default:return i.jsx(kc,{className:"w-10 h-10 text-green-500"})}};return i.jsx("div",{className:"fixed inset-0 bg-black/60 z-[9999] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-2xl shadow-2xl p-6 text-center transform transition-all scale-100 animate-in zoom-in-95 duration-200 border border-border dark:border-border-dark mb-[10vh]",children:[i.jsx("div",{className:"mx-auto w-20 h-20 bg-gray-50 dark:bg-gray-700/50 rounded-full flex items-center justify-center mb-6 ring-4 ring-gray-50/50 dark:ring-gray-700/30",children:s()}),i.jsx("h3",{className:"font-black text-2xl mb-3 text-text-main dark:text-text-light leading-tight",children:n.title}),i.jsx("p",{className:"text-text-muted mb-8 whitespace-pre-wrap leading-relaxed text-base",children:n.message}),i.jsx("button",{onClick:a,className:"w-full py-4 bg-primary text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all active:scale-[0.98]",children:r("notice_confirm","")}),(((l=t.loginNotices)==null?void 0:l.length)||0)>1&&i.jsx("div",{className:"mt-4 text-xs text-text-muted font-medium",children:r("notice_more","+{{count}}   ",{count:t.loginNotices.length-1})})]})})};function cHe({user:t,darkMode:e,onToggleDarkMode:r}){const[n,a]=x.useState(!1),s=()=>window.location.hash="#/",l=[{id:"gallery",icon:gje,label:"",angle:60,color:"bg-emerald-500"},{id:"camera",icon:k6,label:"",angle:90,color:"bg-blue-500"},{id:"manual",icon:Gp,label:"",angle:120,color:"bg-orange-500"}],u=()=>a(!n);return i.jsxs("div",{className:`flex flex-col h-screen w-full ${e?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} overflow-hidden transition-colors duration-300`,children:[i.jsxs("header",{className:"flex-none h-14 border-b border-border/10 flex items-center px-4 bg-surface dark:bg-surface-dark z-10",children:[i.jsx("button",{onClick:s,className:"p-2 mr-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:i.jsx(ki,{className:"w-6 h-6"})}),i.jsx("h1",{className:"font-bold text-lg",children:"   (v3)"}),i.jsx("div",{className:"ml-auto",children:i.jsx("button",{onClick:r,className:"text-xs border px-2 py-1 rounded",children:e?"Light":"Dark"})})]}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 relative",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 opacity-50",children:[i.jsx("p",{children:" /   OCR ."}),i.jsx("p",{className:"text-sm",children:" (+)    ."})]}),n&&i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm z-40 animate-in fade-in duration-200",onClick:()=>a(!1)})]}),i.jsxs("div",{className:"flex-none relative h-[64px] z-50",children:[i.jsxs("div",{className:`absolute bottom-0 left-0 right-0 h-[64px] flex items-center justify-between px-8 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]
                    ${e?"bg-[#111820] border-t border-[#1F2630]":"bg-white border-t border-gray-200"}
                `,children:[i.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 w-12 opacity-60 hover:opacity-100 transition-opacity",children:[i.jsx(hje,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:""})]}),i.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 w-12 opacity-60 hover:opacity-100 transition-opacity",children:[i.jsx(to,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:" "})]})]}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-16 h-16 flex items-center justify-center",children:[l.map(d=>{const h=d.angle*Math.PI/180,m=90,p=Math.cos(h)*m,b=-Math.sin(h)*m;return i.jsxs("button",{onClick:()=>{console.log("Clicked:",d.label),a(!1)},className:`absolute w-[52px] h-[52px] rounded-full flex flex-col items-center justify-center shadow-lg transition-all duration-300 ease-out border-2 border-white/20
                                    ${e?"bg-[#1C2430] text-white":"bg-[#F3F4F6] text-gray-700"}
                                    hover:scale-110 active:scale-95
                                `,style:{transform:n?`translate(${p}px, ${b}px) scale(1)`:"translate(0px, 0px) scale(0.5)",opacity:n?1:0,zIndex:-1},children:[i.jsx(d.icon,{className:"w-5 h-5 mb-0.5"}),i.jsx("span",{className:"text-[9px] font-bold whitespace-nowrap",children:d.label})]},d.id)}),i.jsx("button",{onClick:u,className:`w-16 h-16 rounded-full shadow-[0_8px_16px_rgba(0,0,0,0.3)] flex items-center justify-center transition-transform duration-300 z-50
                            bg-[#00B0F0] text-white border-4 ${e?"border-[#111820]":"border-white"}
                        `,style:{transform:n?"rotate(45deg)":"rotate(0deg)"},children:i.jsx(_c,{className:"w-8 h-8",strokeWidth:3})})]})]})]})}const uHe=({user:t})=>{const{t:e}=nn(),[r,n]=x.useState("intro"),[a,s]=x.useState(th),[l,u]=x.useState(10),[d,h]=x.useState(!1);x.useEffect(()=>{T(null,null,function*(){const[j,k]=yield Promise.all([oe.getCreditPolicy(),oe.getSystemSetting("level_up_reward","10")]);j&&s(j),u(parseInt(k,10))})},[]);const m={intro:x.useRef(null),levels:x.useRef(null),credits:x.useRef(null),etiquette:x.useRef(null)},p=w=>{var j;n(w),(j=m[w].current)==null||j.scrollIntoView({behavior:"smooth",block:"start"})},[b,y]=x.useState(!1);x.useEffect(()=>{const w=()=>{y(window.scrollY>100);const j=window.scrollY+150;m.etiquette.current&&j>=m.etiquette.current.offsetTop?n("etiquette"):m.credits.current&&j>=m.credits.current.offsetTop?n("credits"):m.levels.current&&j>=m.levels.current.offsetTop?n("levels"):n("intro")};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]);const _=[{id:"intro",label:e("guide_tab_intro","")},{id:"levels",label:e("guide_tab_levels","")},{id:"credits",label:e("guide_tab_credits","")},{id:"etiquette",label:e("guide_tab_etiquette","")}];return i.jsxs(yo,{className:"p-0 pb-20 relative bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-900 sticky top-0 z-40 shadow-sm transition-all duration-300 border-b border-gray-100 dark:border-gray-800",children:[i.jsxs("div",{className:"flex items-center px-4 h-14",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:i.jsx(ki,{className:"w-6 h-6"})}),i.jsx("h1",{className:"ml-2 text-lg font-bold text-gray-900 dark:text-white",children:e("guide_usage"," ")})]}),i.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto no-scrollbar bg-white dark:bg-gray-900",children:_.map(w=>i.jsx("button",{onClick:()=>p(w.id),className:`flex-none px-4 py-2 text-sm font-bold rounded-full border transition-all duration-200
                            ${r===w.id?"bg-primary-50 dark:bg-primary-900/30 border-primary-100 dark:border-primary-800 text-primary-700 dark:text-primary-400 shadow-sm scale-105":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:w.label},w.id))})]}),i.jsxs("div",{className:"max-w-md mx-auto space-y-12 p-5",id:"guide-scroll-container",children:[i.jsxs("div",{ref:m.intro,className:"space-y-6 pt-4 animate-fade-in-up scroll-mt-32",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-100 dark:border-amber-900/30 rounded-2xl p-6 text-center shadow-sm",children:[i.jsxs("h2",{className:"text-xl font-black text-amber-800 dark:text-amber-500 mb-2",children:['"',e("guide_intro_title"," ,  "),'"']}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium leading-relaxed",dangerouslySetInnerHTML:{__html:e("guide_intro_desc","     ,<br /> ? ")}}),i.jsx("div",{className:"my-4 w-full h-px bg-amber-200/50 dark:bg-amber-800/50"}),i.jsx("p",{className:"text-amber-900 dark:text-amber-400 font-bold text-lg",dangerouslySetInnerHTML:{__html:e("guide_intro_clean",'   ,<br /><span class="underline decoration-wavy decoration-amber-500/50"> </span> !').replace('className="','class="')}})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("span",{className:"text-4xl",children:""}),i.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mt-4",children:['"',e("guide_intro_unity_title","  ."),'"']}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mt-2",dangerouslySetInnerHTML:{__html:e("guide_intro_unity_desc","   <br />    . ")}})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center gap-4",children:[i.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-full",children:i.jsx(gs,{className:"w-6 h-6 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e("guide_nearest_title","  ")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",dangerouslySetInnerHTML:{__html:e("guide_nearest_desc","   <br />  .")}})]})]})]}),i.jsxs("div",{ref:m.levels,className:"space-y-6 pt-8 scroll-mt-32",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(iT,{className:"w-6 h-6 text-amber-500"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e("guide_level_system","  ")})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",dangerouslySetInnerHTML:{__html:e("guide_level_desc",'      .<br /><span class="text-brand-primary font-bold">(Bidet)</span>  !').replace('className="','class="')}}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[{level:0,label:e("level_hand",""),score:"0~",desc:e("level_desc_0","!  ...")},{level:1,label:e("level_straw",""),score:"10~",desc:e("level_desc_1","  .")},{level:2,label:e("level_newspaper",""),score:"30~",desc:e("level_desc_2","   .")},{level:3,label:e("level_roll_tissue",""),score:"60~",desc:e("level_desc_3","  .")},{level:4,label:e("level_box_tissue",""),score:"100~",desc:e("level_desc_4","  !")},{level:5,label:e("level_wet_tissue",""),score:"200~",desc:e("level_desc_5","  .")},{level:6,label:e("level_bidet",""),score:"400~",desc:e("level_desc_6","   ")}].map(w=>i.jsxs("div",{className:"flex items-center p-4 gap-4 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[i.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-1 w-14",children:[i.jsx(xm,{level:w.level,size:"lg"}),i.jsxs("span",{className:"text-xs font-bold text-gray-400 dark:text-gray-500",children:[w.score,""]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:w.label}),w.level>=5&&i.jsx("span",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-500 text-[10px] px-1.5 py-0.5 rounded font-bold",children:"High Class"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.desc})]})]},w.level))})})]}),i.jsxs("div",{ref:m.credits,className:"space-y-6 pt-4 scroll-mt-32",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Kp,{className:"w-6 h-6 text-yellow-500"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e("guide_credit_tips"," ")})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",dangerouslySetInnerHTML:{__html:e("guide_credit_desc",'     .<br /><span class="text-xs text-gray-500 dark:text-gray-500">*     .</span>').replace('className="','class="')}}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-green-50 dark:bg-green-900/30 rounded-lg shrink-0",children:i.jsx(Gf,{className:"w-4 h-4 text-green-600 dark:text-green-500"})}),i.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:e("guide_credit_signup","")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-green-600 dark:text-green-500",children:["+",a.signup]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-orange-50 dark:bg-orange-900/30 rounded-lg shrink-0",children:i.jsx(gs,{className:"w-4 h-4 text-orange-500"})}),i.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:e("guide_credit_toilet_reg"," ")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-orange-500",children:["+",a.toiletSubmit]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-amber-50 dark:bg-amber-900/30 rounded-lg shrink-0",children:i.jsx(iT,{className:"w-4 h-4 text-amber-500"})}),i.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:e("guide_credit_level_up"," ")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-amber-500",children:["+",l]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg shrink-0",children:i.jsx($r,{className:"w-4 h-4 text-blue-500"})}),i.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:e("guide_credit_write_review"," ")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-blue-500",children:["+",a.reviewSubmit]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-purple-50 dark:bg-purple-900/30 rounded-lg shrink-0",children:i.jsx(io,{className:"w-4 h-4 text-purple-500"})}),i.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:e("guide_credit_report"," ")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-purple-500",children:["+",a.reportSubmit]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-xl border border-gray-200 dark:border-gray-600 shadow-sm flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"p-1.5 bg-white dark:bg-gray-600 rounded-lg shrink-0 border border-gray-100 dark:border-gray-500",children:i.jsx(dje,{className:"w-4 h-4 text-gray-500 dark:text-gray-300"})}),i.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-300 text-sm",children:e("guide_credit_unlock"," ")})]}),i.jsxs("div",{className:"flex justify-end items-end",children:[i.jsxs("span",{className:"text-lg font-black text-gray-600 dark:text-gray-400",children:["-",a.unlockCost]}),i.jsx("span",{className:"text-xs text-gray-400 mb-1 ml-0.5",children:"C"})]})]})]})]}),i.jsxs("div",{ref:m.etiquette,className:"space-y-6 pt-4 pb-12 scroll-mt-32",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Rj,{className:"w-6 h-6 text-brand-secondary"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e("guide_etiquette_title"," ()")})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 space-y-6",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"shrink-0 mt-1",children:i.jsx(Gf,{className:"w-5 h-5 text-brand-secondary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e("guide_etiquette_fake_title","  No!")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",dangerouslySetInnerHTML:{__html:e("guide_etiquette_fake_desc","    .<br />     . ")}})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"shrink-0 mt-1",children:i.jsx(Gf,{className:"w-5 h-5 text-brand-secondary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e("guide_etiquette_spam_title"," ")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",dangerouslySetInnerHTML:{__html:e("guide_etiquette_spam_desc","     ,<br />    .")}})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"shrink-0 mt-1",children:i.jsx(Gf,{className:"w-5 h-5 text-brand-secondary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e("guide_etiquette_respect_title"," ")}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",dangerouslySetInnerHTML:{__html:e("guide_etiquette_respect_desc"," . <br />    ! ( )")}})]})]})]})]}),i.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[i.jsxs("button",{onClick:()=>h(!0),className:"w-full py-4 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(E6,{className:"w-5 h-5"}),e("contact_title","")]}),i.jsx("button",{onClick:()=>window.location.hash="#/",className:"w-full py-4 bg-gray-900 dark:bg-gray-700 text-white rounded-xl font-bold hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors shadow-lg",children:e("go_home_full"," ")})]})]}),t&&i.jsx(h7,{isOpen:d,onClose:()=>h(!1),user:t})]})},dHe=x.createContext({isLoaded:!1,loadError:null}),fHe=["marker","geometry"],hHe=({children:t})=>{const[e,r]=x.useState(!1),[n,a]=x.useState(null);return x.useEffect(()=>{var u;if((u=window.google)!=null&&u.maps){r(!0);return}if(document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')){const d=setInterval(()=>{var h;(h=window.google)!=null&&h.maps&&(clearInterval(d),r(!0))},100);return()=>clearInterval(d)}const l=document.createElement("script");l.src=`https://maps.googleapis.com/maps/api/js?key=${x6}&loading=async&libraries=${fHe.join(",")}&language=ko`,l.async=!0,l.defer=!0,l.onload=()=>{var d;if((d=window.google)!=null&&d.maps)r(!0);else{const h=setInterval(()=>{var m;(m=window.google)!=null&&m.maps&&(clearInterval(h),r(!0))},50)}},l.onerror=d=>{a(new Error("Failed to load Google Maps script")),console.error("Google Maps Load Error:",d)},document.head.appendChild(l)},[]),i.jsx(dHe.Provider,{value:{isLoaded:e,loadError:n},children:t})},mHe=({user:t,onRefreshUser:e,onNoticeModalChange:r})=>{const[n,a]=x.useState([]),[s,l]=x.useState(null),[u,d]=x.useState([]),[h,m]=x.useState(!0),[p,b]=x.useState(!1),[y,_]=x.useState(new Set),[w,j]=x.useState(!1),[k,E]=x.useState(!1),[S,P]=x.useState(null),C=()=>T(null,null,function*(){if(t.id){m(!0);try{const[R,L]=yield Promise.all([oe.getUserNotifications(t.id),oe.getAppNotices(t.id),oe.cleanupExpiredNotifications(t.id)]),V=R.map(W=>je(J({},W),{kind:"notification"})),{notices:Z,hiddenIds:U}=L,K=Z.filter(W=>!U.has(W.id)).sort((W,X)=>X.priority!==W.priority?X.priority-W.priority:new Date(X.createdAt).getTime()-new Date(W.createdAt).getTime()).map(W=>je(J({},W),{kind:"notice",read:!1,sentAt:W.createdAt,message:W.content.replace(/<[^>]*>/g,"").slice(0,100)+(W.content.length>100?"...":"")}));K.length>0?(l(K[0]),d(K.slice(1))):(l(null),d([])),a(V)}catch(R){console.error(R)}finally{m(!1)}}});x.useEffect(()=>{C()},[t.id]),x.useEffect(()=>{r(!!S)},[S,r]),x.useEffect(()=>{const R=()=>P(null);return window.addEventListener("closeNoticeDetail",R),()=>window.removeEventListener("closeNoticeDetail",R)},[]);const I=R=>T(null,null,function*(){var V,Z;if(p){$(R.id);return}if(R.kind==="notice"){P(R);return}const L=R;try{a(U=>U.filter(K=>K.id!==L.id)),yield oe.deleteNotifications([L.id]),e()}catch(U){console.error("Failed to delete notification on click",U)}(V=L.data)!=null&&V.toiletId?window.location.hash=`#/toilet/${L.data.toiletId}`:(Z=L.data)!=null&&Z.reviewId||(L.type,tr.CREDIT_AWARDED)}),$=R=>{const L=new Set(y);L.has(R)?L.delete(R):L.add(R),_(L)},B=()=>{const R=new Set;n.forEach(L=>R.add(L.id)),_(R)},H=()=>T(null,null,function*(){if(y.size===0)return;const R=[],L=[],V=Z=>{y.has(Z.id)&&(Z.kind==="notification"?R.push(Z.id):L.push(Z.id))};s&&V(s),u.forEach(V),n.forEach(V);try{if(R.length>0&&(yield oe.deleteNotifications(R)),L.length>0&&t.id)for(const Z of L)yield oe.hideAppNotice(t.id,Z);console.log(` Successfully deleted ${R.length} notifs and hid ${L.length} notices`)}catch(Z){console.error("Batch delete failed",Z),alert("    .")}_(new Set),b(!1),yield C(),e()}),se=R=>{if(R.kind==="notice")return i.jsx(wx,{className:"w-5 h-5 text-white"});switch(R.type){case tr.REVIEW_ADDED:return i.jsx(Cj,{className:"w-5 h-5 text-blue-500"});case tr.TOILET_REPORTED:return i.jsx(L6,{className:"w-5 h-5 text-red-500"});case tr.REPORT_RESULT:return i.jsx(sT,{className:"w-5 h-5 text-green-600"});case tr.CREDIT_AWARDED:return i.jsx(Hp,{className:"w-5 h-5 text-amber-500"});case tr.NEARBY_TOILET:return i.jsx(sje,{className:"w-5 h-5 text-purple-500"});case tr.LEVEL_CHANGE:return i.jsx($r,{className:"w-5 h-5 text-yellow-400"});case tr.SCORE_CHANGE:return i.jsx(Hp,{className:"w-5 h-5 text-teal-500"});default:return i.jsx(so,{className:"w-5 h-5 text-gray-400"})}},D=s!==null||u.length>0||n.length>0;return i.jsxs(yo,{className:"pb-24 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-100 dark:border-gray-800 px-4 py-2.5 flex items-center justify-between transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>{p?(b(!1),_(new Set)):window.history.length>2?window.history.back():window.location.hash="#/my"},className:"p-1.5 -ml-1 text-gray-900 dark:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:p?i.jsx(Xt,{className:"w-5 h-5"}):i.jsx(ki,{className:"w-5 h-5"})}),i.jsx("h1",{className:"font-black text-lg tracking-tight text-gray-900 dark:text-white",children:p?`${y.size}`:""})]}),D&&i.jsx("div",{className:"flex items-center",children:p?i.jsx("button",{onClick:B,className:"px-3 py-1 text-blue-600 dark:text-blue-400 text-xs font-bold transition-colors",children:""}):i.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1 text-gray-400 dark:text-gray-500 hover:text-gray-900 dark:hover:text-white text-xs font-bold transition-colors",children:""})})]}),i.jsx("div",{className:"pt-16 pb-20 px-4 max-w-lg mx-auto w-full",children:h?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):D?i.jsxs("div",{className:"space-y-6",children:[s&&i.jsx("div",{className:"animate-in slide-in-from-top-4 fade-in duration-700 ease-out",children:i.jsx("div",{onClick:()=>I(s),className:`group relative overflow-hidden bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 px-4 py-3 cursor-pointer transition-all duration-300 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-900/50 active:scale-[0.98] ${p?"opacity-90":""}`,children:i.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-500 dark:bg-blue-600 flex items-center justify-center shrink-0 shadow-lg shadow-blue-500/20 group-hover:scale-105 transition-transform",children:i.jsx(wx,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[i.jsx("span",{className:"text-[9px] uppercase tracking-tighter font-black text-blue-600 dark:text-blue-400",children:"Notice"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-300 dark:text-gray-600",children:rh(new Date(s.sentAt))})]}),i.jsx("h3",{className:"font-extrabold text-gray-900 dark:text-white leading-tight truncate text-base group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s.title})]})]})})}),u.length>0&&i.jsxs("div",{className:"animate-in fade-in duration-500 delay-75",children:[i.jsx("div",{className:"flex justify-center -mt-2 mb-2 relative z-10",children:i.jsxs("button",{onClick:()=>j(!w),className:"px-4 py-1.5 flex items-center gap-1.5 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-full shadow-sm border border-gray-100 dark:border-gray-700 transition-all active:scale-95",children:[i.jsx("span",{children:w?" ":""}),w?i.jsx(D1e,{className:"w-3.5 h-3.5"}):i.jsx(C1e,{className:"w-3.5 h-3.5"})]})}),w&&i.jsx("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:u.map(R=>i.jsxs("div",{onClick:()=>I(R),className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700/50 flex items-center justify-center shrink-0",children:i.jsx(wx,{className:"w-4 h-4 text-gray-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm truncate",children:R.title}),i.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:rh(new Date(R.sentAt))})]})]},R.id))})]}),n.length>0&&i.jsx("div",{className:"animate-in slide-in-from-bottom-6 fade-in duration-800 delay-150",children:i.jsx("div",{className:"space-y-2",children:n.map(R=>i.jsx("div",{onClick:()=>I(R),className:`relative group bg-white dark:bg-gray-800 rounded-xl px-4 py-3 transition-all duration-300 active:scale-[0.99] cursor-pointer shadow-sm border
                                                ${y.has(R.id)&&p?"border-blue-500 ring-1 ring-blue-500/20 bg-blue-50/10":"border-gray-50 dark:border-gray-800/50"}
                                                ${!R.read&&!p?"bg-blue-50/20 dark:bg-blue-900/05 border-blue-100/30 dark:border-blue-900/20":"hover:border-gray-200 dark:hover:border-gray-700"}
                                            `,children:i.jsxs("div",{className:"flex gap-3 items-center",children:[p&&i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 transition-all duration-300 ${y.has(R.id)?"bg-blue-600 border-blue-600 scale-105":"border-gray-300 dark:border-gray-600"}`,children:y.has(R.id)&&i.jsx(sT,{className:"w-3 h-3 text-white"})}),i.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center shrink-0 transition-all duration-300
                                                    ${R.read?"bg-gray-50 dark:bg-gray-700/50":"bg-white dark:bg-gray-700 shadow-sm border border-gray-100 dark:border-gray-600 group-hover:-translate-y-0.5"}`,children:i.jsx("div",{className:"scale-90",children:se(R)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:`text-sm truncate pr-2 ${R.read?"font-bold text-gray-500 dark:text-gray-400":"font-black text-gray-900 dark:text-white"}`,children:R.title}),i.jsx("span",{className:"text-[10px] font-bold text-gray-300 dark:text-gray-600 shrink-0",children:rh(new Date(R.sentAt))})]}),i.jsx("p",{className:`text-[11px] line-clamp-1 truncate ${R.read?"text-gray-400":"font-semibold text-gray-500 dark:text-gray-400"}`,children:R.message})]}),!R.read&&!p&&i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full shrink-0 shadow-sm shadow-blue-500/50"})]})},R.id))})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center animate-in fade-in zoom-in duration-300",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6 shadow-inner",children:i.jsx(so,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"  !"})]})}),p&&i.jsx("div",{className:"fixed bottom-[150px] left-1/2 -translate-x-1/2 w-[90%] max-w-md z-[1000] animate-in slide-in-from-bottom-10 fade-in duration-300",children:i.jsxs("button",{onClick:H,disabled:y.size===0,className:`w-full py-4 rounded-2xl font-bold text-lg shadow-xl flex items-center justify-center gap-2 transition-all transform hover:scale-[1.02] active:scale-[0.98]
                            ${y.size>0?"bg-red-500 text-white shadow-red-500/30":"bg-gray-800 text-gray-500 cursor-not-allowed"}
                        `,children:[i.jsx(kr,{className:"w-5 h-5"}),y.size>0?`${y.size} `:"  "]})}),S&&i.jsx(m7,{notice:S,onClose:()=>P(null)})]})},gHe=()=>{const{t}=nn();return i.jsxs(yo,{className:"pb-24",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-2 -ml-2 text-gray-900 dark:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(ki,{className:"w-6 h-6"})}),i.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-white",children:t("credit_guide_title","  ")})]}),i.jsxs("div",{className:"pt-20 px-6 space-y-8",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(tb,{className:"w-8 h-8 text-amber-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("credit_what_is","?")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",dangerouslySetInnerHTML:{__html:t("credit_what_is_desc","    <br />     .")}})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-800",children:[i.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white border-b pb-2 border-gray-100 dark:border-gray-700",children:t("credit_how_to_earn"," ")}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center shrink-0",children:i.jsx(Bh,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-200",children:t("credit_earn_ad_title"," ")}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t("credit_earn_ad_desc","    .")})]})]}),i.jsxs("li",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center shrink-0",children:i.jsx(M6,{className:"w-5 h-5 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-200",children:t("credit_earn_invite_title"," ")}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t("credit_earn_invite_desc","       .")})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-800",children:[i.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white border-b pb-2 border-gray-100 dark:border-gray-700",children:t("credit_usage_title","")}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",dangerouslySetInnerHTML:{__html:t("credit_usage_desc","        ,      .").replace("   "," <strong>   </strong><br />")}})]})]})]})},pHe=()=>{const{t}=nn();return i.jsxs(yo,{className:"pb-24",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center gap-3",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-2 -ml-2 text-gray-900 dark:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(ki,{className:"w-6 h-6"})}),i.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-white",children:t("reg_guide_title","  ")})]}),i.jsxs("div",{className:"pt-20 px-6 space-y-8",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(Gp,{className:"w-8 h-8 text-emerald-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("reg_guide_subtitle"," ")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",dangerouslySetInnerHTML:{__html:t("reg_guide_desc","    <br />  ! ")}})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(yw,{step:"1",icon:i.jsx(gs,{className:"w-5 h-5 text-white"}),color:"bg-red-500",title:t("reg_step_1_title"," "),desc:t("reg_step_1_desc","     .")}),i.jsx(yw,{step:"2",icon:i.jsx(Gp,{className:"w-5 h-5 text-white"}),color:"bg-blue-500",title:t("reg_step_2_title"," "),desc:t("reg_step_2_desc"," , ,      .")}),i.jsx(yw,{step:"3",icon:i.jsx(k6,{className:"w-5 h-5 text-white"}),color:"bg-purple-500",title:t("reg_step_3_title","   ()"),desc:t("reg_step_3_desc","      .")})]}),i.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-xl text-xs text-gray-500 dark:text-gray-400",children:t("reg_guide_warning","*          .")})]})]})},yw=({step:t,icon:e,color:r,title:n,desc:a})=>i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full ${r} flex items-center justify-center shrink-0 z-10 shadow-md`,children:i.jsx("span",{className:"font-bold text-white font-mono",children:t})}),i.jsx("div",{className:"w-0.5 h-full bg-gray-200 dark:bg-gray-700 -mt-1 -mb-6"})]}),i.jsxs("div",{className:"pb-6",children:[i.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1",children:n}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a})]})]}),bHe=({user:t,onBack:e})=>{const[r,n]=x.useState(null),[a,s]=x.useState(""),[l,u]=x.useState(!0);Dr.useEffect(()=>{T(null,null,function*(){try{const p=yield oe.getVersionPolicy(),y=/iPhone|iPad|iPod/i.test(navigator.userAgent)?p.ios:p.android;n(y.latestVersion),s(y.storeUrl)}catch(p){console.error("Failed to check version",p)}finally{u(!1)}})},[]);const d=r&&r!==ih,h=/iPhone|iPad|iPod/i.test(navigator.userAgent);return i.jsxs(yo,{className:"p-0 pb-20 relative bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center gap-4 sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700 shadow-sm",children:[i.jsx("button",{onClick:e,className:"p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(ao,{className:"w-6 h-6 rotate-180"})}),i.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"flex flex-col items-center py-8",children:[i.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-4 mb-4 flex items-center justify-center ring-1 ring-gray-100 dark:ring-gray-700",children:i.jsx("img",{src:"/images/app/ddong-icon.png",alt:"Logo",className:"w-full h-full object-contain"})}),i.jsx("h2",{className:"text-2xl font-black text-primary mb-1",children:""}),i.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:[" : ",ih]}),!l&&!d&&i.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:""})]}),!l&&d&&i.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("span",{className:"text-xs font-bold text-primary",children:[" (",r,") "]}),i.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:`px-4 py-2 rounded-full font-bold text-sm text-white shadow-lg active:scale-95 transition-all flex items-center gap-2 ${h?"bg-black hover:bg-gray-800":"bg-[#00897B] hover:bg-[#00796B]"}`,children:[h?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/67/App_Store_%28iOS%29.svg",className:"w-4 h-4 invert",alt:"Apple"}),i.jsx("span",{children:"App Store"})]}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/d0/Google_Play_Arrow_logo.svg",className:"w-4 h-4",alt:"Play Store"}),i.jsx("span",{children:"Google Play"})]}),i.jsx("span",{children:""})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(Vp,{className:"w-5 h-5 text-primary"}),"  (",MFe,")"]}),i.jsx("ul",{className:"space-y-3",children:UFe.map((m,p)=>i.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600 dark:text-gray-300",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-1.5 shrink-0"}),m]},p))})]}),i.jsxs("div",{className:"text-center text-xs text-gray-400 py-4",children:[" ",new Date().getFullYear()," ",qFe.name,". All rights reserved."]})]})]})},yHe=({onBack:t,darkMode:e,onToggleDarkMode:r})=>{const{t:n,i18n:a}=nn(),s=m=>{a.changeLanguage(m)},l=[{code:"ko",label:""},{code:"en",label:"English"},{code:"ja",label:""},{code:"zh",label:""}],u=m=>a.language.startsWith(m),[d,h]=Dr.useState(!0);return Dr.useEffect(()=>{h(!0)},[]),i.jsxs(yo,{className:"p-0 pb-20 relative bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center gap-4 sticky top-0 z-20 border-b border-gray-100 dark:border-gray-700",children:[i.jsx("button",{onClick:t,className:"p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(ki,{className:"w-6 h-6"})}),i.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-white",children:n("settings","")})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-sm font-bold text-gray-500 mb-2 px-2 uppercase tracking-wider",children:n("theme","")}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e?"bg-gray-700 text-yellow-400":"bg-orange-100 text-orange-500"}`,children:e?i.jsx(Rje,{className:"w-5 h-5"}):i.jsx(nNe,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:e?n("dark_mode"," "):n("light_mode"," ")}),i.jsx("div",{className:"text-xs text-gray-500",children:n("theme_description","  ")})]})]}),i.jsx("button",{onClick:r,className:`relative w-14 h-8 rounded-full transition-colors duration-300 ${e?"bg-indigo-500":"bg-gray-300"}`,children:i.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${e?"translate-x-6":"translate-x-0"}`})})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-sm font-bold text-gray-500 mb-2 px-2 uppercase tracking-wider",children:n("language","")}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-700 divide-y divide-gray-50 dark:divide-gray-700",children:l.map(m=>i.jsxs("button",{onClick:()=>s(m.code),className:"w-full px-5 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors text-left",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:m.code==="ko"?"":m.code==="en"?"":m.code==="ja"?"":""}),i.jsx("span",{className:`font-medium ${u(m.code)?"text-primary":"text-gray-700 dark:text-gray-300"}`,children:m.label})]}),u(m.code)&&i.jsx(fs,{className:"w-5 h-5 text-primary"})]},m.code))})]})]})]})};function _He(){var vt;const{t}=nn(),[e,r]=x.useState(g3),[n,a]=x.useState({lat:37.5048,lng:127.0884}),[s,l]=x.useState([]),[u,d]=x.useState([]),[h,m]=x.useState({}),[p,b]=x.useState({show:!1,toilets:[]}),[y,_]=x.useState(null),[w,j]=x.useState(!1),[k,E]=x.useState(null),[S,P]=x.useState(""),[C,I]=x.useState(!1),[$,B]=x.useState(()=>localStorage.getItem("darkMode")==="true"),[H,se]=x.useState(!1),[D,R]=x.useState(!1),[L,V]=x.useState({show:!1,title:"",body:""}),[Z,U]=x.useState(!1),[K,W]=x.useState({show:!1,type:"optional",storeUrl:"",message:""}),[X,Q]=x.useState(!1),M=()=>{B(ne=>{const xe=!ne;return localStorage.setItem("darkMode",String(xe)),xe})};x.useEffect(()=>{if(!sessionStorage.getItem("has_visited_session")){const xe=navigator.userAgent.toLowerCase();let Se="desktop";/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(xe)?Se="tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(xe)&&(Se="mobile"),oe.recordVisit(Se).catch(console.error),sessionStorage.setItem("has_visited_session","true"),console.log(" Visit Recorded:",Se)}Y0.initialize().catch(xe=>console.error("Notification Service Init Failed",xe))},[]),x.useEffect(()=>{const ne=new URLSearchParams(window.location.search).get("ref");ne&&(sessionStorage.setItem("referral_code",ne),console.log(" Referral code captured:",ne))},[]),x.useEffect(()=>{T(null,null,function*(){try{if(en.getPlatform()==="web")return;const xe=yield oe.getVersionPolicy(),De=(yield Ag.getInfo()).version,Me=en.getPlatform()==="ios"?"ios":"android",ye=xe[Me];if(W3(ye.minVersion,De)>0){W({show:!0,type:"force",storeUrl:ye.storeUrl,message:ye.updateMessage||"  ."});return}if(W3(ye.latestVersion,De)>0){const ze=localStorage.getItem("update_skipped_date"),He=new Date().toISOString().split("T")[0];ze!==He&&W({show:!0,type:"optional",storeUrl:ye.storeUrl,message:ye.updateMessage||"  ."})}}catch(xe){console.error("Version check failed",xe)}})},[]),x.useEffect(()=>{if(!e.id)return;const ne=oe.supabase.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},xe=>{console.log(" Realtime Notification Received:",xe);const Se=xe.new;V({show:!0,title:Se.title,body:Se.message,data:Se.data}),setTimeout(()=>{V(De=>De.show?je(J({},De),{show:!1}):De)},5e3)}).subscribe(xe=>{});return()=>{oe.supabase.removeChannel(ne)}},[e.id]);const G=()=>T(null,null,function*(){if(en.getPlatform()!=="web")try{console.log("[NativeInit] 1. Requesting Location Permission..."),yield Yi.requestPermissions(),console.log("[NativeInit] Waiting 1s before Push Permission..."),yield new Promise(xe=>setTimeout(xe,1e3)),console.log("[NativeInit] 2. Requesting Push Permission..."),(yield nc.requestPermissions()).receive==="granted"&&(console.log("[NativeInit] Push Granted. Registering..."),yield nc.register()),console.log("[NativeInit] 3. Starting Private Service Init..."),yield Y0.initialize(),setTimeout(()=>{q()},500)}catch(ne){console.error("[NativeInit] Failed:",ne)}}),q=()=>{we(ne=>ne+1)};x.useEffect(()=>{if(en.getPlatform()!=="web")return G(),nc.addListener("registration",ne=>T(null,null,function*(){console.log("Push Token:",ne.value),localStorage.setItem("push_token",ne.value);const xe=yield oe.getCurrentUser();xe&&(yield oe.updateUserPushToken(xe.id,ne.value),console.log(" Token synced to DB for user:",xe.id))})),nc.addListener("registrationError",ne=>{console.error("Push Registration Error:",ne)}),nc.addListener("pushNotificationReceived",ne=>{console.log("Push Received:",ne),V({show:!0,title:ne.title||"",body:ne.body||"",data:ne.data}),setTimeout(()=>{V(xe=>xe.show?je(J({},xe),{show:!1}):xe)},5e3)}),nc.addListener("pushNotificationActionPerformed",ne=>{console.log("Push Action:",ne);const xe=ne.notification.data;xe!=null&&xe.toiletId?window.location.hash=`#/toilet/${xe.toiletId}`:window.location.hash="#/notifications"}),()=>{nc.removeAllListeners()}},[]),x.useEffect(()=>{T(null,null,function*(){const xe=localStorage.getItem("push_token");e.id&&e.role!==Be.GUEST&&xe&&(e.pushToken!==xe?(console.log(`[App] Syncing push token for user ${e.id}...`),yield oe.savePushToken(e.id,xe),console.log(" Push Token Sync Attempt Finished")):console.log("[App] Push token matches, skipping sync."))})},[e.id,e.pushToken]),x.useEffect(()=>{T(null,null,function*(){const xe=localStorage.getItem("currentUser");if(xe){const Se=JSON.parse(xe);r(Se);try{yield Promise.all([oe.getAdConfig(),T(null,null,function*(){const De=yield oe.getUserByEmail(Se.email);De&&(r(De),localStorage.setItem("currentUser",JSON.stringify(De)))})])}catch(De){console.error("Failed to pre-warm app data:",De)}}else oe.getAdConfig().catch(()=>{})})},[]),x.useEffect(()=>{if(e.id){const ne=localStorage.getItem(`unlockedToilets_${e.id}`);m(ne?JSON.parse(ne):{})}else m({})},[e.id]);const ae=(ne,xe,Se=!1)=>T(null,null,function*(){const De=s.find(He=>He.id===ne),Me=(De==null?void 0:De.createdBy)===e.id;if(e.role===Be.ADMIN||e.role===Be.VIP||Me){m(He=>{const lt=je(J({},He),{[ne]:Date.now()+864e5});return localStorage.setItem(`unlockedToilets_${e.id}`,JSON.stringify(lt)),lt});return}if(xe==="credit"){let He=1;try{He=(yield oe.getCreditPolicy()).unlockCost}catch(lt){console.error("Failed to fetch policy, using default",lt)}if(console.log(" Unlocking via Credit:",{currentCredits:e.credits,cost:He}),e.credits>=He){const lt=je(J({},e),{credits:e.credits-He});r(lt),oe.deductUnlockCost(e.id,ne,He).then(Ut=>{Ut||console.error("Failed to deduct credits on server")}),oe.processUnlockReward(ne,e.id)}else{console.warn(" Insufficient credits detected in handleUnlock",{currentCredits:e.credits,cost:He}),Gt("unlock"),Le(ne),jt(!0);return}}else if(xe==="ad"&&!Se){Gt("unlock"),Le(ne),jt(!0);return}const ze=Date.now()+1440*60*1e3;m(He=>{const lt=je(J({},He),{[ne]:ze});return localStorage.setItem(`unlockedToilets_${e.id} `,JSON.stringify(lt)),lt})}),[ie,be]=x.useState(new Set),[te,he]=x.useState(window.location.hash||"#/"),[Y,we]=x.useState(0),[Ce,ce]=x.useState(!1),[ue,Ie]=x.useState(!1),[Ve,Ze]=x.useState(!1),[ve,Re]=x.useState(null),[bt,hr]=x.useState(!1),[Ir,Mn]=x.useState([]),[Wr,St]=x.useState(!0),[yr,an]=x.useState(!1),[Zt,jt]=x.useState(!1),[Yr,Gt]=x.useState("credit"),[bn,sn]=x.useState(0),yn=x.useRef(Date.now());x.useEffect(()=>{const ne=Date.now();ne-yn.current>3e4&&(sn(xe=>xe+1),yn.current=ne)},[te]);const[Ht,Le]=x.useState(null),[Ae,We]=x.useState(!1),[Oe,Ue]=x.useState(!1),[Fe,ot]=x.useState(!1);x.useEffect(()=>{yc.showBottomBanner()},[te]);const[_t,Et]=x.useState({show:!1,amount:0}),[mt,Pt]=x.useState(null),_r=ne=>{Pt(()=>ne),Gt("custom"),jt(!0)},Kt=()=>T(null,null,function*(){if(mt)mt(),Pt(null),jt(!1);else if(Yr==="credit")jt(!1),T(null,null,function*(){try{const xe=(yield oe.getCreditPolicy()).adView;yield Promise.all([oe.updateUserCredits(e.id,xe),oe.logCreditTransaction(e.id,xe,"ad_view","none",void 0,"  "),oe.recordAdView("charge")]);const Se=je(J({},e),{credits:(e.credits||0)+xe});r(Se),Et({show:!0,amount:xe})}catch(ne){console.error("Ad Credit Reward Failed",ne)}});else if(Yr==="unlock"&&Ht){const ne=Ht;ae(ne,"ad",!0),jt(!1),Le(null),T(null,null,function*(){try{const xe=yield oe.getCreditPolicy(),Se=xe.adView,De=xe.unlockCost,Me=Se-De,ye=[oe.logCreditTransaction(e.id,Se,"ad_view","toilet",ne,"  "),oe.logCreditTransaction(e.id,-De,"toilet_unlock","toilet",ne,"  ( )"),oe.processUnlockReward(ne,e.id),oe.recordAdView("unlock")];Me!==0&&(ye.push(oe.updateUserCredits(e.id,Me)),r(ze=>je(J({},ze),{credits:(ze.credits||0)+Me}))),yield Promise.all(ye),console.log(" Ad Unlock DB Sync Complete")}catch(xe){console.error("Ad Unlock Flow Failed in Background",xe)}})}else jt(!1),Le(null)});x.useEffect(()=>{let ne=null;const xe=()=>T(null,null,function*(){try{const Me=yield Yi.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:0});a({lat:Me.coords.latitude,lng:Me.coords.longitude}),mp(Me.coords.latitude,Me.coords.longitude),console.log(" Baseline location acquired"),ne=yield Yi.watchPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},(ye,ze)=>{ye&&(a({lat:ye.coords.latitude,lng:ye.coords.longitude}),mp(ye.coords.latitude,ye.coords.longitude)),ze&&console.warn(" watchPosition error:",ze)})}catch(Me){console.error("Failed to start location tracking:",Me)}}),Se=Me=>T(null,null,function*(){if(Me.isActive){console.log(" App Resumed: Refreshing location...");try{const ye=yield Yi.getCurrentPosition({enableHighAccuracy:!0,timeout:5e3,maximumAge:0});a({lat:ye.coords.latitude,lng:ye.coords.longitude}),mp(ye.coords.latitude,ye.coords.longitude)}catch(ye){console.warn("Failed to refresh location on resume:",ye)}}}),De=Ag.addListener("appStateChange",Se);return en.getPlatform()!=="web"&&xe(),()=>{ne&&Yi.clearWatch({id:ne}),De.then(Me=>Me.remove())}},[]),x.useEffect(()=>{let ne=!0;const xe=2e3,Se=1e4,De=Date.now(),Me=()=>{if(!ne)return;const He=Date.now()-De,lt=Math.max(0,xe-He);setTimeout(()=>{ne&&St(!1)},lt)},ye=()=>T(null,null,function*(){const He=iHe();He&&(a({lat:He.lat,lng:He.lng}),Me());try{const lt=yield Yi.getCurrentPosition({enableHighAccuracy:!0,timeout:8e3,maximumAge:0});if(!ne)return;a({lat:lt.coords.latitude,lng:lt.coords.longitude}),mp(lt.coords.latitude,lt.coords.longitude),He||Me()}catch(lt){console.warn(` GPS Failed during init: ${lt.message}`);const Ut=g7();Ut&&a({lat:Ut.lat,lng:Ut.lng}),Me()}});(en.getPlatform()==="web"||Y>0)&&ye();const ze=setTimeout(()=>{ne&&Wr&&Me()},Se);return()=>{ne=!1,clearTimeout(ze)}},[Y]),x.useEffect(()=>{T(null,null,function*(){const xe=localStorage.getItem("currentUser");if(xe)try{const Se=JSON.parse(xe),De=yield oe.getUserById(Se.id);De?(r(De),De.id&&oe.getBookmarks(De.id).then(Me=>be(new Set(Me))),console.log("Session restored:",De.email)):localStorage.removeItem("currentUser")}catch(Se){localStorage.removeItem("currentUser")}})},[]),x.useEffect(()=>{var ne;e.id&&(console.log(`[App] Checking notices for ${e.id}...count: ${((ne=e.loginNotices)==null?void 0:ne.length)||0} `),e.loginNotices&&e.loginNotices.length>0&&(console.log("[App] Triggering Notice Modal",e.loginNotices),Ue(!0)))},[e.loginNotices,e.id]);const Xr=ne=>{r(ne),(!ne.loginNotices||ne.loginNotices.length===0)&&Ue(!1)};x.useEffect(()=>{T(null,null,function*(){const xe=new URLSearchParams(window.location.search),Se=xe.get("code"),De=xe.get("state"),Me=sessionStorage.getItem("naver_state");if(!window.naverLoginProcessing&&Se&&De){if(window.naverLoginProcessing=!0,De===Me){const ye=`naver_user_${Se.substring(0,5)} @naver.com`;let ze=yield oe.getUserByEmail(ye);if(ze){if(ze.status==="banned"){Ie(!0),window.naverLoginProcessing=!1;return}ze.status===As.WITHDRAWN&&(console.log(" Reactivating withdrawn user (Naver):",ye),ze.status=As.ACTIVE,ze.deletedAt=void 0,ze.withdrawalReason=void 0,yield oe.saveUser(ze),alert(" . !")),console.log(" Welcome back (Naver):",ye),r(ze),localStorage.setItem("currentUser",JSON.stringify(ze)),window.history.replaceState({},document.title,window.location.pathname),sessionStorage.removeItem("naver_state"),window.location.reload()}else{const He={id:"naver_"+Date.now(),email:ye,gender:ft.MALE,role:Be.USER,credits:50,signupProvider:"naver"};Re(He),Ze(!0),window.history.replaceState({},document.title,window.location.pathname),sessionStorage.removeItem("naver_state")}}setTimeout(()=>{window.naverLoginProcessing=!1},1e3)}})},[]);const on=x.useCallback((ne,xe,Se)=>T(null,null,function*(){j(!0);try{const Me=(yield oe.getToiletsInRadius(ne,xe,Se)).map(ye=>je(J({},ye),{distance:cd(ne,xe,ye.lat,ye.lng)})).sort((ye,ze)=>(ye.distance||0)-(ze.distance||0));l(Me)}catch(De){console.error("Failed to fetch toilets:",De)}finally{j(!1)}}),[n]),gt=x.useRef(!1);x.useEffect(()=>{T(null,null,function*(){const xe=n.lat!==0&&n.lng!==0,Se=Y>0||xe&&!gt.current;if(console.log(" loadData Check:",{validLoc:xe,trigger:Y,initialDone:gt.current,shouldFetch:Se}),Se){xe&&!gt.current&&(gt.current=!0);const De=xe?on(n.lat,n.lng,2):on(37.5665,126.978,2),Me=T(null,null,function*(){try{if(e.id&&e.role!==Be.GUEST&&e.id!=="guest"){const ze=(yield oe.getUsers()).find(lt=>lt.id===e.id);ze&&r(J({},ze));const He=yield oe.getBookmarks(e.id);be(new Set(He))}}catch(ye){console.error("User sync failed in loadData:",ye)}});yield Promise.all([De,Me])}})},[n,Y,on]),x.useEffect(()=>{const ne=()=>{const Se=window.location.hash||"#/";he(Se)};ne(),window.addEventListener("hashchange",ne);const xe=Se=>{var De;if((De=Se.state)!=null&&De.fromAdmin){const Me=window.location.hash;Me.startsWith("#/admin")&&he(Me)}};return window.addEventListener("popstate",xe),()=>{window.removeEventListener("hashchange",ne),window.removeEventListener("popstate",xe)}},[]),x.useEffect(()=>{const ne=e.role===Be.ADMIN||e.role===Be.VIP,xe=e.role===Be.GUEST,Se=s.filter(De=>De.createdBy===e.id||ne?!0:xe?!De.isPrivate:De.isPrivate?!1:De.genderType===ft.UNISEX||De.genderType===e.gender);Se.sort((De,Me)=>(De.distance||0)-(Me.distance||0)),d(Se)},[s,e.gender,e.id,e.role]);const It=ne=>{const xe=e.role===Be.GUEST;if(xe){const Me=ne.creatorRole===Be.ADMIN||ne.creatorRole===Be.VIP;if(!((ne.source==="admin"||ne.createdBy==="admin"||Me)&&!ne.hasPassword)){U(!0);return}}const Se=e.role===Be.ADMIN||e.role===Be.VIP,De=s.filter(Me=>Me.address!==ne.address||cd(ne.lat,ne.lng,Me.lat,Me.lng)>.03?!1:Me.createdBy===e.id||Se?!0:xe?!Me.isPrivate:Me.isPrivate?!1:Me.genderType===ft.UNISEX||Me.genderType===e.gender);De.length>1?b({show:!0,toilets:De}):window.location.hash=`#/toilet/${ne.id}`},Jt=(ne,xe)=>T(null,null,function*(){const Se=ie.has(ne);if(be(De=>{const Me=new Set(De);return Me.has(ne)?Me.delete(ne):Me.add(ne),Me}),e.id&&e.role!==Be.GUEST)try{const De=yield oe.toggleBookmark(e.id,ne);De!==!Se&&be(Me=>{const ye=new Set(Me);return De?ye.add(ne):ye.delete(ne),ye})}catch(De){console.error("Failed to sync bookmark:",De),be(Me=>{const ye=new Set(Me);return Se?ye.add(ne):ye.delete(ne),ye})}}),Aa=()=>T(null,null,function*(){ce(!0);try{try{const{GoogleAuth:ne}=yield Ni(()=>T(null,null,function*(){const{GoogleAuth:Se}=yield import("./index-MIe2ncgo.js");return{GoogleAuth:Se}}),[],import.meta.url);yield ne.initialize();const xe=yield ne.signIn();if(console.log("Google Login Success:",xe),xe){const Se=xe.email,De=xe.name||xe.givenName||"Google User",Me=xe.id;let ye=yield oe.getUserByEmail(Se);if(ye){if(ye.status==="banned"){Ie(!0),ce(!1);return}ye.status===As.WITHDRAWN&&(ye.status=As.ACTIVE,ye.deletedAt=void 0,ye.withdrawalReason=void 0,yield oe.saveUser(ye),alert(" .")),r(ye),localStorage.setItem("currentUser",JSON.stringify(ye)),U(!1),window.location.hash="#/",window.location.reload()}else{const ze={id:Me||"google_"+Date.now(),email:Se,nickname:De,gender:ft.MALE,role:Be.USER,credits:50,signupProvider:"google"};Re(ze),U(!1),Ze(!0)}}else console.error("Google Auth credentials missing")}catch(ne){console.error("Google Login Failed:",ne);let xe=` Google  

`;ne.message&&(xe+=`Message: ${ne.message}
`),ne.code&&(xe+=`Code: ${ne.code}
`),xe+=`
: ${JSON.stringify(ne)}`,alert(xe)}finally{ce(!1)}}catch(ne){console.error("Google login initialization error:",ne),ce(!1),alert("  ")}}),sa=()=>T(null,null,function*(){var ne,xe,Se,De,Me;try{if(ce(!0),en.isNativePlatform()){console.log("=== STEP 1:   (Native)  ===");const ye=yield i1e.login();console.log("=== STEP 2:   ==="),console.log("Naver login result:",JSON.stringify(ye));const ze=(Se=(xe=(ne=ye==null?void 0:ye.accessToken)==null?void 0:ne.accessToken)!=null?xe:ye==null?void 0:ye.accessToken)!=null?Se:ye==null?void 0:ye.access_token;if(console.log("=== STEP 3:   ==="),console.log("Access Token:",ze?`${ze.substring(0,20)}...`:"NULL"),ze){console.log("=== STEP 4:  API   ===");const He=yield Fxe.request({url:"https://openapi.naver.com/v1/nid/me",method:"GET",headers:{Authorization:`Bearer ${ze}`}});console.log("=== STEP 5:  API   ==="),console.log("Response Status:",He.status);const lt=He.data;if(console.log("=== STEP 6:    ==="),console.log("Profile Data:",JSON.stringify(lt)),lt.resultcode==="00"){const{email:Ut,name:Ur,id:qr,gender:ia}=lt.response;if(!Ut){alert("  .   .");return}let Tn=yield oe.getUserByEmail(Ut);if(Tn){if(Tn.status==="banned"){Ie(!0),ce(!1);return}Tn.status===As.WITHDRAWN&&(Tn.status=As.ACTIVE,Tn.deletedAt=void 0,yield oe.saveUser(Tn),alert(" .")),r(Tn),localStorage.setItem("currentUser",JSON.stringify(Tn)),U(!1),window.location.hash="#/"}else{const Gs={id:"naver_"+qr,email:Ut,nickname:Ur||"Naver User",gender:ia==="M"?ft.MALE:ia==="F"?ft.FEMALE:ft.UNISEX,role:Be.USER,credits:50,signupProvider:"naver"};Re(Gs),U(!1),Ze(!0)}}else alert(`    .
`+JSON.stringify(lt))}else alert(`    ( ):
`+JSON.stringify(ye))}else alert("  ()  .     ."),ce(!1)}catch(ye){if(console.error("=== NAVER LOGIN FULL ERROR ==="),console.error("Type:",typeof ye),console.error("Constructor:",(De=ye==null?void 0:ye.constructor)==null?void 0:De.name),console.error("Keys:",Object.keys(ye)),console.error("Message:",ye==null?void 0:ye.message),console.error("Code:",ye==null?void 0:ye.code),console.error("Stack:",ye==null?void 0:ye.stack),console.error("Raw:",ye),(ye==null?void 0:ye.message)==="user_cancel"||(ye==null?void 0:ye.code)==="-1"||(ye==null?void 0:ye.code)===-1)console.log("Naver login cancelled by user.");else{let He=`  

`;ye!=null&&ye.message&&(He+=`Message: ${ye.message}
`),ye!=null&&ye.code&&(He+=`Code: ${ye.code}
`),(Me=ye==null?void 0:ye.constructor)!=null&&Me.name&&ye.constructor.name!=="Object"&&(He+=`Type: ${ye.constructor.name}
`);const lt=JSON.stringify(ye,Object.getOwnPropertyNames(ye),2);He+=`
:
${lt}`,alert(He)}ce(!1)}finally{en.isNativePlatform()&&ce(!1)}}),ar=()=>T(null,null,function*(){var ne,xe,Se,De,Me,ye;try{if(ce(!0),en.isNativePlatform()){const ze=yield V3.goLogin();console.log("Kakao native login result:",ze);const He=yield V3.getUserInfo();console.log("Kakao user info:",He);const lt=((xe=(ne=He==null?void 0:He.value)==null?void 0:ne.kakaoAccount)==null?void 0:xe.email)||((Se=He==null?void 0:He.value)==null?void 0:Se.email),Ut=((Me=(De=He==null?void 0:He.value)==null?void 0:De.kakaoAccount)==null?void 0:Me.gender)||((ye=He==null?void 0:He.value)==null?void 0:ye.gender);let Ur=!1,qr=ft.MALE;if(Ut==="FEMALE"?(qr=ft.FEMALE,Ur=!0):Ut==="MALE"&&(qr=ft.MALE,Ur=!0),!lt){alert("     ."),ce(!1);return}yield sr(lt,qr,Ur,"kakao")}else{console.log("Starting Kakao Web Login");const ze=window.Kakao;if(!ze){alert(" SDK  ."),ce(!1);return}ze.isInitialized()||ze.init(v6),ze.Auth.login({success:function(He){ze.API.request({url:"/v2/user/me",success:function(lt){return T(this,null,function*(){var Tn,Gs;console.log("Kakao Web User:",lt);const Ut=(Tn=lt.kakao_account)==null?void 0:Tn.email,Ur=(Gs=lt.kakao_account)==null?void 0:Gs.gender;let qr=!1,ia=ft.MALE;if(Ur==="female"?(ia=ft.FEMALE,qr=!0):Ur==="male"&&(ia=ft.MALE,qr=!0),!Ut){alert("  . (Kakao Web)"),ce(!1);return}yield sr(Ut,ia,qr,"kakao")})},fail:function(lt){console.error("Kakao API Error",lt),alert("    : "+JSON.stringify(lt)),ce(!1)}})},fail:function(He){console.error("Kakao Auth Error",He),alert("  : "+JSON.stringify(He)),ce(!1)}})}}catch(ze){console.error("Kakao Login Error:",ze);let He=`   

`;ze.message&&(He+=`Message: ${ze.message}
`),ze.code&&(He+=`Code: ${ze.code}
`),He+=`
: ${JSON.stringify(ze)}`,alert(He),ce(!1)}}),sr=(ne,xe,Se,De)=>T(null,null,function*(){let ye=(yield oe.getUsers()).find(ze=>ze.email===ne);if(ye){if(ye.status==="banned"){Ie(!0),ce(!1);return}ye.status===As.WITHDRAWN&&(console.log(` Reactivating withdrawn user (${De}):`,ne),ye.status=As.ACTIVE,ye.deletedAt=void 0,yield oe.saveUser(ye),alert(t("account_restored"," .")+" "+t("welcome_back","!"))),ye.nickname||(ye.nickname=ye.email.split("@")[0],yield oe.saveUser(ye)),console.log(` Welcome back (${De}):`,ne),r(ye),localStorage.setItem("currentUser",JSON.stringify(ye)),U(!1),window.location.hash="#/"}else{const ze=ne.split("@")[0],He={id:`${De}_`+Date.now(),email:ne,nickname:ze,gender:xe,role:Be.USER,credits:50,signupProvider:De};if(ne===Bp&&(He.role=Be.ADMIN,He.credits=999),!Se)Re(He),Ze(!0),U(!1);else try{yield oe.saveUser(He),yield oe.recordNewUser();const lt=sessionStorage.getItem("referral_code");if(lt)try{const Ut=atob(lt);yield oe.processReferral(Ut,He.id),sessionStorage.removeItem("referral_code"),console.log(" Referral processed for:",Ut)}catch(Ut){console.error("Referral processing failed",Ut)}console.log(` New ${De} user registered:`,ne),r(He),localStorage.setItem("currentUser",JSON.stringify(He)),U(!1),We(!0),window.location.hash="#/"}catch(lt){Ie(!0)}}ce(!1)}),Ta=()=>T(null,null,function*(){if(!S||!S.includes("@"))return;ce(!0);const ne=S.trim().toLowerCase();try{let Se=(yield oe.getUsers()).find(De=>De.email===ne);if(!Se){const De=ne.split("@")[0],Me={id:"test_"+Date.now(),email:ne,nickname:De,gender:ft.UNISEX,role:Be.USER,credits:50,signupProvider:"email_test",createdAt:new Date().toISOString()};ne===Bp&&(Me.role=Be.ADMIN,Me.credits=999),Re(Me),Ze(!0),U(!1),ce(!1);return}if(Se.status==="banned"){Ie(!0),ce(!1);return}Se.status===As.WITHDRAWN&&(Se.status=As.ACTIVE,Se.deletedAt=void 0,Se.withdrawalReason=void 0,yield oe.saveUser(Se),alert(" .")),r(Se),localStorage.setItem("currentUser",JSON.stringify(Se)),U(!1),ce(!1),window.location.hash="#/",alert(`  : ${Se.nickname}`)}catch(xe){console.error(xe),alert("   "),ce(!1)}}),Mr=(Se,...De)=>T(null,[Se,...De],function*(ne,xe=Be.USER){const Me=xe===Be.ADMIN?"admin@test.com":`test_${ne===ft.MALE?"man":"woman"}@test.com`;let ye=yield oe.getUserByEmail(Me);ye?ye=je(J({},ye),{role:xe,credits:xe===Be.ADMIN?999:50}):ye={id:`test_${xe}_${Date.now()}`,email:Me,gender:ne,role:xe,credits:xe===Be.ADMIN?999:50};try{yield oe.saveUser(ye);const ze=sessionStorage.getItem("referral_code");if(ze)try{const He=atob(ze);yield oe.processReferral(He,ye.id),sessionStorage.removeItem("referral_code"),console.log(" Referral processed (Test) for:",He)}catch(He){console.error("Referral processing failed",He)}r(ye),localStorage.setItem("currentUser",JSON.stringify(ye))}catch(ze){console.error("Test login failed:",ze),Ie(!0);return}U(!1),window.location.hash="#/"}),ir=ne=>T(null,null,function*(){if(!ve)return;ce(!0);const xe=je(J({},ve),{gender:ne});try{yield oe.saveUser(xe),oe.recordNewUser().catch(De=>console.error("Stats Error:",De));const Se=sessionStorage.getItem("referral_code");if(Se){const De=atob(Se);oe.processReferral(De,xe.id).then(()=>{sessionStorage.removeItem("referral_code"),console.log(" Referral processed (background) for:",De)}).catch(Me=>console.error("Referral processing failed",Me))}console.log(" New user registered:",xe.email,"- 50 credits awarded!"),r(xe),localStorage.setItem("currentUser",JSON.stringify(xe)),Ze(!1),Re(null),We(!0),window.location.hash="#/"}catch(Se){Ie(!0),Ze(!1),Re(null)}finally{ce(!1)}}),xr=()=>T(null,null,function*(){ce(!0);try{const ne=yield oe.getUsers();ne.sort((xe,Se)=>new Date(Se.createdAt||0).getTime()-new Date(xe.createdAt||0).getTime()),Mn(ne),hr(!0),U(!1)}catch(ne){console.error("Failed to fetch users:",ne),alert("   .")}finally{ce(!1)}}),Wt=ne=>{r(ne),localStorage.setItem("currentUser",JSON.stringify(ne)),ne.id&&oe.getBookmarks(ne.id).then(xe=>be(new Set(xe))),hr(!1),window.location.hash="#/",console.log(" Test Login:",ne.email)};x.useEffect(()=>{if(te.startsWith("#/toilet/")){const ne=te.split("/toilet/")[1];s.find(Se=>Se.id===ne)?_(null):(console.log(" Toilet not in current map view, fetching specific:",ne),oe.getToiletsByIds([ne]).then(Se=>{Se&&Se.length>0?_(Se[0]):console.log(" Failed to fetch specific toilet or not found")}))}},[te,s]);const[Nt,ga]=x.useState(!1),Rt=(()=>{if(te==="#/my")return i.jsx(tHe,{user:e,toilets:s,bookmarks:ie,onToiletClick:It,onLogout:()=>{r(g3),localStorage.removeItem("currentUser"),window.location.hash="#/"},onLoginRequest:()=>U(!0),onAdRequest:()=>{Gt("credit"),jt(!0)},onUserUpdate:r,darkMode:$,onToggleDarkMode:M,onContactModalChange:ga,onNoticeModalChange:Q});if(te==="#/submit")return i.jsx(B$,{user:e,myLocation:n,toilets:s,onUserUpdate:r,onSubmitSuccess:()=>we(Se=>Se+1),onShowLogin:()=>U(!0),darkMode:$,onMapModeChange:R});if(te.startsWith("#/edit/")){const Se=te.split("/edit/")[1];return i.jsx(B$,{user:e,editId:Se,myLocation:n,toilets:s,onUserUpdate:r,onSubmitSuccess:()=>we(De=>De+1),onShowLogin:()=>U(!0),darkMode:$,onMapModeChange:R})}if(te==="#/admin/users/withdrawn")return i.jsx(WM,{onBack:()=>window.location.hash="#/admin"});if(te.startsWith("#/admin/users/")){const Se=te.split("/users/")[1];return i.jsx(lHe,{userId:Se,onBack:()=>window.history.back()})}if(te.startsWith("#/admin")&&e.role===Be.ADMIN)return i.jsx(bFe,{user:e,setUser:r,refreshTrigger:Y,setRefreshTrigger:we});if(te==="#/terms")return i.jsx(aHe,{});if(te==="#/privacy")return i.jsx(nHe,{});if(te==="#/test/photo-reg")return i.jsx(cHe,{user:e,darkMode:$,onToggleDarkMode:M});if(te==="#/guide")return i.jsx(uHe,{user:e});if(te==="#/guide/credit")return i.jsx(gHe,{});if(te==="#/guide/registration")return i.jsx(pHe,{});if(te==="#/notifications")return i.jsx(mHe,{user:e,onRefreshUser:()=>{oe.getUserByEmail(e.email).then(Se=>Se&&r(Se))},onNoticeModalChange:Q});if(te==="#/app-info")return i.jsx(bHe,{user:e,onBack:()=>window.history.back()});if(te==="#/settings")return i.jsx(yHe,{onBack:()=>window.history.back(),darkMode:$,onToggleDarkMode:M});let ne=null,xe=null;if(te.startsWith("#/toilet")){const Se=te.split("/toilet/");if(Se.length>1){xe=Se[1];const De=s.find(Me=>Me.id===xe)||y;De?ne=i.jsx(LFe,{user:e,toilet:De,myLocation:n,bookmarks:ie,unlockedToilets:h,onBack:()=>{window.history.state||window.history.length>1?window.history.back():window.location.hash="#/"},onBookmark:Me=>Jt(Me),onUnlock:Me=>ae(De.id,Me),onShowLogin:()=>U(!0),onRefresh:()=>we(Me=>Me+1),onUserUpdate:r,darkMode:$,requestAd:_r,onModalStateChange:se}):ne=i.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/10 backdrop-blur-[1px]",children:i.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center",children:[i.jsx(ht,{className:"w-8 h-8 animate-spin text-primary mb-4"}),i.jsx("p",{children:"   ..."})]})})}}return i.jsxs(i.Fragment,{children:[i.jsx(yFe,{user:e,myLocation:n,filteredToilets:u,onToiletClick:It,onFetchNewArea:on,initialMapState:k,onMapChange:E,darkMode:$,onLoginRequired:()=>U(!0),showList:C,onToggleList:I,targetToiletId:xe||void 0,onRefreshLocation:()=>T(null,null,function*(){return q()})}),ne,L.show&&i.jsxs("div",{onClick:()=>T(null,null,function*(){var De,Me;const Se=(De=L.data)==null?void 0:De.id;if(Se)try{yield oe.deleteNotifications([Se]),oe.getUserByEmail(e.email).then(ye=>ye&&r(ye))}catch(ye){console.error("Failed to delete toast notification",ye)}(Me=L.data)!=null&&Me.toiletId?window.location.hash=`#/toilet/${L.data.toiletId}`:window.location.hash="#/notifications",V(je(J({},L),{show:!1}))}),className:"fixed top-4 left-4 right-4 z-[9999] bg-white/90 dark:bg-gray-800/90 backdrop-blur-md border border-blue-100 dark:border-blue-900/30 rounded-2xl p-4 shadow-xl shadow-blue-500/10 flex gap-3 animate-in fade-in slide-in-from-top-4 duration-300",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(so,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-gray-100 truncate",children:L.title}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-1",children:L.body})]}),i.jsx("button",{onClick:Se=>{Se.stopPropagation(),V(je(J({},L),{show:!1}))},className:"p-1 self-start text-gray-400",children:i.jsx(Xt,{className:"w-4 h-4"})})]})]})})();return x.useEffect(()=>{const ne=()=>T(null,null,function*(){if(Zt){jt(!1);return}if(Z){U(!1);return}if(Ve){Ze(!1);return}if(Ae){We(!1);return}if(Oe){Ue(!1);return}if(ue){Ie(!1);return}if(bt){hr(!1);return}if(H){se(!1);return}if(X){Q(!1),window.dispatchEvent(new CustomEvent("closeNoticeDetail"));return}if(Nt){ga(!1);return}if(D){R(!1);return}if(C){I(!1);return}if(te!==""&&te!=="#/"){window.location.hash="#/";return}ot(!0)}),xe=Ag.addListener("backButton",ne);return()=>{xe.then(Se=>Se.remove())}},[Zt,Z,Ve,Ae,Oe,ue,bt,H,Nt,D,C,te,Zt,Z,Ve,Ae,Oe,ue,bt,Fe]),i.jsx(hHe,{children:i.jsxs("div",{className:`w-full h-[100dvh] overflow-hidden flex flex-col font-sans relative ${$&&!te.startsWith("#/admin")?"dark bg-gray-900":"bg-white"}`,children:[Fe&&i.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>ot(!1)}),i.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-50 dark:bg-primary-900/30 rounded-full flex items-center justify-center mb-4",children:i.jsx(X3,{className:"w-10 h-10 text-primary-500"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("exit_modal_title"," ?")}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:t("exit_modal_desc","    .")}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>ot(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:t("exit_modal_cancel","")}),i.jsx("button",{onClick:()=>Ag.exitApp(),className:"flex-1 py-3 bg-primary-500 text-white rounded-xl font-bold hover:bg-primary-600 shadow-lg shadow-primary-500/30 transition-all hover:scale-[1.02] active:scale-95",children:t("exit_modal_confirm","")})]})]})})]}),Wr&&i.jsxs("div",{className:"fixed inset-0 z-[100] bg-gradient-to-br from-primary-400 to-primary-600 flex flex-col items-center justify-center text-white",children:[i.jsx("div",{className:"flex flex-col items-center animate-bounce-slow mb-6",children:yr?i.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 lg:w-64 lg:h-64 flex items-center justify-center",children:i.jsx(X3,{className:"w-24 h-24 md:w-36 md:h-36 lg:w-48 lg:h-48 text-primary-500"})}):i.jsx("img",{src:"/images/app/ddong-icon.png",alt:"",className:"w-32 h-32 md:w-48 md:h-48 lg:w-64 lg:h-64 object-contain drop-shadow-xl",onError:()=>an(!0)})}),i.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-black tracking-widest drop-shadow-md mb-3",children:""}),i.jsx("p",{className:"text-lg md:text-2xl font-bold opacity-90 tracking-tight",children:t("splash_subtitle"," ")}),i.jsx("div",{className:"absolute bottom-16 text-xs font-medium opacity-60",children:"Powered by Q"})]}),i.jsx("div",{className:"flex-1 w-full relative h-full",children:!Wr&&Rt}),!te.includes("admin")&&!Wr&&!Zt&&!H&&!X&&i.jsxs(i.Fragment,{children:[(te==="#/"||te===""||te.startsWith("#/toilet/")||te.startsWith("#/submit")||te.startsWith("#/edit/")||te==="#/my"||te==="#/notifications")&&i.jsx("div",{className:`fixed left-0 right-0 z-[990] flex justify-center pointer-events-none transition-all duration-300 animate-in slide-in-from-bottom-48 duration-500 ${D?"bottom-[calc(env(safe-area-inset-bottom)+10px)]":"bottom-[calc(env(safe-area-inset-bottom)+78px)]"}`,children:i.jsx("div",{className:"pointer-events-auto w-full max-w-md overflow-hidden",children:i.jsx(rb,{position:"bottom",maxHeight:74,minRatio:4,className:"w-full h-full shadow-lg",type:"BANNER"})})},bn),!D&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 h-auto bg-surface dark:bg-surface-dark border-t border-border dark:border-border-dark z-[999] flex justify-center pb-[calc(env(safe-area-inset-bottom)+8px)]",children:i.jsxs("div",{className:"w-full max-w-md flex justify-around items-center px-2",children:[i.jsxs("button",{onClick:()=>window.location.hash="#/",className:`flex flex-col items-center p-2 ${te==="#/"?"text-primary-500":"text-text-muted"}`,children:[i.jsx(gs,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-bold mt-1",children:t("nav_home","")})]}),i.jsxs("button",{onClick:()=>{te.startsWith("#/submit")||Nt||H||(e.role===Be.GUEST?U(!0):window.location.hash="#/submit")},className:`flex flex-col items-center p-2 -mt-8 relative ${e.role===Be.GUEST||te.startsWith("#/submit")||Nt||H?"cursor-not-allowed":"cursor-pointer"}`,children:[i.jsx("div",{className:`w-14 h-14 rounded-full shadow-xl flex items-center justify-center text-white ring-4 ring-gray-200 dark:ring-gray-700 transition-all ${e.role===Be.GUEST||te.startsWith("#/submit")||Nt||H?"bg-text-muted opacity-50":"bg-urgency hover:bg-urgency-500 active:scale-95"}`,children:i.jsx(_c,{className:"w-8 h-8 drop-shadow-md"})}),i.jsx("span",{className:`text-[10px] font-bold mt-2 ${e.role===Be.GUEST||te.startsWith("#/submit")||Nt||H?"text-text-muted":"text-urgency"}`,children:t("nav_register","")}),(e.role===Be.GUEST||te.startsWith("#/submit")||Nt||H)&&i.jsx("div",{className:"absolute inset-0 bg-transparent"})]}),i.jsxs("button",{onClick:()=>{e.role===Be.GUEST?U(!0):window.location.hash="#/my"},className:`flex flex-col items-center p-2 ${te==="#/my"?"text-primary-500":"text-text-muted"}`,children:[i.jsx(to,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-bold mt-1",children:t("nav_my_info"," ")})]})]})})]}),_t.show&&i.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-sm text-center transform scale-100 animate-in zoom-in-95 duration-200 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:i.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[i.jsx("circle",{cx:"20",cy:"20",r:"5",fill:"#FBBF24"}),i.jsx("circle",{cx:"80",cy:"30",r:"7",fill:"#3B82F6"}),i.jsx("rect",{x:"40",y:"60",width:"8",height:"8",fill:"#EF4444",transform:"rotate(45 44 64)"})]})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-20 h-20 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center mx-auto mb-5 ring-4 ring-yellow-50 dark:ring-yellow-900/20",children:i.jsx(tb,{className:"w-10 h-10 text-yellow-600 dark:text-yellow-500 fill-yellow-500"})}),i.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 leading-tight",children:["  !",i.jsx("br",{})," ."]}),i.jsx("div",{className:"my-6",children:i.jsxs("span",{className:"text-3xl font-black text-amber-500 flex items-center justify-center gap-1 drop-shadow-sm",children:["+",_t.amount," ",i.jsx("span",{className:"text-xl text-gray-400 font-bold",children:"Credits"})]})}),i.jsx("button",{onClick:()=>Et({show:!1,amount:0}),className:"w-full bg-[#3B82F6] hover:bg-blue-600 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-blue-500/30 active:scale-95",children:""})]})]})}),i.jsx(U6,{isOpen:Zt,onClose:()=>jt(!1),onReward:Kt,triggerType:Yr==="unlock"?"unlock":"point"}),i.jsx(vNe,{open:Ae,onClose:()=>We(!1)}),Oe&&i.jsx(z$,{user:e,onClose:Xr}),p.show&&i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-end justify-center sm:items-center p-0 sm:p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",onClick:()=>b({show:!1,toilets:[]}),children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-md rounded-t-3xl sm:rounded-2xl shadow-2xl animate-in slide-in-from-bottom-10 sm:zoom-in-95 h-[80vh] flex flex-col",onClick:ne=>ne.stopPropagation(),children:[i.jsxs("div",{className:"px-6 pt-6 pb-4 shrink-0 border-b border-border dark:border-border-dark",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-text-light",children:t("toilet_selection_title"," ")}),i.jsx("button",{onClick:()=>b({show:!1,toilets:[]}),className:"p-2 bg-background dark:bg-background-dark rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:i.jsx(Xt,{className:"w-5 h-5 text-text-muted"})})]}),i.jsx("p",{className:"text-sm text-text-muted mb-3",dangerouslySetInnerHTML:{__html:t("toilet_selection_desc","     .<br />  .")}}),i.jsxs("div",{className:"text-xs font-bold text-text-muted bg-background dark:bg-background-dark p-2 rounded-lg flex justify-between items-center",children:[i.jsxs("span",{className:"truncate",children:[" ",(vt=p.toilets[0])==null?void 0:vt.address]}),i.jsx("span",{className:"ml-2 shrink-0",children:e.role===Be.GUEST?t("anonymous",""):e.gender===ft.MALE?t("gender_male",""):e.gender===ft.FEMALE?t("gender_female",""):""})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-6 space-y-3",children:p.toilets.map(ne=>i.jsxs("button",{onClick:()=>{b({show:!1,toilets:[]}),window.location.hash=`#/toilet/${ne.id}`},className:"w-full bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm flex items-center gap-4 hover:bg-blue-50 dark:hover:bg-gray-700 hover:border-blue-200 dark:hover:border-gray-600 transition-all text-left",children:[i.jsxs("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex flex-col items-center justify-center shrink-0 border border-gray-200 dark:border-gray-600",children:[i.jsx("span",{className:"text-lg font-black text-gray-800 dark:text-gray-200",children:ne.floor}),i.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-bold",children:""})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsx("span",{className:"font-bold text-gray-900 dark:text-white truncate",children:ne.name})}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[ne.genderType==="MALE"&&i.jsx("span",{className:"text-blue-500 font-bold",children:""}),ne.genderType==="FEMALE"&&i.jsx("span",{className:"text-pink-500 font-bold",children:""}),ne.genderType==="UNISEX"&&i.jsx("span",{className:"text-purple-500 font-bold",children:""})]}),i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsxs("span",{className:"flex items-center gap-0.5 text-amber-500",children:[i.jsx($r,{className:"w-3 h-3 fill-current"}),i.jsx("span",{className:"font-bold",children:ne.ratingAvg?ne.ratingAvg.toFixed(1):"0.0"})]})]})]}),i.jsx(ao,{className:"w-5 h-5 text-gray-300"})]},ne.id))})})]})}),K.show&&i.jsx(wNe,{type:K.type,storeUrl:K.storeUrl,message:K.message,onClose:()=>{const ne=new Date().toISOString().split("T")[0];localStorage.setItem("update_skipped_date",ne),W(xe=>je(J({},xe),{show:!1}))}}),Z&&i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"relative bg-surface dark:bg-surface-dark rounded-3xl w-full max-w-sm p-6 shadow-2xl text-center space-y-4 animate-in zoom-in-95 max-h-[85vh] overflow-y-auto ring-1 ring-border/50",children:[i.jsx("button",{onClick:()=>U(!1),className:"absolute top-4 right-4 p-2 text-text-muted hover:text-text-main transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:i.jsx(Xt,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:"/images/app/ddong-icon.png",alt:"Login Icon",className:"w-24 h-24 md:w-32 md:h-32 object-contain mb-0"}),i.jsx("h2",{className:"text-2xl font-black text-primary mb-3",children:""}),i.jsx("h3",{className:"text-xl font-bold text-text-main dark:text-text-light mb-2",children:t("login_required_title"," ")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:Aa,disabled:Ce,className:"w-full py-4 bg-white border border-gray-200 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50 text-gray-800 shadow-sm transition-transform active:scale-95 overflow-hidden",children:Ce?i.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:i.jsx(ht,{className:"animate-spin w-5 h-5 text-gray-400"})}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:"https://www.google.com/favicon.ico",className:"w-5 h-5",alt:"G"}),i.jsx("span",{children:t("login_google","Google ")})]})}),i.jsxs("button",{onClick:sa,className:"w-full py-4 bg-[#03C75A] text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:opacity-90 shadow-sm transition-transform active:scale-95",children:[i.jsx("span",{className:"font-black text-lg",children:"N"})," ",t("login_naver","Naver ")]}),i.jsxs("button",{onClick:ar,className:"w-full py-4 bg-[#FEE500] text-[#000000] rounded-2xl font-bold flex items-center justify-center gap-2 hover:opacity-90 shadow-sm transition-transform active:scale-95",children:[i.jsx(Cj,{className:"w-5 h-5 fill-current"})," ",t("login_kakao","Kakao ")]}),!en.isNativePlatform()&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"  "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",value:S,onChange:ne=>P(ne.target.value),placeholder:" ",className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm border border-gray-200 dark:border-gray-700 outline-none focus:ring-2 focus:ring-primary"}),i.jsx("button",{onClick:Ta,disabled:Ce,className:"px-4 py-2 bg-gray-800 dark:bg-gray-700 text-white rounded-lg text-xs font-bold whitespace-nowrap",children:""})]})]}),i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsxs("button",{onClick:xr,className:"w-full py-3 bg-indigo-50 text-indigo-700 rounded-xl font-bold text-sm hover:bg-indigo-100 shadow-sm border border-indigo-100 transition-colors flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-xl",children:""}),"    ( )"]}),i.jsx("button",{onClick:()=>Mr(ft.MALE,Be.ADMIN),className:"w-full py-3 bg-gray-800 dark:bg-black text-white rounded-xl font-bold text-sm hover:bg-gray-900 shadow-lg border border-transparent dark:border-gray-700",children:"  "})]})]})]})]})}),ue&&i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx(Xt,{className:"w-8 h-8 text-red-600"})})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-gray-900",children:"  "}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6 leading-relaxed",children:["     ",i.jsx("br",{}),"    ."]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[i.jsx("p",{className:"text-xs text-blue-800 font-medium text-center",children:"    "}),i.jsx("p",{className:"text-sm font-bold text-blue-600 text-center mt-2",children:"qseek77@gmail.com"})]}),i.jsx("button",{onClick:()=>{Ie(!1),U(!1)},className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-colors",children:""})]})}),Ve&&ve&&i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-3xl w-full max-w-md p-8 shadow-2xl animate-in zoom-in ring-1 ring-border/50",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:i.jsx(to,{className:"w-8 h-8 text-primary"})})}),i.jsx("h3",{className:"text-xl font-bold text-center mb-2 text-text-main dark:text-text-light",children:" "}),i.jsxs("p",{className:"text-sm text-text-muted text-center mb-6 leading-relaxed",children:["     ",i.jsx("br",{})," ."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsx("button",{onClick:()=>ir(ft.MALE),disabled:Ce,className:`py-6 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl font-bold text-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex flex-col items-center gap-2 ${Ce?"opacity-70 cursor-not-allowed scale-100":""}`,children:Ce?i.jsx(ht,{className:"w-8 h-8 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-3xl",children:""}),""]})}),i.jsx("button",{onClick:()=>ir(ft.FEMALE),disabled:Ce,className:`py-6 bg-gradient-to-br from-pink-500 to-pink-600 text-white rounded-xl font-bold text-lg hover:from-pink-600 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex flex-col items-center gap-2 ${Ce?"opacity-70 cursor-not-allowed scale-100":""}`,children:Ce?i.jsx(ht,{className:"w-8 h-8 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-3xl",children:""}),""]})})]}),i.jsx("p",{className:"text-xs text-gray-400 text-center",children:"   50   "})]})}),bt&&i.jsx("div",{className:"fixed inset-0 z-[3000] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-lg shadow-2xl animate-in zoom-in ring-1 ring-border/50 flex flex-col max-h-[80vh]",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900/50 rounded-t-3xl",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx("span",{children:""}),"   "]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),i.jsx("button",{onClick:()=>{hr(!1),U(!0)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:i.jsx(Xt,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0 z-10 shadow-sm",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email / ID"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nickname"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Credits"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[Ir.map(ne=>i.jsxs("tr",{onClick:()=>Wt(ne),className:"bg-white dark:bg-gray-800 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 cursor-pointer transition-colors group",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:ne.email}),i.jsx("span",{className:"text-[10px] text-gray-400 font-normal",children:ne.role})]})}),i.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300",children:ne.nickname||"-"}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsx("span",{className:`font-bold ${ne.credits>0?"text-amber-500":"text-gray-400"}`,children:ne.credits.toLocaleString()})})]},ne.id)),Ir.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-gray-400",children:" ."})})]})]})})]})}),e.loginNotices&&e.loginNotices.length>0&&i.jsx(z$,{user:e,onClose:ne=>{r(ne)}}),L.show&&i.jsx("div",{className:"fixed top-4 left-4 right-4 z-[9999] animate-in slide-in-from-top-2 cursor-pointer",onClick:()=>T(null,null,function*(){var xe,Se;const ne=(xe=L.data)==null?void 0:xe.id;if(ne)try{yield oe.deleteNotifications([ne]),oe.getUserByEmail(e.email).then(De=>De&&r(De))}catch(De){console.error("Failed to delete toast notification",De)}(Se=L.data)!=null&&Se.toiletId?window.location.hash=`#/toilet/${L.data.toiletId}`:window.location.hash="#/notifications",V(De=>je(J({},De),{show:!1}))}),children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-4 flex items-center gap-4 border border-gray-100 dark:border-gray-700 ring-1 ring-black/5",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center shrink-0",children:i.jsx(so,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm mb-0.5",children:L.title}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed",children:L.body})]})]})})]})})}const p7=document.getElementById("root");if(!p7)throw new Error("Could not find root element to mount to");const xHe=NU.createRoot(p7);xHe.render(i.jsx(Dr.StrictMode,{children:i.jsx(_He,{})}));export{tT as A,rP as W,Ni as _,zs as r};
