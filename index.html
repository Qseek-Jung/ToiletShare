<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#ffffff">
  <title>대똥단결 - 전국 화장실 위치 & 비밀번호 공유 지도</title>




  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17808361481"></script>

  <!-- DEBUG LOGGER (Build 30): Essential for diagnosing iOS white screen -->
  <style>
    #debug-console {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 300px;
      overflow-y: scroll;
      background: rgba(0, 0, 0, 0.9);
      color: #0f0;
      font-family: monospace;
      font-size: 11px;
      z-index: 999999;
      padding: 10px;
      pointer-events: none;
      white-space: pre-wrap;
      word-break: break-all;
    }
  </style>
  <div id="debug-console" style="display:none;"></div>
  <script>
    (function () {
      // ENABLE DEBUG LOGGING
      var debugMode = false; // FORCE ENABLE

      if (debugMode) {
        // Safe alert wrapper to prevent flood
        var alertShown = false;
        function safeAlert(msg) {
          if (!alertShown) {
            alert("CRITICAL ERROR:\n" + msg);
            alertShown = true;
          }
        }
        var consoleDiv = document.getElementById('debug-console');
        consoleDiv.style.display = 'block';

        function logToScreen(msg, color) {
          try {
            var p = document.createElement('div');
            p.style.color = color || '#0f0';
            p.style.marginBottom = '4px';
            p.style.borderBottom = '1px solid #333';
            p.textContent = '[' + new Date().toLocaleTimeString() + '] ' + msg;
            if (consoleDiv) consoleDiv.prepend(p);
          } catch (e) { }
        }

        window.onerror = function (msg, url, line, col, error) {
          var extra = error && error.stack ? error.stack : '';
          var fullMsg = "ERROR: " + msg + "\n" + (url || '').split('/').pop() + ":" + line + "\n" + extra;
          logToScreen(fullMsg, '#f55');
          safeAlert(fullMsg);
          return false;
        };

        window.addEventListener('unhandledrejection', function (e) {
          var reason = e.reason ? (e.reason.message || e.reason) : 'Unknown';
          var fullMsg = "PROMISE ERROR: " + reason;
          logToScreen(fullMsg, '#f55');
          safeAlert(fullMsg);
        });

        // Capture Console
        var originalLog = console.log;
        console.log = function () {
          logToScreen("LOG: " + Array.from(arguments).join(' '), '#fff');
          if (originalLog) originalLog.apply(console, arguments);
        };

        var originalError = console.error;
        console.error = function () {
          logToScreen("ERR: " + Array.from(arguments).join(' '), '#f55');
          if (originalError) originalError.apply(console, arguments);
        };

        logToScreen("✅ Build 40 Ready. Production build!");
      }
    })();
  </script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'AW-17808361481');
  </script>

  <!-- SEO & Open Graph -->
  <meta name="description" content="급할 때 대똥단결! 내 주변 개방 화장실과 도어락 비밀번호까지!">

  <!-- Open Graph (KakaoTalk, Facebook, etc) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="전국 화장실 위치 & 비밀번호 공유 지도">
  <meta property="og:description" content="급할 때 대똥단결! 내 주변 개방 화장실과 도어락 비밀번호까지!">
  <meta property="og:image" content="https://toiletshare.pages.dev/images/app/og-image.png">
  <meta property="og:url" content="https://toiletshare.pages.dev/">
  <link rel="canonical" href="https://toiletshare.pages.dev/">
  <meta property="og:site_name" content="대똥단결">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="전국 화장실 위치 & 비밀번호 공유 지도">
  <meta name="twitter:description" content="급할 때 대똥단결! 내 주변 개방 화장실과 도어락 비밀번호까지!">
  <meta name="twitter:image" content="https://toiletshare.pages.dev/images/app/og-image.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"
    rel="stylesheet">
  <link rel="icon" href="images/app/ddong-icon.png" />
  <link rel="manifest" href="manifest.json" />
  <!-- Removed Tailwind CDN for local config -->

  <style>
    /* Hide scrollbar for clean mobile UI */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <link rel="stylesheet" href="index.css">
  <!-- Kakao SDK script removed (Using direct API via CapacitorHttp) -->
  <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js"></script>
</head>

<body class="bg-gray-100 text-gray-900">
  <div id="root"></div>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script type="module" src="index.tsx"></script>
</body>

</html>